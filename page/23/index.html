<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Larkkkkkkk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Larkkkkkkk">
<meta property="og:url" content="https://larkkkkkkk.github.io/page/23/index.html">
<meta property="og:site_name" content="Larkkkkkkk">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Larkkkkkkk">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Larkkkkkkk" type="application/atom+xml">
  
  
    <link rel="icon" href="/http://oayoilchh.bkt.clouddn.com/2016/07/27/18:05:26%20">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="img/head.jpg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Larkkkkkkk</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                        
                            <li><a  href="/archives">文章归档</a></li>
                        
                            <li><a  href="/CTFStudy">学习导航</a></li>
                        
                            <li><a  href="/PWNABLE">PWNABLE</a></li>
                        
                            <li><a  href="/resume">个人简历</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail"  target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                            
                                <a class="fl github"  target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                            
                                <a class="fl zhihu"  target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ajax/" style="font-size: 11.82px;">Ajax</a> <a href="/tags/Cookie%E5%92%8CSession/" style="font-size: 13.64px;">Cookie和Session</a> <a href="/tags/DBUtils/" style="font-size: 10.91px;">DBUtils</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">EL表达式</a> <a href="/tags/Elasticsearch/" style="font-size: 10.91px;">Elasticsearch</a> <a href="/tags/Element-Plus/" style="font-size: 10px;">Element-Plus</a> <a href="/tags/Filter/" style="font-size: 10.91px;">Filter</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTPServletReauest%E5%92%8CHTTPServletResponse/" style="font-size: 10px;">HTTPServletReauest和HTTPServletResponse</a> <a href="/tags/Hexo%E5%8D%9A%E5%AE%A2/" style="font-size: 12.73px;">Hexo博客</a> <a href="/tags/IDEA%E5%AE%89%E8%A3%85%E5%92%8C%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">IDEA安装和破解</a> <a href="/tags/JAVA/" style="font-size: 19.09px;">JAVA</a> <a href="/tags/JAVA-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-Lambda表达式</a> <a href="/tags/JAVA-Set%E9%9B%86%E5%90%88/" style="font-size: 10px;">JAVA-Set集合</a> <a href="/tags/JAVA-%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">JAVA-反射</a> <a href="/tags/JAVA-%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 11.82px;">JAVA-多线程</a> <a href="/tags/JAVA-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-正则表达式</a> <a href="/tags/JAVA-%E6%B3%9B%E5%9E%8B/" style="font-size: 10px;">JAVA-泛型</a> <a href="/tags/JAVA-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 11.82px;">JAVA-网络编程</a> <a href="/tags/JAVA-%E9%9B%86%E5%90%88/" style="font-size: 11.82px;">JAVA-集合</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0/" style="font-size: 10.91px;">JAVA练习</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">JAVA练习-动态规划</a> <a href="/tags/JQuery/" style="font-size: 12.73px;">JQuery</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Jmeter/" style="font-size: 10px;">Jmeter</a> <a href="/tags/Kafka/" style="font-size: 10px;">Kafka</a> <a href="/tags/LeetCode/" style="font-size: 16.36px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 14.55px;">Linux</a> <a href="/tags/Listener/" style="font-size: 10px;">Listener</a> <a href="/tags/Mybatis/" style="font-size: 18.18px;">Mybatis</a> <a href="/tags/MybatisPlus/" style="font-size: 10px;">MybatisPlus</a> <a href="/tags/Mysql/" style="font-size: 11.82px;">Mysql</a> <a href="/tags/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC/" style="font-size: 14.55px;">Mysql数据库和JDBC</a> <a href="/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/tags/QPS/" style="font-size: 10px;">QPS</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 10.91px;">Servlet</a> <a href="/tags/Spring/" style="font-size: 15.45px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 14.55px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 10.91px;">Vue</a> <a href="/tags/Web%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 20px;">Web前端知识点</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/Zookeeper/" style="font-size: 10px;">Zookeeper</a> <a href="/tags/cpolar/" style="font-size: 10px;">cpolar</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/flask%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">flask框架</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/jsp%E6%A0%87%E5%87%86%E6%A0%87%E7%AD%BE%E5%BA%93/" style="font-size: 10px;">jsp标准标签库</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/picture/" style="font-size: 10px;">picture</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/pytorch/" style="font-size: 10px;">pytorch</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/ssm%E6%A1%86%E6%9E%B6%E6%A8%A1%E6%9D%BF/" style="font-size: 10px;">ssm框架模板</a> <a href="/tags/wangEditor5-%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">wangEditor5-富文本编辑器</a> <a href="/tags/webserver%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">webserver编程</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 10px;">事务</a> <a href="/tags/%E4%BA%AC%E4%B8%9C/" style="font-size: 10.91px;">京东</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/" style="font-size: 10px;">加密算法</a> <a href="/tags/%E5%90%8E%E7%BC%80%E6%A0%91/" style="font-size: 10px;">后缀树</a> <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="font-size: 10px;">哈希表</a> <a href="/tags/%E5%9B%BE/" style="font-size: 10px;">图</a> <a href="/tags/%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/" style="font-size: 10px;">复杂度分析</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 10px;">大模型</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8BLangChain/" style="font-size: 10px;">大模型LangChain</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%89%8D%E7%AB%AFGradio/" style="font-size: 10px;">大模型前端Gradio</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">学生管理系统</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F2-0/" style="font-size: 11.82px;">学生管理系统2.0</a> <a href="/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" style="font-size: 10.91px;">定时任务</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 10px;">实习</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">微信小程序</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 17.27px;">微服务</a> <a href="/tags/%E6%8B%BC%E5%A4%9A%E5%A4%9A/" style="font-size: 10px;">拼多多</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 10px;">数据分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" style="font-size: 10px;">数据库连接池</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84/" style="font-size: 10px;">数据结构-稀疏数组</a> <a href="/tags/%E6%96%87%E5%AD%97%E7%AF%87-%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">文字篇-记录</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 11.82px;">机器学习</a> <a href="/tags/%E6%A0%88/" style="font-size: 10px;">栈</a> <a href="/tags/%E6%A0%91/" style="font-size: 11.82px;">树</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 10px;">注解</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 13.64px;">深度学习</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10.91px;">爬虫</a> <a href="/tags/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6/" style="font-size: 10px;">生物信息学</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" style="font-size: 11.82px;">知识图谱</a> <a href="/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E5%88%9D%E8%AF%95/" style="font-size: 11.82px;">研究生初试</a> <a href="/tags/%E7%A7%8B%E6%8B%9B/" style="font-size: 10px;">秋招</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">算法-动态规划</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%9B%9E%E6%BA%AF%E6%B3%95/" style="font-size: 10px;">算法-回溯法</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法-贪心算法</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">考研</a> <a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 12.73px;">蓝桥杯</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10.91px;">计算机网络</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%AF%BE%E8%AE%BE-%E8%BD%AF%E4%BB%B6%E4%B8%93%E4%B8%9A%E9%A2%98%E7%9B%AE/" style="font-size: 10px;">计算机网络课设(软件专业题目)</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 11.82px;">设计模式</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" style="font-size: 10px;">软件体系结构</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 10px;">递归</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 10px;">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 10px;">队列</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a> <a href="/tags/%E9%A1%B5%E9%9D%A2%EF%BC%88H5-CSS%EF%BC%89/" style="font-size: 10px;">页面（H5+CSS）</a> <a href="/tags/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0/" style="font-size: 10px;">项目上传</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://ring3.xyz/">Yllen</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://mxny.org/">麦香浓郁</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://whereisk0shl.top/">K0sh1</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.ycjcl.cc/">信鑫</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://bystudent.com/">ByStundet表哥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.jarviswang.me/">汪神_Jarvis</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sh3ll.me/">Chu</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.hackfun.org/">4ido10n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/iamstudy">L3m0n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://o0xmuhe.me/">muhe</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.nuptzj.cn/">_画船听雨</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.virzz.com/index.html">Virink</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.sqlsec.com/">国光</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bodkin.ren/">老锥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cizel.cn/">C1zel</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://1phan.cc">1phan</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.liuil.top/">liuil</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Ox9A82/">Ox9A82</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://burnegg.com/">burnegg</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://jwrsec.cn/">jwr-sec</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sudalover.cn/">苏打</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.binklac.com">VeroFess</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bendawang.site/">bendawang</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://weeklyalgo.codes/">hook</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.flier.net.cn/">Flier&#39;blog</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.mutepig.club">mutepig</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://blog.iret.xyz/list.aspx">Silver</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://simp1e.leanote.com/">Simple</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://processor.pub/">Processor</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一只淹死在二进制海洋里的二进制狗!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Larkkkkkkk</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Larkkkkkkk</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                
                    <li><a href="/archives">文章归档</a></li>
                
                    <li><a href="/CTFStudy">学习导航</a></li>
                
                    <li><a href="/PWNABLE">PWNABLE</a></li>
                
                    <li><a href="/resume">个人简历</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Cookie获取商品浏览记录" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/" class="article-date">
      <time datetime="2020-02-24T05:47:18.000Z" itemprop="datePublished">2020-02-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/">Cookie获取商品浏览记录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h1><ol>
<li>拷贝第一天html那天的资料-WEB01-将所有的文件全部拷贝到Web工程里面的WebContent里面。</li>
<li>在WebContent新建一个product_list.jsp的jsp文件，然后拷贝原来product_list.html的html标签内容替换掉jsp里面的html。<strong>(方便后面可以进行实现和消除浏览记录的操作)</strong></li>
<li>将product_info.html的手机数码的超链接改为product_list.jsp<strong>(为了能够点进去商品之后退出到刚才的很多商品列表)</strong></li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/disanbu.png" alt></p>
<ol start="4">
<li>将首页index.html里面的手机数码的跳转位置改为product_list.jsp</li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/disibu.png" alt></p>
<h1 id="二、servlet代码编写"><a href="#二、servlet代码编写" class="headerlink" title="二、servlet代码编写"></a>二、servlet代码编写</h1><ol>
<li>将商品列表里面的product_list.jsp每个class下面的herf改成<code>&lt;a href=&quot;ProductInfoServlet?id=1/2/3/4/5/6&quot;&gt;</code><strong>(其中每个ProductInfoServlet是xml注解里面url路径)</strong></li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/chuangyi.png" alt></p>
<ol start="2">
<li>去写一个关于存储浏览过哪些的页面的类：</li>
</ol>
<p><strong>由getValue获得以前的cookie的值，然后使用setValue将原来new的id和现在ids加在一起，其实就是形成1#2#3#4等这种形式，然后在浏览记录(jsp中写java代码)中要实现显示出对应的图片</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.获取以前的cookie(在19行代码已经匹配判断过)</span><br><span class="line">		String ids &#x3D; cookie.getValue();</span><br><span class="line">&#x2F;&#x2F;2.让现在浏览的商品和以前的商品形成cookie新的值  -----可以展示 1#2#4#3等等的样子表明我已经点击过哪些</span><br><span class="line">		cookie.setValue(id+&quot;#&quot;+ids);</span><br></pre></td></tr></table></figure>

<p><strong>完整的代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public class ProductInfoServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;获取当前用户准备浏览的商品ID</span><br><span class="line">		String id &#x3D; request.getParameter(&quot;id&quot;);</span><br><span class="line">		</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">		Cookie cookie &#x3D; CookieUtil.findCookie(cookies, &quot;histroy&quot;); &#x2F;&#x2F;将之前写好的匹配的代码拷贝过来(在cookie实现上次访问时间代码中)</span><br><span class="line">		</span><br><span class="line">		if(cookie &#x3D;&#x3D;null)&#x2F;&#x2F;第一次浏览</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;1.创建cookie</span><br><span class="line">				Cookie c&#x3D;new Cookie(&quot;history&quot;,id);  &#x2F;&#x2F;创建了一个名 history 值为id的cookie</span><br><span class="line">			&#x2F;&#x2F;2.将新建的cookie要响应给浏览器(客户端)</span><br><span class="line">				response.addCookie(c);</span><br><span class="line">			&#x2F;&#x2F;3.跳转到具体界面</span><br><span class="line">				response.sendRedirect(&quot;product_info.htm&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else  &#x2F;&#x2F;第二次浏览</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;1.获取以前的cookie(在19行代码已经匹配判断过)</span><br><span class="line">				String ids &#x3D; cookie.getValue();</span><br><span class="line">			&#x2F;&#x2F;2.让现在浏览的商品和以前的商品形成cookie新的值  -----可以展示 1#2#4#3等等的样子表明我已经点击过哪些</span><br><span class="line">				cookie.setValue(id+&quot;#&quot;+ids);</span><br><span class="line">			&#x2F;&#x2F;2.将新建的cookie要响应给浏览器(客户端)</span><br><span class="line">				response.addCookie(cookie);</span><br><span class="line">			&#x2F;&#x2F;3.跳转到具体界面</span><br><span class="line">				response.sendRedirect(&quot;product_info.htm&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="三、实现浏览记录"><a href="#三、实现浏览记录" class="headerlink" title="三、实现浏览记录"></a>三、实现浏览记录</h1><p><strong>介绍jsp的用法(jsp里面只能写java代码)</strong></p>
<pre><code>1.定义全局变量
    &lt;%! int a=990; %&gt;
2.定义局部变量
    &lt;%  int b=99; %&gt;
3.在jsp页面上，显示a和b的值
    &lt;%=a %&gt;
    &lt;%=b %&gt;</code></pre><p><strong>更改的位置大概在(product_list.jsp的商品浏览记录左右)：</strong></p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/liulan.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;overflow: hidden;&quot;&gt;</span><br><span class="line">				&lt;ul style&#x3D;&quot;list-style: none;&quot;&gt;	</span><br><span class="line">				&lt;%</span><br><span class="line">					Cookie[] cookie&#x3D;request.getCookies();</span><br><span class="line">					Cookie cook&#x3D;CookieUtil.findCookie(cookie,&quot;history&quot;);</span><br><span class="line">					if(cookie&#x3D;&#x3D;null)</span><br><span class="line">					&#123;</span><br><span class="line">				%&gt;</span><br><span class="line">						&lt;h2&gt;你还没有浏览商品!&lt;&#x2F;h2&gt; </span><br><span class="line">				&lt;% </span><br><span class="line">					&#125;</span><br><span class="line">					else</span><br><span class="line">					&#123;</span><br><span class="line">						String[] id&#x3D;cook.getValue().split(&quot;#&quot;);  &#x2F;&#x2F;将1#2#3#4#5 拆分成 1 2 3 4 5 </span><br><span class="line">						for(String i:id)</span><br><span class="line">						&#123;</span><br><span class="line">							%&gt;</span><br><span class="line">								&#x2F;&#x2F;后面把图片改成&lt;%&#x3D;i %&gt;形式可以弹出对应的的图片</span><br><span class="line">							   &lt;li style&#x3D;&quot;width: 150px;height: 216;float: left;margin: 0 8px 0 0;padding: 0 18px 15px;text-align: center;&quot;&gt;&lt;img src&#x3D;&quot;products&#x2F;1&#x2F;cs1000&lt;%&#x3D;i %&gt;.jpg&quot; width&#x3D;&quot;130px&quot; height&#x3D;&quot;130px&quot; &#x2F;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">							&lt;% </span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				%&gt;					</span><br><span class="line">				&lt;&#x2F;ul&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="四、清除浏览记录"><a href="#四、清除浏览记录" class="headerlink" title="四、清除浏览记录"></a>四、清除浏览记录</h1><ol>
<li><p>在刚才改实现留记录的div下面写一个标签href=”清除的那个类”(提示一行可以清除记录)</p>
</li>
<li><p>新建一个清除的类(只能通过设置MaxAge=0) </p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cookie cookie &#x3D; new Cookie(&quot;history&quot;,&quot;&quot;);</span><br><span class="line">	cookie.setMaxAge(0);    &#x2F;&#x2F;设置立即删除</span><br><span class="line">	cookie.setPath(&quot;&#x2F;CookieDemo02&quot;);</span><br><span class="line">	response.addCookie(cookie);  &#x2F;&#x2F;给客户端添加一个cookie</span><br></pre></td></tr></table></figure>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Cookie获取上次登录时间" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/" class="article-date">
      <time datetime="2020-02-24T05:46:56.000Z" itemprop="datePublished">2020-02-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/">Cookie获取上次登录时间</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Cookie获取上次登录时间"><a href="#一、Cookie获取上次登录时间" class="headerlink" title="一、Cookie获取上次登录时间#"></a>一、Cookie获取上次登录时间#</h1><p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/fenxi.png" alt></p>
<p>　　主要是由一个index.html的前端浏览器代码写出登录需要的用户密码提交按钮，然后通过servlet提交到另外一个Demo03程序(新建CookieUtil完成所有cookies和所要的cookie对比的功能)之中。</p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/kuangjia.png" alt></p>
<p>　　由Demo03先去写由request得到用户名和密码然后if判断用户名是否正确：<br>　　1.如果不正确弹出密码错误，由于输出中文需要提前写好response.setContenType那行文字编码。<br>　　2.如果是正确进入之后获取所有的cookies值，调用方法判断是不是所要的cookie，<br>　　　　2.1如果是null那么就是没有cookie需要完成的是设置一个名为last，值为当前时间的cookie，然后将它添加到客户端，输出语句。<br>　　　　2.2如果cookie存在，那就只需要输出上一次最近的访问时间。</p>
<p><strong>客户端用于写按钮的index.html代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">		&lt;form action&#x3D;&quot;Demo03&quot;&gt;</span><br><span class="line">		账号: &lt;input type&#x3D;&quot;text&quot;  name&#x3D;&quot;username&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		密码: &lt;input type&#x3D;&quot;text&quot;  name&#x3D;&quot;password&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot;  value&#x3D;&quot;登录&quot;&#x2F;&gt;&lt;br&gt;	</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>用于匹配判断是不是存在有的CookieUtil的类代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class CookieUtil &#123;</span><br><span class="line">	public static Cookie findCookie(Cookie[] cookies,String name) &#123;		</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for (Cookie cookie :cookies) </span><br><span class="line">			&#123;</span><br><span class="line">				if(name.equals(cookie.getName())) &#123; &#x2F;&#x2F;从一个cookie数组中找到具体的对象</span><br><span class="line">					return cookie;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">			return null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Demo03主要类代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public class Demo03 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;		</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;); &#x2F;&#x2F;解决中文乱码问题		</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line"></span><br><span class="line">		if(&quot;admin&quot;.equals(username)&amp;&amp;&quot;123&quot;.equals(password))</span><br><span class="line">		&#123;</span><br><span class="line">	</span><br><span class="line">			&#x2F;&#x2F;获取所有的cookie值</span><br><span class="line">			Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">			</span><br><span class="line">			Cookie cookie &#x3D; CookieUtil.findCookie(cookies, &quot;last&quot;);  &#x2F;&#x2F;在匹配的类里面去放数组找last配对的值</span><br><span class="line">			</span><br><span class="line">			if(cookie&#x3D;&#x3D;null) &#x2F;&#x2F;第一次登录    --设置一个cookie--然后设置有效期--添加到客户端</span><br><span class="line">			&#123;</span><br><span class="line">				Cookie c&#x3D;new Cookie(&quot;last&quot;,System.currentTimeMillis()+&quot;&quot;); &#x2F;&#x2F;因为一会在数组找last那个      value写当前时间戳</span><br><span class="line">				c.setMaxAge(60*60); &#x2F;&#x2F;设置cookie有效值(1小时)</span><br><span class="line">				response.addCookie(c);</span><br><span class="line">				response.getWriter().write(&quot;欢迎您&quot;+username); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">			&#125;</span><br><span class="line">			else &#x2F;&#x2F;第二次登陆 已经有了cookie   --输出cookie值</span><br><span class="line">			&#123;</span><br><span class="line">				&#x2F;&#x2F;1.取之前的cookie值</span><br><span class="line">				Long lastVisitTime &#x3D; Long.parseLong(cookie.getValue()); &#x2F;&#x2F;转成long型</span><br><span class="line">				&#x2F;&#x2F;2.输出到界面</span><br><span class="line">				response.getWriter().write(&quot;欢迎您&quot;+username+&quot;,上次来访时间是:&quot;+new Date(lastVisitTime)); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">				&#x2F;&#x2F;3.重置时间</span><br><span class="line">				cookie.setValue(System.currentTimeMillis()+&quot;&quot;);  &#x2F;&#x2F;使用时间戳</span><br><span class="line">				response.addCookie(cookie);</span><br><span class="line">			&#125;</span><br><span class="line">					</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			response.getWriter().write(&quot;登陆失败!请退出重新输入!&quot;); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>用户admin和密码123第一次进入是欢迎界面，第二次界面为弹出上次登录时间：</strong></p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/dierci.png" alt></p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Session" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/23/Session/" class="article-date">
      <time datetime="2020-02-23T07:00:55.000Z" itemprop="datePublished">2020-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/23/Session/">Session</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Session-会话-以及常用的API方法"><a href="#一、Session-会话-以及常用的API方法" class="headerlink" title="一、Session(会话)以及常用的API方法"></a>一、Session(会话)以及常用的API方法</h1><blockquote>
<p>Session是基于Cookie的一种<strong>会话机制</strong>。数据存放在<strong>服务器端。</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">HttpSession session &#x3D; request.getSession(); &#x2F;&#x2F;和Cookie一样由request调用得到</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;得到会话的ID</span><br><span class="line">			String id &#x3D; session.getId();</span><br><span class="line">		</span><br><span class="line">			&#x2F;&#x2F;存值</span><br><span class="line">			            session.setAttribute(name, value); &#x2F;&#x2F;设置值</span><br><span class="line">		</span><br><span class="line">			&#x2F;&#x2F;取值</span><br><span class="line">			            session.getAttribute(name); </span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;移除值</span><br><span class="line">			    		session.removeAttribute(name);</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="二、Session简单使用"><a href="#二、Session简单使用" class="headerlink" title="二、Session简单使用"></a>二、Session简单使用</h1><ul>
<li><p><strong>创建</strong></p>
<blockquote>
<p>如果有在servlet里面调用了 request.getSession()</p>
</blockquote>
</li>
<li><p><strong>销毁</strong></p>
</li>
</ul>
<blockquote>
<p>session是存放在服务器的内存中的一份数据，当然可以持久化，Redis。即使关闭浏览器也不会销毁</p>
<ol>
<li>关闭服务器</li>
<li>session会话时间过期(默认有效期：30分钟)</li>
</ol>
</blockquote>
<p><strong>举例:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package Servlet;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;使用字节流&#x2F;字符流需要使用文字编码</span><br><span class="line">			response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;使用session的getId()获得id</span><br><span class="line">			String sessionid &#x3D; request.getSession().getId();</span><br><span class="line">			System.out.println(&quot;sessionid&#x3D;&quot;+sessionid);&#x2F;&#x2F;JAVA的控制台输出</span><br><span class="line"></span><br><span class="line">			response.getWriter().write(&quot;收到请求了!&quot;); &#x2F;&#x2F;浏览器输出</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Cookie" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/23/Cookie/" class="article-date">
      <time datetime="2020-02-23T07:00:44.000Z" itemprop="datePublished">2020-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/23/Cookie/">Cookie</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Cookie概述"><a href="#一、Cookie概述" class="headerlink" title="一、Cookie概述"></a>一、Cookie概述</h1><blockquote>
<p>服务器给客户端并且存在客户端(浏览器)上的<strong>一份小数据</strong></p>
</blockquote>
<ul>
<li><p><strong>应用场景：</strong></p>
<blockquote>
<p>自动登录、浏览记录、浏览器</p>
</blockquote>
</li>
<li><p><strong>为什么有这个Cookie</strong></p>
<blockquote>
<p>http的请求是无状态。 客户端与服务器在通讯的时候是无状态，其实就是客户端在第二次来访的时候，服务器根本就不知道这个客户端以前有没有来访问过。 为了更好的用户体验，更好的交互 [自动登录]，其实从公司层面讲，就是为了更好的收集用户习惯[出现了大数据]。</p>
</blockquote>
</li>
</ul>
<hr>
<h1 id="二、Cookie应用"><a href="#二、Cookie应用" class="headerlink" title="二、Cookie应用"></a>二、Cookie应用</h1><h2 id="1-服务器–生成一个cookie-response-addCookie"><a href="#1-服务器–生成一个cookie-response-addCookie" class="headerlink" title="1. 服务器–生成一个cookie(response.addCookie())"></a><strong>1. 服务器–生成一个cookie(response.addCookie())</strong></h2><pre><code>主要是使用Cookie创建一个对象，然后对象调用addCookie()方法就可以添加。
第二次打开浏览器就会在http(客户端收到消息)中加一个 Set-Cookie：选项</code></pre><p><img src="/2020/02/23/Cookie/img02.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf&quot;);&#x2F;&#x2F;response添加中文的方法</span><br><span class="line"></span><br><span class="line">			Cookie cookie&#x3D;new Cookie(&quot;aa&quot;,&quot;bb&quot;);</span><br><span class="line">		&#x2F;&#x2F;给响应添加一个cookie</span><br><span class="line">			response.addCookie(cookie);</span><br><span class="line">		</span><br><span class="line">		response.getWriter().write(&quot;成功了!&quot;);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-客户端–遍历-for循环-所有的cookie-request-getCookies"><a href="#2-客户端–遍历-for循环-所有的cookie-request-getCookies" class="headerlink" title="2. 客户端–遍历(for循环)所有的cookie(request.getCookies())"></a><strong>2. 客户端–遍历(for循环)所有的cookie(request.getCookies())</strong></h2><p><strong>主要代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies &#x3D; request.getCookies();  &#x2F;&#x2F;客户端request.getCookies获取</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(Cookie c:cookies)  &#x2F;&#x2F;增强for循环输出</span><br><span class="line">			&#123;</span><br><span class="line">				String value &#x3D; c.getValue();  使用get方法获取cookie的信息</span><br><span class="line">				String name &#x3D; c.getName();</span><br><span class="line">				System.out.println(name+&quot;  &quot;+value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class Demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf&quot;);&#x2F;&#x2F;response添加中文的方法		</span><br><span class="line">		&#x2F;&#x2F;方法参数要什么就给什么</span><br><span class="line">		&#x2F;&#x2F;创建对象几种方法： 1. 直接new  2. 单例模式&#x2F;提供静态方法   3. 工厂模式构建 StuFactory StuBuilder</span><br><span class="line">		</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;aa&quot;,&quot;bb&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;服务器端给客户端添加一个cookie</span><br><span class="line">		response.addCookie(cookie);</span><br><span class="line">		</span><br><span class="line">		response.getWriter().write(&quot;成功了!&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;获取客户端带过来的cookie	</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(Cookie c:cookies)</span><br><span class="line">			&#123;</span><br><span class="line">				String value &#x3D; c.getValue();</span><br><span class="line">				String name &#x3D; c.getName();</span><br><span class="line">				System.out.println(name+&quot;  &quot;+value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-给cookie设置有效期-setMaxAge-以及指定域名打开-setDomain-和指定路径-setPath"><a href="#3-给cookie设置有效期-setMaxAge-以及指定域名打开-setDomain-和指定路径-setPath" class="headerlink" title="3. 给cookie设置有效期(setMaxAge())以及指定域名打开(setDomain)和指定路径(setPath)"></a>3. 给cookie设置有效期(setMaxAge())以及指定域名打开(setDomain)和指定路径(setPath)</h2><ul>
<li><p><strong>3.1有效期–cookie.setMaxAge()</strong></p>
<pre><code>1.一般不设置的话默认----关闭浏览器，cookie就消失
2.设置的话：
        2.1：正值：过了这个值就失效
        2.2：负值：(默认-1) 关闭浏览器，cookie就消失</code></pre></li>
</ul>
<ul>
<li><p><strong>3.2域名–cookie.setDomain(“.xxxx.com”)</strong></p>
</li>
<li><p><strong>3.3域名下的路径–cookie.setPath(“/yyy”)</strong></p>
<pre><code>两者合在一起就是给ww.xxxx.com/yyy/这个地址才可以增加cookie</code></pre></li>
</ul>
<p><strong>主要代码如下：(已经有创建了一个cookie)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;先写cookie对象</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;name&quot;,&quot;zhangsan&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;创建cookie的有限期</span><br><span class="line">			&#x2F;&#x2F;cookie的有效期没有设置的话默认是关闭浏览器就没有了</span><br><span class="line">		    &#x2F;&#x2F;正值：在这个时间后就失效</span><br><span class="line">			&#x2F;&#x2F;负值：默认-1.关闭浏览器就会失效</span><br><span class="line">		   			cookie.setMaxAge(60*60*24*7);  &#x2F;&#x2F;以秒为单位</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;设置指定域名才会带上cookie</span><br><span class="line">		   	cookie.setDomain(&quot;.larkkkkkkk.com&quot;);</span><br><span class="line">		&#x2F;&#x2F;设置访问该域名下的lark路径才会带上cookie   ----相当于 www.larkkkkkkk.com&#x2F;lark&#x2F;</span><br><span class="line">		   	cookie.setPath(&quot;&#x2F;lark&quot;);</span><br><span class="line">		   	</span><br><span class="line">		   	response.addCookie(cookie);&#x2F;&#x2F;服务器response添加一个cookie</span><br></pre></td></tr></table></figure>

<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">package Servlet;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class Demo02 extends HttpServlet &#123;</span><br><span class="line">   </span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;客户端request遍历所有cookie信息</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();  &#x2F;&#x2F;request获取所有的cookie</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for (Cookie cookie :cookies) </span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(cookie.getName()+&quot; &#x3D; &quot;+cookie.getValue());</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;先写cookie对象</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;name&quot;,&quot;zhangsan&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;创建cookie的有限期</span><br><span class="line">			&#x2F;&#x2F;cookie的有效期没有设置的话默认是关闭浏览器就没有了</span><br><span class="line">		    &#x2F;&#x2F;正值：在这个时间后就失效</span><br><span class="line">			&#x2F;&#x2F;负值：默认-1.关闭浏览器就会失效</span><br><span class="line">		   			cookie.setMaxAge(60*60*24*7);  &#x2F;&#x2F;以秒为单位</span><br><span class="line">	</span><br><span class="line">		&#x2F;&#x2F;设置指定域名才会带上cookie</span><br><span class="line">		   	cookie.setDomain(&quot;.larkkkkkkk.com&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;设置访问该域名下的lark路径才会带上cookie   ----相当于 www.larkkkkkkk.com&#x2F;lark&#x2F;</span><br><span class="line">		   	cookie.setPath(&quot;&#x2F;lark&quot;);</span><br><span class="line">		   	</span><br><span class="line">		   	response.addCookie(cookie);&#x2F;&#x2F;服务器response添加一个cookie   	</span><br><span class="line">		   			</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;cookie2对象</span><br><span class="line">		Cookie cookie2&#x3D;new Cookie(&quot;age&quot;,&quot;18&quot;);</span><br><span class="line">		response.addCookie(cookie2);&#x2F;&#x2F;服务器response添加一个cookie</span><br><span class="line">	</span><br><span class="line">			</span><br><span class="line">		response.getWriter().write(&quot;hello Cookie...&quot;); &#x2F;&#x2F;响应给浏览器展示</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/19/Linux/" class="article-date">
      <time datetime="2020-02-19T04:52:35.000Z" itemprop="datePublished">2020-02-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/19/Linux/">Linux</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="前期准备-软件安装管家下载安装步骤"><a href="#前期准备-软件安装管家下载安装步骤" class="headerlink" title="前期准备(软件安装管家下载安装步骤)"></a>前期准备(软件安装管家下载安装步骤)</h1><ol>
<li>VMware虚拟机(VMware 12)</li>
<li>CentOs 6 64位</li>
</ol>
<h1 id="linux目录结构分析"><a href="#linux目录结构分析" class="headerlink" title="linux目录结构分析"></a>linux目录结构分析</h1><ul>
<li><strong>Linux目录结构</strong>: 只有1个<strong>根目录</strong></li>
</ul>
<p><strong>usr:</strong>：　　　用于存放共享的系统资源(c:program Files)<br><strong>etc:</strong>　　　　存放系统配置文件<br><strong>root：　　　**系统管理员</strong>默认<strong>用户目录(c:用户/root)<br>**home(安装软件目录)：</strong>　　其他用户目录(c:用户/home/其他用户)</p>
<ul>
<li><strong>基础命令：</strong></li>
</ul>
<p><strong>pwd：</strong>　　打印当前目录<br><strong>cd /：</strong>　　切换当前目录<br><strong>ll：</strong>　　查看当前目录下的内容</p>
<hr>
<h1 id="SecureCRT连接linux"><a href="#SecureCRT连接linux" class="headerlink" title="SecureCRT连接linux"></a>SecureCRT连接linux</h1><ol>
<li>在linux的终端输入：ifconfig(windows是ipconfig)–选择里面的 192.168.21.128</li>
</ol>
<p><img src="/2020/02/19/Linux/ifconfig.png" alt></p>
<ol start="2">
<li>点击SecureCRT.exe–点击文件–连接–快速选择–输入主机名：192.168.21.128(第一步获取的)</li>
</ol>
<p><img src="/2020/02/19/Linux/dier.png" alt></p>
<ol start="3">
<li>提示新建主机密钥点击接收并保存–输入用户名root和linux当时的用户密码</li>
</ol>
<p><img src="/2020/02/19/Linux/disan.png" alt></p>
<ol start="4">
<li>弹出连接成功的框(乱码)–然后关闭之后重启–对网络右键属性–更改外观里面的语言为UTF-8</li>
</ol>
<p><img src="/2020/02/19/Linux/disi.png" alt></p>
<ol start="5">
<li>输入ll显示(无乱码)</li>
</ol>
<p><img src="/2020/02/19/Linux/diwu.png" alt></p>
<hr>
<h1 id="展示目录-ll-ls"><a href="#展示目录-ll-ls" class="headerlink" title="展示目录 ll / ls"></a>展示目录 ll / ls</h1><p><strong>1. ls **　　显示目录下</strong>所有文件名称**</p>
<p><img src="/2020/02/19/Linux/mingcheng.png" alt></p>
<p><strong>2. ls -a **　　显示目录下</strong>所有文件名称(包括隐藏文件)**</p>
<p><img src="/2020/02/19/Linux/chengwr.png" alt></p>
<p><strong>3. ls -l  / ll **　　显示目录下</strong>所有文件的详细内容**</p>
<p><img src="/2020/02/19/Linux/ller.png" alt></p>
<hr>
<h1 id="切换目录-cd"><a href="#切换目录-cd" class="headerlink" title="切换目录 cd"></a>切换目录 cd</h1><p><strong>1. cd ~ **　　切换到</strong>root目录**</p>
<p><img src="/2020/02/19/Linux/root.png" alt></p>
<p><strong>2. cd - **　　切换到</strong>上次访问**的目录</p>
<p><img src="/2020/02/19/Linux/fanhui.png" alt></p>
<p><strong>3. cd .. **　　**回退到上一层目录</strong></p>
<p><img src="/2020/02/19/Linux/huitiu.png" alt></p>
<p><strong>4. cd /xx/yy **　　可以一次性直接</strong>到xx目录下的yy目录**(也可以一层一层找)</p>
<p><img src="/2020/02/19/Linux/yici.png" alt></p>
<hr>
<h1 id="创建目录-mkdir-p"><a href="#创建目录-mkdir-p" class="headerlink" title="创建目录 mkdir (-p)#"></a>创建目录 mkdir (-p)#</h1><p><strong>1. mkdir xxx **　　**创建</strong>一个xxx文件夹</p>
<p><img src="/2020/02/19/Linux/mkdir.png" alt></p>
<p><strong>2. mkdir -p aaa/bbb **　　**创建多级目录文件</strong></p>
<p><img src="/2020/02/19/Linux/chuangjianer.png" alt></p>
<hr>
<h1 id="移除目录-rmdir"><a href="#移除目录-rmdir" class="headerlink" title="移除目录 rmdir"></a>移除目录 rmdir</h1><p><strong>1. rmdir xxx **　　**移除</strong>一个文件夹</p>
<hr>
<h1 id="浏览文件-cat-more-less-tail"><a href="#浏览文件-cat-more-less-tail" class="headerlink" title="浏览文件 cat more less tail#"></a>浏览文件 cat more less tail#</h1><h2 id="cat-一次性展示"><a href="#cat-一次性展示" class="headerlink" title="cat(一次性展示)"></a>cat(一次性展示)</h2><p><strong>1.cat xxx ** 文档内容　　**一次性展示</strong></p>
<h2 id="more-按-展示"><a href="#more-按-展示" class="headerlink" title="more(按%展示)"></a>more(按%展示)</h2><p><strong>1. more install.log **　　文档进行</strong>分页展示**</p>
<pre><code>空格：一页一页展示
回车：一行一行
Q：退出</code></pre><h2 id="less-按照-展示"><a href="#less-按照-展示" class="headerlink" title="less(按照%展示)"></a>less(按照%展示)</h2><p><strong>1. less install.log **　　文档进行</strong>分页展示**</p>
<pre><code>空格：一页一页展示
回车：一行一行
Q/ctrl+c：退出
键盘上下键：可以上下翻页 (区别于more)</code></pre><h2 id="tail-具体看某几行-n"><a href="#tail-具体看某几行-n" class="headerlink" title="tail(具体看某几行 (-n))"></a>tail(具体看某几行 (-n))</h2><p><strong>1. tail -n install.log **　　查看</strong>倒数n行的文档内容**</p>
<p><img src="/2020/02/19/Linux/tail.png" alt></p>
<hr>
<h1 id="复制文件-cp"><a href="#复制文件-cp" class="headerlink" title="复制文件 cp"></a>复制文件 cp</h1><p><strong>1. cp xxx yyy **　　**将xxx复制到yyy目录里面</strong></p>
<p><strong>2. cp xxx yyy/zzz **　　**将xxx复制到yyy目录的时候更改名为zzz</strong> </p>
<p><img src="/2020/02/19/Linux/cp.png" alt></p>
<p><img src="/2020/02/19/Linux/cpjieguo.png" alt></p>
<hr>
<h1 id="拷贝-剪切-文件-mv"><a href="#拷贝-剪切-文件-mv" class="headerlink" title="拷贝(剪切)文件 mv#"></a>拷贝(剪切)文件 mv#</h1><p>*<em>1. mv a.txt /root/bb *</em>　　将当前目录下的a.txt剪切到bb目录</p>
<p>*<em>2. mv a.txt /root/bb/b.txt *</em>　　将当前目录下的a.txt剪切到bb目录并且命名改为b.txt</p>
<p><img src="/2020/02/19/Linux/mv.png" alt></p>
<p><img src="/2020/02/19/Linux/mvjieguo.png" alt></p>
<hr>
<h1 id="删除文件-rm-rf"><a href="#删除文件-rm-rf" class="headerlink" title="删除文件 rm (-rf)"></a>删除文件 rm (-rf)</h1><p><strong>1. rm -r xxx</strong>　　<strong>删除</strong>xxx文件</p>
<pre><code>rm -f xxx  不询问的删除xxx文件
rm -r xxx  询问的删除xxx文件
rm -rf xxx 不询问的删除xxx文件(配合使用)</code></pre><p><img src="/2020/02/19/Linux/rm.png" alt></p>
<hr>
<h1 id="创建空文件-touch"><a href="#创建空文件-touch" class="headerlink" title="创建空文件 touch#"></a>创建空文件 touch#</h1><p><strong>1. touch xxx.txt</strong>　　<strong>创建一个空文件</strong></p>
<hr>
<h1 id="压缩文件-tar-zcvf"><a href="#压缩文件-tar-zcvf" class="headerlink" title="压缩文件 tar -zcvf#"></a>压缩文件 tar -zcvf#</h1><p><strong>压缩和解压文件所需要的属性:</strong></p>
<pre><code>-c:创建一个新的tar文件
-v:显示运行过程中的信息
-f：指定文件名
-x：解开tar文件
-z：调用gzip压缩命令进行压缩
-t：查看压缩文件内容</code></pre><p><strong>1. tar -cvf xxx.tar ./* **　　**打包</strong></p>
<p><strong>2. tar -zcvf xxx.tar ./* **　　**打包并且压缩</strong></p>
<hr>
<h1 id="解压文件-tar-zxvf"><a href="#解压文件-tar-zxvf" class="headerlink" title="解压文件 tar -zxvf"></a>解压文件 tar -zxvf</h1><p><strong>1. tar -xvf xxx.tar</strong>   </p>
<p><strong>2. tar -zxvf xxx.tar.gz -C /usr/aaa</strong>　　<strong>解压</strong> (linux压缩包后缀是gz) -C是减压到 usr的aaa目录</p>
<hr>
<h1 id="查找文件位置-find"><a href="#查找文件位置-find" class="headerlink" title="查找文件位置 find"></a>查找文件位置 find</h1><p><strong>1. find / -name “ins”</strong>　　查找<strong>名字以ins开头的文件</strong></p>
<p><strong>2. find / -user xxx -ls</strong>　　查找<strong>用户为xxx的目录</strong></p>
<hr>
<h1 id="查找文件内容-grep"><a href="#查找文件内容-grep" class="headerlink" title="查找文件内容  grep"></a>查找文件内容  grep</h1><p><strong>1. grep lang xxx</strong>　　<strong>在文件中查找lang</strong></p>
<p><strong>2. grep lang xxx -color **　　**高亮显示</strong></p>
<hr>
<h1 id="重定向输出-gt-覆盖-gt-gt-覆盖"><a href="#重定向输出-gt-覆盖-gt-gt-覆盖" class="headerlink" title="重定向输出 &gt;(覆盖) &gt;&gt;(覆盖)"></a>重定向输出 &gt;(覆盖) &gt;&gt;(覆盖)</h1><p><strong>1. cat aaa &gt; bbb</strong>  aaa的<strong>覆盖</strong>bbb</p>
<p><strong>2. cat aaa &gt;&gt; bbb</strong> aaa内容<strong>追加</strong>到bbb</p>
<hr>
<h1 id="系统管理命令"><a href="#系统管理命令" class="headerlink" title="系统管理命令"></a>系统管理命令</h1><p><strong>1. ps -ef **　　查看</strong>所有**进程</p>
<p><strong>2. ps -ef | grep ssh **　　查看</strong>某一**进程</p>
<p><strong>3. kill -9 xxxx **　　**强制杀死</strong>xxxx编号的进程</p>
<p><strong>4. kill xxxx</strong>　　<strong>杀死</strong>xxxx编号的进程</p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ServletContext" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/18/ServletContext/" class="article-date">
      <time datetime="2020-02-18T06:02:28.000Z" itemprop="datePublished">2020-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/18/ServletContext/">ServletContext</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、ServletContext-Servlet-上下文"><a href="#一、ServletContext-Servlet-上下文" class="headerlink" title="一、ServletContext(Servlet 上下文)"></a>一、ServletContext(Servlet 上下文)</h1><blockquote>
<p>每个web工程都只有一个ServletContext对象。 说白了也就是不管在哪个servlet里面，获取到的这个类的对象都是同一个。</p>
</blockquote>
<p><strong>举例步骤：</strong>新建一个项目–java Resources–src右键新建Servlet–填写类名和包名</p>
<p><strong>自动生成代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">package servleter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Servlet implementation class ServletContext01</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class ServletContext01 extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID &#x3D; 1L;</span><br><span class="line">       </span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public ServletContext01() &#123;</span><br><span class="line">        super();</span><br><span class="line">        &#x2F;&#x2F; TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###如何得到对象(和ServletConfig相似)</p>
<pre><code>//1. 获取对象
    ServletContext context = getServletContext();</code></pre><hr>
<h1 id="二、ServletContext获取全局参数"><a href="#二、ServletContext获取全局参数" class="headerlink" title="二、ServletContext获取全局参数"></a>二、ServletContext获取全局参数</h1><pre><code>ServletConfig----在servlet里面对&lt;init-paramd&gt;写具体的参数</code></pre><p><img src="/2020/02/18/ServletContext/config.png" alt></p>
<pre><code>ServletContext---对根标签servlet外面对&lt;context-param&gt;写全局参数</code></pre><p><img src="/2020/02/18/ServletContext/context.png" alt></p>
<p><img src="/2020/02/18/ServletContext/jiegoutu.png" alt></p>
<p><strong>使用了直接右键server所以不用自己配</strong></p>
<p><strong>web.xml的完整内容：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&quot; xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_2_5.xsd&quot; id&#x3D;&quot;WebApp_ID&quot; version&#x3D;&quot;2.5&quot;&gt;</span><br><span class="line">  &lt;display-name&gt;ServletRegister&lt;&#x2F;display-name&gt;</span><br><span class="line">  &lt;welcome-file-list&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.html&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.htm&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.jsp&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.html&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.htm&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.jsp&lt;&#x2F;welcome-file&gt;</span><br><span class="line">  &lt;&#x2F;welcome-file-list&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;context-param&gt;     &#x2F;&#x2F;在这加context-param标签!!!!!!!!!!!!!!!</span><br><span class="line">    &lt;param-name&gt;address&lt;&#x2F;param-name&gt;</span><br><span class="line">    &lt;param-value&gt;shenzhen&lt;&#x2F;param-value&gt;</span><br><span class="line">  &lt;&#x2F;context-param&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;Demo&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servlet.Demo&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;Demo&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;Demo&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;description&gt;&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;display-name&gt;ServletContext01&lt;&#x2F;display-name&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext01&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servleter.ServletContext01&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext01&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;ServletContext01&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;description&gt;&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;display-name&gt;ServletContext02&lt;&#x2F;display-name&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext02&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servleter.ServletContext02&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext02&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;ServletContext02&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">&lt;&#x2F;web-app&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ServletContext01/02代码几乎一样都是创建对象然后输出</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class ServletContext02 extends HttpServlet &#123;</span><br><span class="line">	</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">			ServletContext context&#x3D;getServletContext();</span><br><span class="line">		&#x2F;&#x2F;2.获得address		</span><br><span class="line">			String address&#x3D;context.getInitParameter(&quot;address&quot;);</span><br><span class="line">			System.out.println(&quot;这是ServletContext02的address&#x3D;&quot;+address);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>01通过浏览器去刷新/02通过eclipse自带的页面浏览器刷新</strong></p>
<p><img src="/2020/02/18/ServletContext/duibi.png" alt></p>
<hr>
<h1 id="三、ServletContext获取Web应用中的资源"><a href="#三、ServletContext获取Web应用中的资源" class="headerlink" title="三、ServletContext获取Web应用中的资源"></a>三、ServletContext获取Web应用中的资源</h1><ol>
<li>获取资源在tomcat里面的<strong>绝对路径(getRealpath()方法)</strong></li>
</ol>
<p><img src="/2020/02/18/ServletContext/diyijiegou.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Demo04 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">			ServletContext context&#x3D;getServletContext();</span><br><span class="line">			String path&#x3D;context.getRealPath(&quot;file&#x2F;config.properties&quot;);   &#x2F;&#x2F;获取给定的文件在服务器上面的绝对路径 ---如果“”里面没有东西意思就是找到根目录</span><br><span class="line">				System.out.println(&quot;path&#x3D;&quot;+path);</span><br><span class="line">				</span><br><span class="line">				 &#x2F;&#x2F;1.创建属性对象</span><br><span class="line">				Properties properties&#x3D;new Properties(); </span><br><span class="line">				InputStream is&#x3D;new FileInputStream(path);  &#x2F;&#x2F;通过InputStream数据流连接path</span><br><span class="line">				properties.load(is); &#x2F;&#x2F;加载输入流</span><br><span class="line">				</span><br><span class="line">				&#x2F;&#x2F;3.获取name属性的值</span><br><span class="line">				String name&#x3D;properties.getProperty(&quot;name&quot;);</span><br><span class="line">				System.out.println(&quot;name&#x3D;&quot;+name); 			</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>代码结果如下：</strong></p>
<p><img src="/2020/02/18/ServletContext/diyi.png" alt></p>
<hr>
<ol start="2">
<li><strong>ServletContext对象.getResourceAsStream</strong>获取资源流对象</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Demo04 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;test01(); </span><br><span class="line">		test02();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private void test02() throws IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">		Properties properties&#x3D;new Properties();</span><br><span class="line">		ServletContext context&#x3D;getServletContext();  &#x2F;&#x2F;创建ServletContext对象</span><br><span class="line">		InputStream is&#x3D;context.getResourceAsStream(&quot;file&#x2F;config.properties&quot;);  &#x2F;&#x2F;直接写文件路径(不需要path)</span><br><span class="line">		properties.load(is);	&#x2F;&#x2F;加载文件</span><br><span class="line">		&#x2F;&#x2F;3.获取name属性的值</span><br><span class="line">		String name&#x3D;properties.getProperty(&quot;name&quot;);</span><br><span class="line">		System.out.println(&quot;name22&#x3D;&quot;+name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<ol>
<li>通过<strong>classloader</strong>去获取web工程下的资源 </li>
</ol>
<ul>
<li><p><strong>ServletContext：</strong><br>　　<br>a路径：F:\tomcat\apache-tomcat…\wtpwebapps\Demo04</p>
</li>
<li><p><strong>ClassLoader：</strong><br>　　<br>a路径：F:\tomcat\apache-tomcat…\wtpwebapps\Demo04\WEB-INF\classes</p>
</li>
</ul>
<p>要想让classloader回到Demo03的位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;获得该java文件吧内磨机片的class然后获取到加载这个class的虚拟机中的那个类加载器对象</span><br><span class="line">InputStream is&#x3D;this.getClass().getClassLoader().getResourceAsStream(&quot;..&#x2F;..&#x2F;file&#x2F;config.properties&quot;);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="四、ServletContext存取数据"><a href="#四、ServletContext存取数据" class="headerlink" title="四、ServletContext存取数据"></a>四、ServletContext存取数据</h1><p><strong>此为web代码框架：</strong></p>
<p><img src="/2020/02/18/ServletContext/zuizhong.png" alt></p>
<p><strong>实现界面分析：</strong></p>
<p><img src="/2020/02/18/ServletContext/fenxi.png" alt></p>
<p><strong>步骤：</strong></p>
<ol>
<li><strong>Client客户端：</strong>主要是要有两个html的客户端代码：<br>login主要是有三个input标签分别是登录、注册、提交按钮；login_success是用来用href标签弹出网站成功登陆次数(通过ServletContext对象的getAttribute()方法获取loginservlet类中的count值)</li>
<li><strong>server服务器端：</strong>主要是两个类：<br>CountServlet类只是获取LoginServlet类的ServletContext对象获取count输出<br>LoginServlet主要分为两步骤：一是通过request的getParameter方法获取login.html输入的账户密码；二是通过ServletContext()对象的set/getAttribute方法获取和更改登陆成功数字。成功可以通过response的setStatus(302)方法设置状态码，然后通过setHeader方法跳转到预定的login_success.html页面。</li>
</ol>
<p><strong>LoginServlet类代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取数据</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);  &#x2F;&#x2F;request 包括请求的信息</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line">		System.out.println(username+password);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.校验数据</span><br><span class="line">		PrintWriter pw&#x3D;response.getWriter();  &#x2F;&#x2F;response 响应数据给浏览器 </span><br><span class="line">		</span><br><span class="line">		if(&quot;admin&quot;.equals(username)&amp;&amp;&quot;123&quot;.equals(password))</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;System.out.println(&quot;登陆成功!&quot;);</span><br><span class="line">			&#x2F;&#x2F;pw.write(&quot;login success..&quot;);</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;1.成功的次数累计加一	</span><br><span class="line">			Object obj&#x3D;getServletContext().getAttribute(&quot;count&quot;);&#x2F;&#x2F;使用ServeletContext对象的getAttribute方法获取count数</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;默认是0次</span><br><span class="line">			int totalCount&#x3D;0; &#x2F;&#x2F;计数用</span><br><span class="line">			if(obj!&#x3D;null)</span><br><span class="line">			&#123;</span><br><span class="line">				totalCount&#x3D;(int) obj;  &#x2F;&#x2F;如果不为0就把obj强转给计数用的totalCount</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(&quot;已经登陆成功的次数是：&quot;+totalCount);</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;给count赋新的值</span><br><span class="line">			getServletContext().setAttribute(&quot;count&quot;,totalCount+1);  &#x2F;&#x2F;输出之后可以使用ServletContext对象的setAttribute方法更改count数字(当前输出的数字加一付给count)</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.跳转到成功的界面</span><br><span class="line">			&#x2F;&#x2F;设置状态码</span><br><span class="line">			response.setStatus(302);</span><br><span class="line">			&#x2F;&#x2F;定位-----&gt;跳转去 login_success.html		</span><br><span class="line">			response.setHeader(&quot;Location&quot;,&quot;login_success.html&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;登录失败！&quot;);</span><br><span class="line">			pw.write(&quot;login failed..&quot;);</span><br><span class="line">		&#125;	</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>CountServlet类代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class CountServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;	</span><br><span class="line">		&#x2F;&#x2F;1.取值</span><br><span class="line">		int count&#x3D;(int) getServletContext().getAttribute(&quot;count&quot;);</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;2.输出到界面</span><br><span class="line">		response.getWriter().write(&quot;当前网站成功登录总次数为&quot;+count+&quot;次&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>login_success.html代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;h2&gt;登录成功了&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;CountServlet&quot;&gt;获取网站登录成功总数 &lt;&#x2F;a&gt;   &lt;!--href找的是xml里面 url标签的内容--&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>login.html代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h2&gt;请输入以下内容，完成登陆&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;form action&#x3D;&quot;LoginServlet&quot; method&#x3D;&quot;get&quot;&gt;  &lt;!--action找的是xml里面 url标签的内容--&gt;</span><br><span class="line">		账号:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		密码:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;password&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;登录&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Servlet/" rel="tag">Servlet</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HTTPServletReauest和HTTPServletResponse" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/" class="article-date">
      <time datetime="2020-02-18T05:42:39.000Z" itemprop="datePublished">2020-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/">HTTPServletReauest和HTTPServletResponse</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、HTTPServletRequest-这个对象封装了客户端提交过来的一切数据"><a href="#一、HTTPServletRequest-这个对象封装了客户端提交过来的一切数据" class="headerlink" title="一、HTTPServletRequest(这个对象封装了客户端提交过来的一切数据)"></a>一、HTTPServletRequest(这个对象封装了客户端提交过来的一切数据)</h1><ul>
<li>获取客户端<strong>http请求头</strong>信息</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;得到一个枚举集合  </span><br><span class="line">Enumeration&lt;String&gt; headerNames &#x3D; request.getHeaderNames();  &#x2F;&#x2F;用集合去存取所有的http头</span><br><span class="line">while (headerNames.hasMoreElements()) &#123;</span><br><span class="line">	String name &#x3D; (String) headerNames.nextElement();  &#x2F;&#x2F;每次取下一个</span><br><span class="line">	String value &#x3D; request.getHeader(name);  &#x2F;&#x2F;取头就是给它的值</span><br><span class="line">	System.out.println(name+&quot;&#x3D;&quot;+value);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>获取客户端<strong>提交的数据</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;2.获取所有的参数---一个枚举集合(一个key对应多个value)</span><br><span class="line">	&#x2F;&#x2F;	Enumeration&lt;String&gt; headerNames &#x3D; request.getHeaderNames();  &#x2F;&#x2F;ctrl+1 提示左边的代码  获得所有的http头部</span><br><span class="line">	Map&lt;String, String[]&gt; map &#x3D; request.getParameterMap();</span><br><span class="line">	Set&lt;String&gt; keySet &#x3D; map.keySet(); &#x2F;&#x2F;得到左边的key</span><br><span class="line">	Iterator&lt;String&gt; iterator &#x3D; keySet.iterator();&#x2F;&#x2F;得到加载器iterator</span><br><span class="line">	while(iterator.hasNext()) &#123;</span><br><span class="line">		String key &#x3D; iterator.next(); &#x2F;&#x2F;加载器.get方法获得key值</span><br><span class="line">		String[] value &#x3D; map.get(key); &#x2F;&#x2F;request的对象调用.get方法获取value值</span><br><span class="line">		System.out.println(&quot;key&#x3D;&quot;+key+&quot; value&#x3D;&quot;+value);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">public class Demo01 extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.得到一个枚举集合 </span><br><span class="line">		Enumeration&lt;String&gt; headerNames &#x3D; request.getHeaderNames();  &#x2F;&#x2F;ctrl+1 提示左边的代码  获得所有的http头部</span><br><span class="line">		while(headerNames.hasMoreElements())</span><br><span class="line">		&#123;</span><br><span class="line">			String name&#x3D;(String)headerNames.nextElement(); &#x2F;&#x2F;while一次获取一次的http头部	</span><br><span class="line">			String value&#x3D;request.getHeader(name);  &#x2F;&#x2F;获取当对应的http头部的value值</span><br><span class="line">			System.out.println(&quot;name&#x3D;&quot;+name+&quot; value&#x3D;&quot;+value);</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(&quot;--------------&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;获取的是客户端(html登录写的)提交上来的数据</span><br><span class="line">		String parameter &#x3D; request.getParameter(&quot;name&quot;);</span><br><span class="line">		System.out.println(&quot;name&#x3D;&quot;+parameter);</span><br><span class="line">		System.out.println(&quot;--------------&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.获取所有的参数---一个枚举集合(一个key对应多个value)</span><br><span class="line">		&#x2F;&#x2F;	Enumeration&lt;String&gt; headerNames &#x3D; request.getHeaderNames();  &#x2F;&#x2F;ctrl+1 提示左边的代码  获得所有的http头部</span><br><span class="line">		Map&lt;String, String[]&gt; map &#x3D; request.getParameterMap();</span><br><span class="line">		Set&lt;String&gt; keySet &#x3D; map.keySet(); &#x2F;&#x2F;得到左边的key</span><br><span class="line">		Iterator&lt;String&gt; iterator &#x3D; keySet.iterator();&#x2F;&#x2F;得到加载器iterator</span><br><span class="line">		while(iterator.hasNext()) &#123;</span><br><span class="line">			String key &#x3D; iterator.next(); &#x2F;&#x2F;加载器.get方法获得key值</span><br><span class="line">			String[] value &#x3D; map.get(key); &#x2F;&#x2F;request的对象调用.get方法获取value值</span><br><span class="line">			System.out.println(&quot;key&#x3D;&quot;+key+&quot; value&#x3D;&quot;+value);</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>此外需要完成一个loginer.html代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;请输入以下内容，完成登陆&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;form action&#x3D;&quot;LoginServleter&quot; method&#x3D;&quot;get&quot;&gt;  &lt;!--action找的是xml里面 url标签的内容--&gt;</span><br><span class="line">		账号:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		密码:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;password&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;登录&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>第一个循环出来的是所有的http的头部/然后是输入的账号密码/展示输入的账户密码</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/diyige.png" alt></p>
<hr>
<h1 id="二、HTTPServletRequest的中文乱码问题"><a href="#二、HTTPServletRequest的中文乱码问题" class="headerlink" title="二、HTTPServletRequest的中文乱码问题"></a>二、HTTPServletRequest的中文乱码问题</h1><p>　　由于tomcat收到使用getParameter()方法默认是ISO-8859-1去解码，所以必须要去转换。</p>
<h2 id="1-get方式-前端代码form表单里面是method-”get”"><a href="#1-get方式-前端代码form表单里面是method-”get”" class="headerlink" title="1.get方式(前端代码form表单里面是method=”get”)"></a>1.get方式(前端代码form表单里面是method=”get”)</h2><ul>
<li><strong>1.1 通过(username.getBytes(“ISO-8859-1”))去更改</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username &#x3D; new String(username.getBytes(&quot;ISO-8859-1&quot;) , &quot;UTF-8&quot;);</span><br></pre></td></tr></table></figure></li>
<li><strong>1.2 在tomcat/conf/server.xml 加上URIEncoding=”utf-8”</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector connectionTimeout&#x3D;&quot;20000&quot; port&#x3D;&quot;8080&quot; protocol&#x3D;&quot;HTTP&#x2F;1.1&quot; redirectPort&#x3D;&quot;8443&quot; URIEncoding&#x3D;&quot;UTF-8&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>第一种方式的具体代码(还需要上面的loginer.html代码)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class LoginServleter extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);  &#x2F;&#x2F;request 包括请求的信息</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line">		System.out.println(username+&quot; &quot;+password);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;get请求过来的数据，在url地址栏上已经是编码过的，所以取到的是乱码</span><br><span class="line">		&#x2F;&#x2F;tomcat收到使用getParameter()方法默认是ISO-8859-1去解码</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;先让文字回到ISO-8859-1对应的字节数组 ， 然后再按utf-8组拼字符串</span><br><span class="line">			username &#x3D; new String(username.getBytes(&quot;ISO-8859-1&quot;) , &quot;UTF-8&quot;);</span><br><span class="line">			System.out.println(&quot;userName&#x3D;&quot;+username+&quot;&#x3D;&#x3D;password&#x3D;&quot;+password);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-post方式-前端代码form表单里面是method-”post”"><a href="#2-post方式-前端代码form表单里面是method-”post”" class="headerlink" title="2.post方式(前端代码form表单里面是method=”post”)"></a>2.post方式(前端代码form表单里面是method=”post”)</h2><ul>
<li>2.1 直接在getParameter方法之前使用一个<strong>setCharacterEncoding(“UTF-8”)；</strong></li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(&quot;UTF-8&quot;);</span><br><span class="line">		这行设置一定要写在getParameter之前。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h1 id="三、HTTPServletResponse-返回数据给客户端"><a href="#三、HTTPServletResponse-返回数据给客户端" class="headerlink" title="三、HTTPServletResponse(返回数据给客户端)"></a>三、HTTPServletResponse(返回数据给客户端)</h1><p><strong>字符流/字节流方式：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Demo02 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOExceptio	</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;以字符流getWriter</span><br><span class="line">		response.getWriter().write(&quot;&lt;h1&gt;hello response...&lt;&#x2F;h1&gt;&quot;);	</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;以字节流getOutputStream</span><br><span class="line">		response.getOutputStream().write(&quot;hello response......&quot;.getBytes());</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="四、HTTPServletResponse-中文乱码问题"><a href="#四、HTTPServletResponse-中文乱码问题" class="headerlink" title="四、HTTPServletResponse 中文乱码问题"></a>四、HTTPServletResponse 中文乱码问题</h1><p>###不管是字节流还是字符流，直接使用一行代码就可以了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(&quot;text&#x2F;html;charset&#x3D;UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">然后在写数据即可。</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="五、下载资源"><a href="#五、下载资源" class="headerlink" title="五、下载资源"></a>五、下载资源</h1><h2 id="1-使用超链接的方式下载"><a href="#1-使用超链接的方式下载" class="headerlink" title="1.使用超链接的方式下载##"></a>1.使用<strong>超链接</strong>的方式下载##</h2><blockquote>
<p>tomcat里面有一个默认的Servlet – DefaultServlet –专门用于处理放在tomcat服务器上的静态资源。</p>
</blockquote>
<p><strong>代码框架：</strong><br>　　在WebContent里面放需要下载的资源download文件(准备好的文件)。新建的index.html文件去实现超链接下载。</p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/kuangjia.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;aa.jpg&quot;&gt;aa.jpg&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;bb.txt&quot;&gt;bb.tex&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;cc.rar&quot;&gt;cc.rar&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-手写编码实现"><a href="#2-手写编码实现" class="headerlink" title="2.手写编码实现"></a>2.手写编码实现</h2><p><strong>代码框架：</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/jiegou.png" alt></p>
<p><strong>有一个弹窗的操作：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;让浏览器收到资源，弹出提醒！！！</span><br><span class="line">	response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename&#x3D;&quot;+fileName); &#x2F;&#x2F;response调用setHeader方法</span><br></pre></td></tr></table></figure>

<p><strong>index.html(客户端)代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">	这是tomcat默认的servlet区提供下载：&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;aa.jpg&quot;&gt;aa.jpg&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;bb.txt&quot;&gt;bb.txt&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;download&#x2F;cc.rar&quot;&gt;cc.rar&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	&lt;br&gt;手动编码提供下载。：&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;demo01?filename&#x3D;aa.jpg&quot;&gt;aa.jpg&lt;&#x2F;a&gt;&lt;br&gt;  &lt;!--浏览器后面就是--filename&#x3D;xxx--&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;demo01?filename&#x3D;bb.txt&quot;&gt;bb.txt&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;demo01?filename&#x3D;cc.rar&quot;&gt;cc.rar&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>demo01代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public class demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取要下载的文件</span><br><span class="line">		String fileName &#x3D; request.getParameter(&quot;filename&quot;);  &#x2F;&#x2F;使用getParameter获得filename</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.获取这个文件正在tomcat的绝对路径getRealPath()</span><br><span class="line">		String path &#x3D; getServletContext().getRealPath(&quot;download&#x2F;&quot;+fileName);  &#x2F;&#x2F;使用servletcontext去获得绝对路径(里面写&quot;存放文件的名字&#x2F;&quot;+fileName)</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;让浏览器收到资源，弹出提醒！！！</span><br><span class="line">		response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename&#x3D;&quot;+fileName);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;3.转换成输入流</span><br><span class="line">		InputStream is&#x3D;new FileInputStream(path); &#x2F;&#x2F;输入流获取</span><br><span class="line">		OutputStream os &#x3D; response.getOutputStream(); &#x2F;&#x2F;输出流由response获得		</span><br><span class="line">		</span><br><span class="line">		int len&#x3D;0;</span><br><span class="line">		byte[]buffer &#x3D;new byte[1024]; </span><br><span class="line">		while((len&#x3D;is.read(buffer))!&#x3D;-1)  &#x2F;&#x2F;输入流不为-1</span><br><span class="line">		&#123; </span><br><span class="line">			os.write(buffer,0,len);  &#x2F;&#x2F;有多长写多长</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		os.close(); &#x2F;&#x2F;关闭</span><br><span class="line">		is.close();</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>最终结果(可以弹窗)</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/tanchu.png" alt></p>
<hr>
<h1 id="六、下载资源中文乱码问题"><a href="#六、下载资源中文乱码问题" class="headerlink" title="六、下载资源中文乱码问题"></a>六、下载资源中文乱码问题</h1><blockquote>
<p>针对浏览器类型，对文件名字做编码处理：</p>
</blockquote>
<pre><code>Firefox ---使用的是UBase64 
IE、Chrome ---使用的是URLEncoder</code></pre><p><strong>代码结构框架:</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/liuge.png" alt></p>
<p><strong>1.index.html里面只需要增加一行标签代码即可</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;demo01?filename&#x3D;黑马.png&quot;&gt;黑马.png&lt;&#x2F;a&gt;&lt;br&gt;</span><br></pre></td></tr></table></figure>

<p><strong>2.在上面的基础上新增一个DownLoadUtil类写一个帮助火狐firefox浏览器识别的代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package servlet;</span><br><span class="line">import java.io.UnsupportedEncodingException;</span><br><span class="line">import sun.misc.BASE64Encoder;</span><br><span class="line">public class DownLoadUtil &#123;</span><br><span class="line">	public static String base64EncodeFileName(String fileName) &#123;</span><br><span class="line">		BASE64Encoder base64Encoder &#x3D; new BASE64Encoder();</span><br><span class="line">		try &#123;</span><br><span class="line">			return &quot;&#x3D;?UTF-8?B?&quot;+ new String(base64Encoder.encode(fileName.getBytes(&quot;UTF-8&quot;))) + &quot;?&#x3D;&quot;;</span><br><span class="line">		&#125; catch (UnsupportedEncodingException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			throw new RuntimeException(e);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3.原来的demo01里面需要增加中文编码环节：</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/zengjia.png" alt></p>
<p><strong>主要代码分析：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.获取要下载的文件</span><br><span class="line">		String fileName &#x3D; request.getParameter(&quot;filename&quot;);   &#x2F;&#x2F;获取filename</span><br><span class="line">		&#x2F;&#x2F;有中文转成UTF-8格式</span><br><span class="line">		fileName&#x3D;new String(fileName.getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;); &#x2F;&#x2F;通过getBytes获得tomcat默认的ISO-8859-1的格式，然后更改为UTF-8</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.获取这个文件正在tomcat的绝对路径getRealPath()</span><br><span class="line">		String path &#x3D; getServletContext().getRealPath(&quot;download&#x2F;&quot;+fileName);</span><br><span class="line">		</span><br><span class="line">		String clientType &#x3D; request.getHeader(&quot;User-Agent&quot;); &#x2F;&#x2F;获取当前的用户端类型</span><br><span class="line">				</span><br><span class="line">				if(clientType.contains(&quot;Firefox&quot;))</span><br><span class="line">				&#123;</span><br><span class="line">					fileName &#x3D; DownLoadUtil.base64EncodeFileName(fileName);  &#x2F;&#x2F;调用DownLoadUtil类(新增的类)的方法</span><br><span class="line">				&#125;</span><br><span class="line">				else    &#x2F;&#x2F;IE ，或者  Chrome （谷歌浏览器） ，</span><br><span class="line">				&#123;	</span><br><span class="line">					fileName &#x3D; URLEncoder.encode(fileName,&quot;UTF-8&quot;);  &#x2F;&#x2F;使用URLEncoder类的encode方法更改</span><br><span class="line">				&#125;</span><br></pre></td></tr></table></figure>


<p><strong>demo01完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public class demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;1.获取要下载的文件</span><br><span class="line">		String fileName &#x3D; request.getParameter(&quot;filename&quot;);</span><br><span class="line">		&#x2F;&#x2F;有中文转成UTF-8格式</span><br><span class="line">		fileName&#x3D;new String(fileName.getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.获取这个文件正在tomcat的绝对路径getRealPath()</span><br><span class="line">		String path &#x3D; getServletContext().getRealPath(&quot;download&#x2F;&quot;+fileName);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;获取来访的客户端类型</span><br><span class="line">				String clientType &#x3D; request.getHeader(&quot;User-Agent&quot;);</span><br><span class="line">				</span><br><span class="line">				if(clientType.contains(&quot;Firefox&quot;))</span><br><span class="line">				&#123;</span><br><span class="line">					fileName &#x3D; DownLoadUtil.base64EncodeFileName(fileName);</span><br><span class="line">				&#125;</span><br><span class="line">				else    &#x2F;&#x2F;IE ，或者  Chrome （谷歌浏览器） ，</span><br><span class="line">				&#123;	</span><br><span class="line">					fileName &#x3D; URLEncoder.encode(fileName,&quot;UTF-8&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;让浏览器收到资源，弹出提醒！！！</span><br><span class="line">		response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename&#x3D;&quot;+fileName);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;3.转换成输入流</span><br><span class="line">		InputStream is&#x3D;new FileInputStream(path);</span><br><span class="line">		OutputStream os &#x3D; response.getOutputStream();		</span><br><span class="line">		</span><br><span class="line">		int len&#x3D;0;</span><br><span class="line">		byte[]buffer &#x3D;new byte[1024];</span><br><span class="line">		while((len&#x3D;is.read(buffer))!&#x3D;-1)&#123;</span><br><span class="line">			os.write(buffer,0,len);</span><br><span class="line">		&#125;</span><br><span class="line">		os.close();</span><br><span class="line">		is.close();</span><br><span class="line">	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>最终黑马.png也可以通过弹窗打开！</strong></p>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/heima.png" alt></p>
<hr>
<h1 id="七、请求转发-原来的地方-和重定向-去新的地方"><a href="#七、请求转发-原来的地方-和重定向-去新的地方" class="headerlink" title="七、请求转发(原来的地方)和重定向(去新的地方)"></a>七、请求转发(原来的地方)和重定向(去新的地方)</h1><p><strong>主要代码(跳转)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;早期的写法：</span><br><span class="line">  &#x2F;&#x2F;response.setStatus(302);  &#x2F;&#x2F;添加一个状态</span><br><span class="line">  &#x2F;&#x2F;response.setHeader(&quot;Location&quot;, &quot;login_success.html&quot;); &#x2F;&#x2F;成功之后就可以直接跳转到login_success.html页面</span><br><span class="line">		</span><br><span class="line">&#x2F;&#x2F;重定向写法：重新定位方向</span><br><span class="line">  response.sendRedirect(&quot;login_success.html&quot;);	</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;请求转发写法：</span><br><span class="line">  request.getRequestDispatcher(&quot;login_success.html&quot;).forward(request,response);</span><br></pre></td></tr></table></figure>

<p><strong>只展示java代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;); &#x2F;&#x2F;解决中文乱码问题</span><br><span class="line">		</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line">		if(&quot;admin&quot;.equals(username)&amp;&amp;&quot;123&quot;.equals(password))</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;response.getWriter().write(&quot;yes&quot;); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;早期的写法：</span><br><span class="line">			  &#x2F;&#x2F;response.setStatus(302);  &#x2F;&#x2F;添加一个状态</span><br><span class="line">			  &#x2F;&#x2F;response.setHeader(&quot;Location&quot;, &quot;login_success.html&quot;); &#x2F;&#x2F;成功之后就可以直接跳转到login_success.html页面</span><br><span class="line">					</span><br><span class="line">			&#x2F;&#x2F;重定向写法：重新定位方向</span><br><span class="line">			response.sendRedirect(&quot;login_success.html&quot;);	</span><br><span class="line"></span><br><span class="line">			&#x2F;&#x2F;请求转发写法：</span><br><span class="line">			request.getRequestDispatcher(&quot;login_success.html&quot;).forward(request,response);	</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			response.getWriter().write(&quot;no&quot;);</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="两者之间的区别和联系"><a href="#两者之间的区别和联系" class="headerlink" title="两者之间的区别和联系"></a><strong>两者之间的区别和联系</strong></h2><table>
<thead>
<tr>
<th align="center"><strong>区分项目</strong></th>
<th align="center">请求转发(request)</th>
<th align="center">重定位(response)</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>请求次数</strong></td>
<td align="center">一次(服务器内部帮忙完成)</td>
<td align="center">两次(服务器在第一次请求后悔返回302和一个地址，然后浏览器根据地址去第二次访问)</td>
</tr>
<tr>
<td align="center"><strong>显示地址</strong></td>
<td align="center">请求的servlet地址(要去哪里)</td>
<td align="center">显示的最后的那个资源的地址(最终跳转的)</td>
</tr>
<tr>
<td align="center"><strong>跳转路径</strong></td>
<td align="center">只能去自己项目的路径</td>
<td align="center">可以跳转到任意路径</td>
</tr>
<tr>
<td align="center"><strong>效率</strong></td>
<td align="center">高效(1次)</td>
<td align="center">低效(2次)</td>
</tr>
<tr>
<td align="center">*<em>后续请求(上一次的request) *</em></td>
<td align="center">不可以使用(两次不同请求)</td>
<td align="center">可以使用(同一请求)</td>
</tr>
</tbody></table>
<p><img src="/2020/02/18/HTTPServletReauest%E5%92%8CHTTPServletResponse/img01.png" alt></p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTPServletReauest%E5%92%8CHTTPServletResponse/" rel="tag">HTTPServletReauest和HTTPServletResponse</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Servlet" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/17/Servlet/" class="article-date">
      <time datetime="2020-02-17T05:37:30.000Z" itemprop="datePublished">2020-02-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/17/Servlet/">Servlet</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、web资源"><a href="#一、web资源" class="headerlink" title="一、web资源"></a>一、web资源</h1><p>在http协议当中，规定了请求和响应双方， 客户端和服务器端。与web相关的资源。 </p>
<ul>
<li><strong>静态资源</strong><br>  html 、 js、 css</li>
<li><strong>动态资源</strong><br>  servlet/jsp</li>
</ul>
<hr>
<h1 id="二、Servlet介绍-创建tomcat配置"><a href="#二、Servlet介绍-创建tomcat配置" class="headerlink" title="二、Servlet介绍+创建tomcat配置"></a>二、Servlet介绍+创建tomcat配置</h1><ul>
<li><p>其实就是一个<strong>java程序</strong>，运行在我们的web服务器上，用于接收和响应客户端的http请求。 </p>
</li>
<li><p>更多的是配合动态资源来做。 当然静态资源也需要使用到servlet，只不过是Tomcat里面已经定义好了一个<strong>DefaultServlet</strong>。</p>
</li>
</ul>
<h2 id="简单使用Web工程"><a href="#简单使用Web工程" class="headerlink" title="简单使用Web工程"></a>简单使用Web工程</h2><ol>
<li><p><strong>切换工作空间</strong>(左上角文件–切换工作空间)</p>
</li>
<li><p>自动打开然后需要配置Tomcat,点开右上角透视图(如图)–JAVAEE</p>
</li>
</ol>
<p><img src="/2020/02/17/Servlet/diyi.png" alt></p>
<ol start="3">
<li>点击下边输出框的Servers–提示一行NO….–然后空白位置右键new</li>
</ol>
<p><img src="/2020/02/17/Servlet/dier.png" alt></p>
<ol start="4">
<li>Apache–tomcat版本7.0</li>
</ol>
<p><img src="/2020/02/17/Servlet/disan.png" alt></p>
<ol start="5">
<li>选定tomcat–下面的Servers里面的tomcat7–右键open–中间Server Locations选中第二个</li>
</ol>
<p><img src="/2020/02/17/Servlet/disi.png" alt></p>
<ol start="6">
<li>新建一个web项目–右键new–other–Web–Dynamic Web Project</li>
</ol>
<p><img src="/2020/02/17/Servlet/diwu.png" alt></p>
<ol start="7">
<li>新建一个名字HelloServlet–Dynamic web module version更改为2.5</li>
</ol>
<p><img src="/2020/02/17/Servlet/diliu.png" alt></p>
<ol start="8">
<li>在HelloServlet–WebContent新建名为index.html文件</li>
</ol>
<p><img src="/2020/02/17/Servlet/diqi.png" alt></p>
<ol start="9">
<li>index里面写一个h标签内容–点run as–选自己的tomcat–稍等一会(提前不要打开tomcat)</li>
</ol>
<p><img src="/2020/02/17/Servlet/diba.png" alt></p>
<ol start="10">
<li>可以通过访问网页展示</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost:8080&#x2F;HelloServlet&#x2F;index.html</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/17/Servlet/dijiu.png" alt></p>
<hr>
<h1 id="三、Servlet操作代码"><a href="#三、Servlet操作代码" class="headerlink" title="三、Servlet操作代码"></a>三、Servlet操作代码</h1><ol>
<li>在前面的基础上Java Resources–src–<strong>新建HelloServer类</strong>(实现Server接口)–要实现五个方法(只用改service方法)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">package server;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.Servlet;</span><br><span class="line">import javax.servlet.ServletConfig;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.ServletRequest;</span><br><span class="line">import javax.servlet.ServletResponse;</span><br><span class="line">public class HelloServer implements Servlet&#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void destroy() &#123;&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public ServletConfig getServletConfig() &#123;</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public String getServletInfo() &#123;</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void init(ServletConfig arg0) throws ServletException &#123;&#125;</span><br><span class="line">	</span><br><span class="line">	@Override</span><br><span class="line">	public void service(ServletRequest arg0, ServletResponse arg1) throws ServletException, IOException &#123;</span><br><span class="line">		System.out.println(&quot;helloServlet...&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>配置Servlet</strong>：告诉服务器我们的应用要这么写个servlet</li>
</ol>
<p>点开WebContent–WFB-INF–lib–web.xml–点击下面框的source更改–然后重启tomcat</p>
<p><img src="/2020/02/17/Servlet/genggai.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--1.向tomcat报告 我有一个XXX类，路径是XXX--&gt;</span><br><span class="line">&lt;servlet&gt;   &lt;!--提示报错之后选最后一个servlet-name--&gt;</span><br><span class="line">	&lt;servlet-name&gt;HelloServer&lt;&#x2F;servlet-name&gt;    &lt;!--提示报错之后选最后一个servlet-class--&gt;</span><br><span class="line">	&lt;servlet-class&gt;server.HelloServer&lt;&#x2F;servlet-class&gt;   &lt;!--需要写包.类名--&gt;</span><br><span class="line">&lt;&#x2F;servlet&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--2.注册servlet的映射,servletName:找到上面注册的具体servlet,url-pattern:在地址栏上的path--&gt;</span><br><span class="line">	&lt;servlet-mapping&gt;    &lt;!--提示报错之后选最后一个servlet-name--&gt;</span><br><span class="line">		&lt;servlet-name&gt;HelloServer&lt;&#x2F;servlet-name&gt;</span><br><span class="line">		&lt;url-pattern&gt;&#x2F;a&lt;&#x2F;url-pattern&gt;    &lt;!--一定要记得写&#x2F; 实在项目名后写的地址--&gt;</span><br><span class="line">	&lt;&#x2F;servlet-mapping&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>地址栏输入</strong>–<a href="http://localhost:8080/项目名称(HelloServlet)/a" target="_blank" rel="noopener">http://localhost:8080/项目名称(HelloServlet)/a</a></li>
</ol>
<p><strong>执行框会显示类的结果：</strong></p>
<p><img src="/2020/02/17/Servlet/xiamian.png" alt></p>
<hr>
<h1 id="四、Servlet-执行过程"><a href="#四、Servlet-执行过程" class="headerlink" title="四、Servlet 执行过程"></a>四、Servlet 执行过程</h1><p><strong>执行分析过程：</strong>tomcat应用(localhost:8080)–找到项目(HelloServlet)–找到web.xml–找下面的url-pattern的/a–找到servlet-mapping中的servlet-name(类名)–找到上面的servlet-class 然后开始创建该类的实例–实现service方法</p>
<p><img src="/2020/02/17/Servlet/img05.png" alt></p>
<hr>
<h1 id="五、Servlet的通用写法"><a href="#五、Servlet的通用写法" class="headerlink" title="五、Servlet的通用写法"></a>五、Servlet的通用写法</h1><pre><code>Servlet (接口)
    |
    |
GenericServlet
    |
    |
HttpServlet （用于处理http的请求）</code></pre><ul>
<li>定义一个类—继承HttpServlet—复写doGet 和 doPost</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">package server;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class shixian extends HttpServlet &#123;</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;Get请求会来这个方法</span><br><span class="line">		@Override</span><br><span class="line">		protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">			System.out.println(&quot;get---&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;POST请求会来这个方法</span><br><span class="line">		@Override</span><br><span class="line">		protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">			System.out.println(&quot;post----&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/17/Servlet/img06.png" alt></p>
<hr>
<h1 id="六、Servlet-生命周期"><a href="#六、Servlet-生命周期" class="headerlink" title="六、Servlet 生命周期"></a>六、Servlet 生命周期</h1><ul>
<li><p><strong>init方法</strong></p>
<pre><code>在创建该servlet的实例时，就执行该方法。
一个servlet只会初始化一次， init方法只会执行一次
默认情况下是 ： 初次访问该servlet，才会创建实例。 </code></pre></li>
<li><p><strong>service方法</strong></p>
<pre><code>只要客户端来了一个请求，那么就执行这个方法了。
  该方法可以被执行很多次。 一次请求，对应一次service方法的调用</code></pre></li>
<li><p><strong>destroy方法</strong></p>
<pre><code>servlet销毁的时候，就会执行该方法

    1. 该项目从tomcat的里面移除。
    2. 正常关闭tomcat就会执行 shutdown.bat</code></pre></li>
</ul>
<blockquote>
<p>doGet 和 doPost不算生命周期方法，所谓的生命周期方法是指，从对象的创建到销毁一定会执行的方法， 但是这两个方法，不一定会执行。</p>
</blockquote>
<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package server;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.Servlet;</span><br><span class="line">import javax.servlet.ServletConfig;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.ServletRequest;</span><br><span class="line">import javax.servlet.ServletResponse;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">public class Hello implements Servlet&#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F;1 (一次)</span><br><span class="line">	&#x2F;&#x2F;在创建servlet实例--&gt;执行的方法</span><br><span class="line">	&#x2F;&#x2F;默认是初次访问servlet,才会创建实例</span><br><span class="line">	@Override</span><br><span class="line">	public void init(ServletConfig config) throws ServletException &#123;</span><br><span class="line">		System.out.println(&quot;Hello初始化...&quot;);	&#x2F;&#x2F;重启tomcat--浏览器输入http:&#x2F;&#x2F;localhost:8080&#x2F;HelloServlet&#x2F;Hello--控制台会输出</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;2 (多次)</span><br><span class="line">	&#x2F;&#x2F;只要客户端来请求，就执行</span><br><span class="line">	@Override</span><br><span class="line">	public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException &#123;</span><br><span class="line">		System.out.println(&quot;客户端来请求,service方法已经执行了&quot;);	 &#x2F;&#x2F;重启tomcat--浏览器输入http:&#x2F;&#x2F;localhost:8080&#x2F;HelloServlet&#x2F;Hello--控制台会输出	</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;3</span><br><span class="line">	&#x2F;&#x2F;用于servlet销毁</span><br><span class="line">	&#x2F;&#x2F;&#x2F;1. 该项目从tomcat的里面移除。</span><br><span class="line">	&#x2F;&#x2F;2. 正常关闭tomcat(shutdown.bat)就会执行 </span><br><span class="line">	@Override</span><br><span class="line">	public void destroy() &#123;</span><br><span class="line">		System.out.println(&quot;destroy方法已经执行了&quot;);	 &#x2F;&#x2F;重启tomcat--浏览器输入http:&#x2F;&#x2F;localhost:8080&#x2F;HelloServlet&#x2F;Hello--控制台会输出</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	@Override</span><br><span class="line">	public ServletConfig getServletConfig() &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO 自动生成的方法存根</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	@Override</span><br><span class="line">	public String getServletInfo() &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO 自动生成的方法存根</span><br><span class="line">		return null;</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="七、Servlet创建实例提前-缓解init方法逗留时间太长"><a href="#七、Servlet创建实例提前-缓解init方法逗留时间太长" class="headerlink" title="七、Servlet创建实例提前(缓解init方法逗留时间太长)"></a>七、Servlet创建实例提前(缓解init方法逗留时间太长)</h1><ol>
<li>默认情况下，只有在初次访问servlet的时候，才会执行init方法。 有的时候，我们可能需要在这个方法里面执行一些初始化工作，甚至是做一些比较耗时的逻辑。 </li>
<li>那么这个时候，初次访问，可能会在init方法中逗留太久的时间。 那么有没有方法可以让这个初始化的时机提前一点。 </li>
<li>在配置的时候， 使用load-on-startup元素来指定， 给定的数字越小，启动的时机就越早。 一般不写负数， 从2开始即可。</li>
</ol>
<p><strong>web.xml里面更改：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">  	&lt;servlet-name&gt;HelloServlet04&lt;&#x2F;servlet-name&gt;</span><br><span class="line">  	&lt;servlet-class&gt;com.itheima.servlet.HelloServlet04&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  	&lt;load-on-startup&gt;2&lt;&#x2F;load-on-startup&gt;  &#x2F;&#x2F;增加这一行</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="八、ServletConfig-API"><a href="#八、ServletConfig-API" class="headerlink" title="八、ServletConfig(API)"></a>八、ServletConfig(API)</h1><blockquote>
<p>Servlet的配置,—&gt;这个对象,获取servlet配置时的一些信息</p>
</blockquote>
<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">package server;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.Enumeration;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class ServletConfig extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;ServletConfig  -----&gt;  获取servlet配置的信息</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;1.得到servlet配置对象</span><br><span class="line">		javax.servlet.ServletConfig config&#x3D;getServletConfig();</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;获取servlet里面xml的配置名称servletName</span><br><span class="line">		String servletName&#x3D;config.getServletName();</span><br><span class="line">		System.out.println(&quot;servletName&#x3D;&quot;+servletName);</span><br><span class="line">		System.out.println(&quot;-------&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;获取servlet里面具体的某一个参数</span><br><span class="line">		String address&#x3D;config.getInitParameter(&quot;address&quot;); &#x2F;&#x2F;配置文件写的&lt;param-name&gt;address&lt;&#x2F;param-name&gt;</span><br><span class="line">		System.out.println(&quot;address&#x3D;&quot;+address);	</span><br><span class="line">		System.out.println(&quot;-------&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;遍历取出所有的参数名称</span><br><span class="line">		Enumeration&lt;String&gt; names &#x3D; config.getInitParameterNames();     &#x2F;&#x2F;ctrl+1--选“将方法给定指定局部变量 ”</span><br><span class="line">		while (names.hasMoreElements()) &#123;</span><br><span class="line">			String key &#x3D; (String) names.nextElement();</span><br><span class="line">			String value &#x3D; config.getInitParameter(key);</span><br><span class="line">			System.out.println(&quot;key&#x3D;&#x3D;&#x3D;&quot;+key + &quot;   value&#x3D;&quot;+value);	</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;来了post请求，就让它去执行doGet方法</span><br><span class="line">	@Override</span><br><span class="line">	protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(req, resp);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>web.xml配置文件加入：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ServletConfig类的配置文件--&gt;</span><br><span class="line">	</span><br><span class="line"> 	&lt;servlet&gt;   &lt;!--提示报错之后选最后一个servlet-name--&gt;</span><br><span class="line">  		&lt;servlet-name&gt;ServletConfig&lt;&#x2F;servlet-name&gt;    &lt;!--提示报错之后选最后一个servlet-class--&gt;</span><br><span class="line">  		&lt;servlet-class&gt;server.ServletConfig&lt;&#x2F;servlet-class&gt;   &lt;!--需要写包.类名--&gt;</span><br><span class="line">  		</span><br><span class="line">  		&lt;!-- 添加初始化参数 init-param --&gt;</span><br><span class="line">  		</span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">  				&lt;param-name&gt;address&lt;&#x2F;param-name&gt;</span><br><span class="line">  				&lt;param-value&gt;beijing...&lt;&#x2F;param-value&gt;</span><br><span class="line">  		&lt;&#x2F;init-param&gt;</span><br><span class="line"></span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">  			&lt;param-name&gt;age&lt;&#x2F;param-name&gt;</span><br><span class="line">  			&lt;param-value&gt;18&lt;&#x2F;param-value&gt;</span><br><span class="line">  		&lt;&#x2F;init-param&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">  			&lt;param-name&gt;name&lt;&#x2F;param-name&gt;</span><br><span class="line">  			&lt;param-value&gt;zhangsan&lt;&#x2F;param-value&gt;</span><br><span class="line">  		&lt;&#x2F;init-param&gt;</span><br><span class="line"></span><br><span class="line"> 	 &lt;&#x2F;servlet&gt;</span><br><span class="line"> 	</span><br><span class="line"> 	 &lt;servlet-mapping&gt;    &lt;!--提示报错之后选最后一个servlet-name--&gt;</span><br><span class="line">  		&lt;servlet-name&gt;ServletConfig&lt;&#x2F;servlet-name&gt;</span><br><span class="line">  		&lt;url-pattern&gt;&#x2F;ServletConfig&lt;&#x2F;url-pattern&gt;   </span><br><span class="line">  	&lt;&#x2F;servlet-mapping&gt;</span><br></pre></td></tr></table></figure>
<p><strong>重新打开tomcat–浏览器输入<a href="http://localhost:8080/HelloServlet/ServletConfig--控制台得到结果" target="_blank" rel="noopener">http://localhost:8080/HelloServlet/ServletConfig--控制台得到结果</a></strong></p>
<p><img src="/2020/02/17/Servlet/zuizhong.png" alt></p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Servlet/" rel="tag">Servlet</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-HTTP协议" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/17/HTTP%E5%8D%8F%E8%AE%AE/" class="article-date">
      <time datetime="2020-02-17T03:27:00.000Z" itemprop="datePublished">2020-02-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/17/HTTP%E5%8D%8F%E8%AE%AE/">HTTP协议</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="1-http协议-超文本传输协议"><a href="#1-http协议-超文本传输协议" class="headerlink" title="1.http协议(超文本传输协议)"></a>1.http协议(超文本传输协议)</h1><blockquote>
<p>针对网络上的客户端与服务器端在执行http请求的时候，遵守的一种规范。 其实就是规定了客户端在访问服务器端的时候，要带上哪些东西， 服务器端返回数据的时候，也要带上什么东西。 </p>
</blockquote>
<ul>
<li>版本<br> <strong>1.0</strong>—请求数据，服务器返回后，将会断开连接<br> <strong>1.1</strong>—请求数据，服务器返回后，连接还会保持着。 除非服务器|客户端关掉。有一定的时间限制，如果都空着这个连接，那么后面会自己断掉。</li>
</ul>
<hr>
<h2 id="1-1-介绍"><a href="#1-1-介绍" class="headerlink" title="1.1 介绍"></a>1.1 介绍</h2><p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221634601.png" alt="image-20231222163410552"></p>
<p><strong>HTTP：Hyper Text Transfer Protocol(超文本传输协议)</strong>，规定了浏览器与服务器之间数据传输的规则。</p>
<ul>
<li>http是互联网上应用最为广泛的一种网络协议 </li>
<li>http协议要求：浏览器在向服务器发送请求数据时，或是服务器在向浏览器发送响应数据时，都必须按照固定的格式进行数据传输</li>
</ul>
<h2 id="1-2-特点"><a href="#1-2-特点" class="headerlink" title="1.2 特点"></a>1.2 特点</h2><p>我们刚才初步认识了HTTP协议，那么我们在看看HTTP协议有哪些特点：</p>
<ul>
<li><p>*<em>1.基于TCP协议: *</em>   面向连接，安全</p>
<blockquote>
<p>TCP是一种面向连接的(建立连接之前是需要经过三次握手)、可靠的、基于字节流的传输层通信协议，在数据传输方面更安全</p>
</blockquote>
</li>
<li><p><strong>2.基于请求-响应模型:</strong>   一次请求对应一次响应（先请求后响应）</p>
<blockquote>
<p>请求和响应是一一对应关系，没有请求，就没有响应</p>
</blockquote>
</li>
<li><p><strong>3.HTTP协议是无状态协议:</strong>  对于数据没有记忆能力。每次请求-响应都是独立的</p>
<blockquote>
<p>无状态指的是客户端发送HTTP请求给服务端之后，服务端根据请求响应数据，响应完后，不会记录任何信息。</p>
<ul>
<li>缺点:  多次请求间不能共享数据</li>
<li>优点:  速度快</li>
</ul>
<p>请求之间无法共享数据会引发的问题：</p>
<ul>
<li>如：京东购物。加入购物车和去购物车结算是两次请求</li>
<li>由于HTTP协议的无状态特性，加入购物车请求响应结束后，并未记录加入购物车是何商品</li>
<li>发起去购物车结算的请求后，因为无法获取哪些商品加入了购物车，会导致此次请求无法正确展示数据</li>
</ul>
<p>具体使用的时候，我们发现京东是可以正常展示数据的，原因是Java早已考虑到这个问题，并提出了使用会话技术(Cookie、Session)来解决这个问题。具体如何来做，我们后面课程中会讲到。</p>
</blockquote>
</li>
</ul>
<h2 id="1-3-Http协议两个分类"><a href="#1-3-Http协议两个分类" class="headerlink" title="1.3 Http协议两个分类"></a>1.3 Http协议两个分类</h2><p>浏览器和服务器是按照HTTP协议进行数据通信的。</p>
<p>HTTP协议又分为：<strong>请求协议</strong>和<strong>响应协议</strong></p>
<ul>
<li>请求协议：浏览器将数据以请求格式发送到服务器<ul>
<li>包括：<strong>请求行</strong>、<strong>请求头</strong> 、<strong>请求体</strong> </li>
</ul>
</li>
<li>响应协议：服务器将数据以响应格式返回给浏览器<ul>
<li>包括：<strong>响应行</strong> 、<strong>响应头</strong> 、<strong>响应体</strong> </li>
</ul>
</li>
</ul>
<hr>
<h1 id="2-HTTP-请求协议"><a href="#2-HTTP-请求协议" class="headerlink" title="2.HTTP-请求协议"></a>2.HTTP-请求协议</h1><blockquote>
<p>请求的数据(三部分):请求行、请求头、请求体</p>
</blockquote>
<img src="C:/Users/larkkkkkkk/AppData/Roaming/Typora/typora-user-images/image-20231222164414883.png" alt="image-20231222164414883" style="zoom:50%;">

<ul>
<li>请求行(以上图中红色部分)：包含请求方式、资源路径、协议/版本<ul>
<li>请求方式：POST</li>
<li>资源路径：/brand</li>
<li>协议/版本：HTTP/1.1</li>
</ul>
</li>
<li>请求头(以上图中黄色部分)   </li>
<li>请求体(以上图中绿色部分) ：存储请求参数 <ul>
<li>请求体和请求头之间是有一个空行隔开（作用：用于标记请求头结束）</li>
</ul>
</li>
</ul>
<h2 id="2-1-请求行"><a href="#2-1-请求行" class="headerlink" title="2.1 请求行"></a>2.1 请求行</h2><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221655863.png" alt="image-20231222165531796" style="zoom: 50%;">

<ul>
<li><strong>请求方式</strong></li>
</ul>
<table>
<thead>
<tr>
<th align="center">请求方式</th>
<th align="left">请求说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>GET</strong>(最常见)</td>
<td align="left">获取资源。<br>向特定的资源发出请求。例：<a href="http://www.baidu.com/s?wd=itheima" target="_blank" rel="noopener">http://www.baidu.com/s?wd=itheima</a></td>
</tr>
<tr>
<td align="center"><strong>POST</strong>(最常见)</td>
<td align="left">传输实体主体。<br>向指定资源提交数据进行处理请求（例：上传文件），数据被包含在请求体中。</td>
</tr>
<tr>
<td align="center">OPTIONS</td>
<td align="left">返回服务器针对特定资源所支持的HTTP请求方式。<br>因为并不是所有的服务器都支持规定的方法，为了安全有些服务器可能会禁止掉一些方法，例如：DELETE、PUT等。那么OPTIONS就是用来询问服务器支持的方法。</td>
</tr>
<tr>
<td align="center">HEAD</td>
<td align="left">获得报文首部。<br>HEAD方法类似GET方法，但是不同的是HEAD方法不要求返回数据。通常用于确认URI的有效性及资源更新时间等。</td>
</tr>
<tr>
<td align="center">PUT</td>
<td align="left">传输文件。<br>PUT方法用来传输文件。类似FTP协议，文件内容包含在请求报文的实体中，然后请求保存到URL指定的服务器位置。</td>
</tr>
<tr>
<td align="center">DELETE</td>
<td align="left">删除文件。<br>请求服务器删除Request-URI所标识的资源</td>
</tr>
<tr>
<td align="center">TRACE</td>
<td align="left">追踪路径。<br>回显服务器收到的请求，主要用于测试或诊断</td>
</tr>
<tr>
<td align="center">CONNECT</td>
<td align="left">要求用隧道协议连接代理。<br>HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器</td>
</tr>
</tbody></table>
<ul>
<li><strong>资源路径</strong></li>
</ul>
<p>资源路径=请求路径<strong>?</strong>请求参数1=值1<strong>&amp;</strong>请求参数2=值2</p>
<ul>
<li><strong>协议/版本</strong></li>
</ul>
<p>HTTP/1.1等等</p>
<h2 id="2-2-请求头"><a href="#2-2-请求头" class="headerlink" title="2.2 请求头"></a>2.2 请求头</h2><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221705540.png" alt="image-20231222170506433" style="zoom: 50%;">

<p>http是个无状态的协议，所以在请求头设置浏览器的一些自身信息和想要响应的形式。这样服务器在收到信息后，就可以知道是谁，想干什么了</p>
<p>常见的HTTP请求头有:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Host: 表示请求的主机名</span><br><span class="line"></span><br><span class="line">User-Agent: 浏览器版本。 例如：Chrome浏览器的标识类似Mozilla&#x2F;5.0 ...Chrome&#x2F;79 ，IE浏览器的标识类似Mozilla&#x2F;5.0 (Windows NT ...)like Gecko</span><br><span class="line"></span><br><span class="line">Accept：表示浏览器能接收的资源类型，如text&#x2F;*，image&#x2F;*或者*&#x2F;*表示所有；</span><br><span class="line"></span><br><span class="line">Accept-Language：表示浏览器偏好的语言，服务器可以据此返回不同语言的网页；</span><br><span class="line"></span><br><span class="line">Accept-Encoding：表示浏览器可以支持的压缩类型，例如gzip, deflate等。</span><br><span class="line"></span><br><span class="line">Content-Type：请求主体的数据类型</span><br><span class="line"></span><br><span class="line">Content-Length：数据主体的大小（单位：字节）</span><br></pre></td></tr></table></figure>

<h2 id="2-3-请求体"><a href="#2-3-请求体" class="headerlink" title="2.3 请求体"></a>2.3 请求体</h2><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221710581.png" alt="image-20231222171056457" style="zoom:67%;">

<h2 id="2-4-Get和Post的区别"><a href="#2-4-Get和Post的区别" class="headerlink" title="2.4 Get和Post的区别"></a>2.4 Get和Post的区别</h2><table>
<thead>
<tr>
<th>区别方式</th>
<th>GET请求</th>
<th>POST请求</th>
</tr>
</thead>
<tbody><tr>
<td>请求参数</td>
<td>请求参数在请求行(第一部分)<br>例：/brand/findAll?name=OPPO&amp;status=1</td>
<td>请求参数在请求体(第三部分)</td>
</tr>
<tr>
<td>请求参数长度</td>
<td>有限制(浏览器不同限制也不同)</td>
<td>没有限制</td>
</tr>
<tr>
<td>安全性</td>
<td>安全性低(请求参数暴露在浏览器地址栏中)</td>
<td>安全性相对高</td>
</tr>
</tbody></table>
<hr>
<h1 id="3-HTTP-响应协议"><a href="#3-HTTP-响应协议" class="headerlink" title="3.HTTP-响应协议"></a>3.HTTP-响应协议</h1><blockquote>
<p>响应的数据(三部分):响应行、响应头、响应体</p>
</blockquote>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221644008.png" alt="image-20231222164452936" style="zoom:80%;">



<h2 id="3-1-响应行"><a href="#3-1-响应行" class="headerlink" title="3.1 响应行"></a>3.1 响应行</h2><p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221713334.png" alt="image-20231222171333614"></p>
<ul>
<li><strong>协议</strong></li>
</ul>
<p>​    http1.1等协议</p>
<ul>
<li><strong>状态码</strong></li>
</ul>
<table>
<thead>
<tr>
<th>状态码分类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>1xx</td>
<td><strong>响应中(发送还未结束)</strong>——临时状态码，表示请求已经接受，告诉客户端应该继续请求或者如果它已经完成则忽略它</td>
</tr>
<tr>
<td>2xx</td>
<td><strong>成功(最希望看到的)</strong>——表示请求已经被成功接收，处理已完成(成功了)</td>
</tr>
<tr>
<td>3xx</td>
<td><strong>重定向(我这里有问题，给你自动换一个服务器)</strong>——重定向到其它地方：它让客户端再发起一个请求以完成整个处理(域名过期，已经为您转到新域名位置)</td>
</tr>
<tr>
<td>4xx</td>
<td><strong>客户端错误</strong>——处理发生错误，责任在客户端，如：客户端的请求一个不存在的资源，客户端未被授权，禁止访问等</td>
</tr>
<tr>
<td>5xx</td>
<td><strong>服务器端错误</strong>——处理发生错误，责任在服务端，如：服务端抛出异常，路由出错，HTTP版本不支持等(后端controller不写@RequestParam注解)</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>描述</strong></p>
<p>对响应数据的描述</p>
</li>
</ul>
<h2 id="3-2-响应头"><a href="#3-2-响应头" class="headerlink" title="3.2 响应头"></a>3.2 响应头</h2><p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221718223.png" alt="image-20231222171815139"></p>
<ul>
<li>常见的响应头信息：</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221720177.png" alt="image-20231222172032115"></p>
<h2 id="3-3-响应体"><a href="#3-3-响应体" class="headerlink" title="3.3 响应体"></a>3.3 响应体</h2><p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221719190.png" alt="image-20231222171920140"></p>
<h1 id="4-HTTP状态码-响应协议"><a href="#4-HTTP状态码-响应协议" class="headerlink" title="4.HTTP状态码(响应协议)"></a>4.HTTP状态码(响应协议)</h1><h2 id="4-1-状态码大类"><a href="#4-1-状态码大类" class="headerlink" title="4.1 状态码大类"></a>4.1 状态码大类</h2><table>
<thead>
<tr>
<th>状态码分类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>1xx</td>
<td><strong>响应中(发送还未结束)</strong>——临时状态码，表示请求已经接受，告诉客户端应该继续请求或者如果它已经完成则忽略它</td>
</tr>
<tr>
<td>2xx</td>
<td><strong>成功(最希望看到的)</strong>——表示请求已经被成功接收，处理已完成(成功了)</td>
</tr>
<tr>
<td>3xx</td>
<td><strong>重定向(我这里有问题，给你自动换一个服务器)</strong>——重定向到其它地方：它让客户端再发起一个请求以完成整个处理(域名过期，已经为您转到新域名位置)</td>
</tr>
<tr>
<td>4xx</td>
<td><strong>客户端错误</strong>——处理发生错误，责任在客户端，如：客户端的请求一个不存在的资源，客户端未被授权，禁止访问等</td>
</tr>
<tr>
<td>5xx</td>
<td><strong>服务器端错误</strong>——处理发生错误，责任在服务端，如：服务端抛出异常，路由出错，HTTP版本不支持等(后端controller不写@RequestParam注解,mapper写错了sql)</td>
</tr>
</tbody></table>
<h2 id="4-2-常见的响应状态码"><a href="#4-2-常见的响应状态码" class="headerlink" title="4.2 常见的响应状态码"></a>4.2 常见的响应状态码</h2><table>
<thead>
<tr>
<th>状态码</th>
<th>英文描述</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>==200==</td>
<td><strong><code>OK</code></strong></td>
<td>客户端请求成功，即<strong>处理成功</strong>，这是我们最想看到的状态码</td>
</tr>
<tr>
<td>302</td>
<td><strong><code>Found</code></strong></td>
<td>指示所请求的资源已移动到由<code>Location</code>响应头给定的 URL，浏览器会自动重新访问到这个页面</td>
</tr>
<tr>
<td>304</td>
<td><strong><code>Not Modified</code></strong></td>
<td>告诉客户端，你请求的资源至上次取得后，服务端并未更改，你直接用你本地缓存吧。隐式重定向</td>
</tr>
<tr>
<td>400</td>
<td><strong><code>Bad Request</code></strong></td>
<td>客户端请求有<strong>语法错误</strong>，不能被服务器所理解</td>
</tr>
<tr>
<td>403</td>
<td><strong><code>Forbidden</code></strong></td>
<td>服务器收到请求，但是<strong>拒绝提供服务</strong>，比如：没有权限访问相关资源</td>
</tr>
<tr>
<td>==404==</td>
<td><strong><code>Not Found</code></strong></td>
<td><strong>请求资源不存在</strong>，一般是URL输入有误，或者网站资源被删除了</td>
</tr>
<tr>
<td>405</td>
<td><strong><code>Method Not Allowed</code></strong></td>
<td>请求方式有误，比如应该用GET请求方式的资源，用了POST</td>
</tr>
<tr>
<td>428</td>
<td><strong><code>Precondition Required</code></strong></td>
<td><strong>服务器要求有条件的请求</strong>，告诉客户端要想访问该资源，必须携带特定的请求头</td>
</tr>
<tr>
<td>429</td>
<td><strong><code>Too Many Requests</code></strong></td>
<td>指示用户在给定时间内发送了<strong>太多请求</strong>（“限速”），配合 Retry-After(多长时间后可以请求)响应头一起使用</td>
</tr>
<tr>
<td>431</td>
<td><strong><code>Request Header Fields Too Large</code></strong></td>
<td><strong>请求头太大</strong>，服务器不愿意处理请求，因为它的头部字段太大。请求可以在减少请求头域的大小后重新提交。</td>
</tr>
<tr>
<td>==500==</td>
<td><strong><code>Internal Server Error</code></strong></td>
<td><strong>服务器发生不可预期的错误</strong>。服务器出异常了，赶紧看日志去吧</td>
</tr>
<tr>
<td>503</td>
<td><strong><code>Service Unavailable</code></strong></td>
<td><strong>服务器尚未准备好处理请求</strong>，服务器刚刚启动，还未初始化好</td>
</tr>
</tbody></table>
<p>状态码大全：<a href="https://cloud.tencent.com/developer/chapter/13553" target="_blank" rel="noopener">https://cloud.tencent.com/developer/chapter/13553</a> </p>
<h1 id="5-HTTP协议解析"><a href="#5-HTTP协议解析" class="headerlink" title="5. HTTP协议解析"></a>5. HTTP协议解析</h1><p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221722709.png" alt="image-20231222172249641"></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Tomcat" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/16/Tomcat/" class="article-date">
      <time datetime="2020-02-16T05:17:42.000Z" itemprop="datePublished">2020-02-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/16/Tomcat/">Tomcat</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="1-WEB服务器-Tomcat"><a href="#1-WEB服务器-Tomcat" class="headerlink" title="1. WEB服务器-Tomcat"></a>1. WEB服务器-Tomcat</h1><h2 id="1-1-简介"><a href="#1-1-简介" class="headerlink" title="1.1 简介"></a>1.1 简介</h2><h3 id="1-1-1-服务器概述"><a href="#1-1-1-服务器概述" class="headerlink" title="1.1.1 服务器概述"></a>1.1.1 服务器概述</h3><p><strong>服务器硬件</strong></p>
<ul>
<li>指的也是计算机，只不过服务器要比我们日常使用的计算机大很多。</li>
</ul>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221734122.png" alt="image-20231222173448980" style="zoom: 50%;">



<p>服务器，也称伺服器。是提供计算服务的设备。由于服务器需要响应服务请求，并进行处理，因此一般来说服务器应具备承担服务并且保障服务的能力。</p>
<p>服务器的构成包括处理器、硬盘、内存、系统总线等，和通用的计算机架构类似，但是由于需要提供高可靠的服务，因此在处理能力、稳定性、可靠性、安全性、可扩展性、可管理性等方面要求较高。</p>
<p>在网络环境下，根据服务器提供的服务类型不同，可分为：文件服务器，数据库服务器，应用程序服务器，WEB服务器等。</p>
<p>服务器只是一台设备，必须安装服务器软件才能提供相应的服务。</p>
<p><strong>服务器软件</strong></p>
<p>服务器软件：基于ServerSocket编写的程序</p>
<ul>
<li>服务器软件本质是一个运行在服务器设备上的应用程序</li>
<li>能够接收客户端请求，并根据请求给客户端响应数据</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221736664.png" alt="image-20231222173608608"></p>
<h3 id="1-1-2-Web服务器"><a href="#1-1-2-Web服务器" class="headerlink" title="1.1.2 Web服务器"></a>1.1.2 Web服务器</h3><p>Web服务器是一个应用程序(软件)，对HTTP协议的操作进行封装，使得程序员不必直接对协议进行操作(不用程序员自己写代码去解析http协议规则)，让Web开发更加便捷。主要功能是”提供网上信息浏览服务”。</p>
<p><img src="C:/Users/larkkkkkkk/AppData/Roaming/Typora/typora-user-images/image-20231222173646117.png" alt="image-20231222173646117"></p>
<p>Web服务器是安装在服务器端的一款软件，将来我们把自己写的Web项目部署到Tomcat服务器软件中，当Web服务器软件启动后，部署在Web服务器软件中的页面就可以直接通过浏览器来访问了。</p>
<p><strong>Web服务器软件使用步骤</strong></p>
<ul>
<li>准备静态资源</li>
<li>下载安装Web服务器软件</li>
<li>将静态资源部署到Web服务器上</li>
<li>启动Web服务器使用浏览器访问对应的资源</li>
</ul>
<p>第1步：准备静态资源</p>
<ul>
<li>在提供的资料中找到静态资源文件</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221737444.png" alt="image-20231222173726408"></p>
<p>第2步：下载安装Web服务器软件</p>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221737221.png" alt="image-20231222173712179"></p>
<p>第3步：将静态资源部署到Web服务器上</p>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221737676.png" alt="image-20231222173719630"></p>
<p>第4步：启动Web服务器使用浏览器访问对应的资源</p>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221737976.png" alt="image-20231222173734901" style="zoom:50%;">

<p>浏览器输入：<code>http://localhost:8080/demo/index.html</code></p>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221737236.png" alt="image-20231222173752168" style="zoom:67%;">

<p>上述内容在演示的时候，使用的是Apache下的Tomcat软件，至于Tomcat软件如何使用，后面会详细的讲到。而对于Web服务器来说，实现的方案有很多，Tomcat只是其中的一种，而除了Tomcat以外，还有很多优秀的Web服务器，比如:</p>
 <img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221738002.png" alt="image-20231222173802921" style="zoom: 67%;">

<p>Tomcat就是一款软件，我们主要是以学习如何去使用为主。具体我们会从以下这些方向去学习:</p>
<ol>
<li><p>简介：初步认识下Tomcat</p>
</li>
<li><p>基本使用: 安装、卸载、启动、关闭、配置和项目部署，这些都是对Tomcat的基本操作</p>
</li>
<li><p>IDEA中如何创建Maven Web项目</p>
</li>
<li><p>IDEA中如何使用Tomcat,后面这两个都是我们以后开发经常会用到的方式</p>
</li>
</ol>
<p>首选我们来认识下Tomcat。</p>
<h3 id="1-1-3-Tomcat"><a href="#1-1-3-Tomcat" class="headerlink" title="1.1.3 Tomcat"></a>1.1.3 Tomcat</h3><p>Tomcat服务器软件是一个免费的开源的web应用服务器。是Apache软件基金会的一个核心项目。由Apache，Sun和其他一些公司及个人共同开发而成。</p>
<p>由于Tomcat只支持Servlet/JSP少量JavaEE规范，所以是一个开源免费的轻量级Web服务器。</p>
<blockquote>
<p>JavaEE规范：   JavaEE =&gt; Java Enterprise Edition(Java企业版)</p>
<p>avaEE规范就是指Java企业级开发的技术规范总和。包含13项技术规范：JDBC、JNDI、EJB、RMI、JSP、Servlet、XML、JMS、Java IDL、JTS、JTA、JavaMail、JAF</p>
</blockquote>
<p>因为Tomcat支持Servlet/JSP规范，所以Tomcat也被称为Web容器、Servlet容器。JavaWeb程序需要依赖Tomcat才能运行。</p>
<p>Tomcat的官网: <a href="https://tomcat.apache.org/" target="_blank" rel="noopener">https://tomcat.apache.org/</a> </p>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221738104.png" alt="image-20231222173824051"></p>
<h2 id="1-2-基本使用"><a href="#1-2-基本使用" class="headerlink" title="1.2 基本使用"></a>1.2 基本使用</h2><h3 id="1-2-1-下载"><a href="#1-2-1-下载" class="headerlink" title="1.2.1 下载"></a>1.2.1 下载</h3><p>直接从官方网站下载：<a href="https://tomcat.apache.org/download-90.cgi" target="_blank" rel="noopener">https://tomcat.apache.org/download-90.cgi</a></p>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221739242.png" alt="image-20231222173909174" style="zoom: 50%;">

<blockquote>
<p>Tomcat软件类型说明：</p>
<ul>
<li>tar.gz文件，是linux和mac操作系统下的压缩版本</li>
<li>zip文件，是window操作系统下压缩版本（我们选择zip文件）</li>
</ul>
</blockquote>
<p>大家可以自行下载，也可以直接使用资料中已经下载好的资源，</p>
<p>Tomcat的软件程序  ：/资料/SpringbootWeb/apache-tomcat-9.0.27-windows-x64.zip</p>
 <img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221739526.png" alt="image-20231222173921491" style="zoom:67%;">



<h3 id="1-2-2-安装与卸载"><a href="#1-2-2-安装与卸载" class="headerlink" title="1.2.2 安装与卸载"></a>1.2.2 安装与卸载</h3><ul>
<li><strong>安装:</strong> Tomcat是绿色版，直接解压即安装</li>
</ul>
<blockquote>
<p>在E盘的develop目录下，将<code>apache-tomcat-9.0.27-windows-x64.zip</code>进行解压缩，会得到一个<code>apache-tomcat-9.0.27</code>的目录，Tomcat就已经安装成功。</p>
</blockquote>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221739607.png" alt="image-20231222173945563" style="zoom: 67%;">

<p>==注意，Tomcat在解压缩的时候，解压所在的目录可以任意，但最好解压到一个不包含中文和空格的目录，因为后期在部署项目的时候，如果路径有中文或者空格可能会导致程序部署失败。==</p>
<p>打开<code>apache-tomcat-9.0.27</code>目录就能看到如下目录结构，每个目录中包含的内容需要认识下</p>
  <img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221739334.png" alt="image-20231222173958288" style="zoom:67%;">



<p>bin：目录下有两类文件，一种是以<code>.bat</code>结尾的，是Windows系统的可执行文件，一种是以<code>.sh</code>结尾的，是Linux系统的可执行文件。</p>
<p>webapps：就是以后项目部署的目录</p>
<ul>
<li><strong>卸载：</strong>卸载比较简单，可以直接删除目录即可</li>
</ul>
<h3 id="1-2-3-启动与关闭"><a href="#1-2-3-启动与关闭" class="headerlink" title="1.2.3 启动与关闭"></a>1.2.3 启动与关闭</h3><p><strong>启动Tomcat</strong> </p>
<ul>
<li>双击tomcat解压目录/bin/<strong>startup.bat</strong>文件即可启动tomcat</li>
</ul>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221742179.png" alt="image-20231222174200134" style="zoom: 80%;">

<p>==注意: tomcat服务器启动后,黑窗口不会关闭,只要黑窗口不关闭,就证明tomcat服务器正在运行==</p>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221742747.png" alt="image-20231222174211676" style="zoom:67%;">

<p>Tomcat的默认端口为8080，所以在浏览器的地址栏输入：<code>http://127.0.0.1:8080</code> 即可访问tomcat服务器</p>
<blockquote>
<p>127.0.0.1 也可以使用localhost代替。如：<code>http://localhost:8080</code></p>
</blockquote>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221742660.png" style="zoom: 50%;">

<ul>
<li>能看到以上图片中Apache Tomcat的内容就说明Tomcat已经启动成功</li>
</ul>
<p>==注意事项== ：Tomcat启动的过程中，遇到控制台有中文乱码时，可以通常修改conf/logging.prooperties文件解决</p>
<p> <img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221742272.png" alt="image-20231222174239235"></p>
<p><strong>关闭:</strong>  关闭有三种方式 </p>
<p>1、强制关闭：直接x掉Tomcat窗口（不建议）</p>
<p>2、正常关闭：bin\shutdown.bat</p>
<p>3、正常关闭：在Tomcat启动窗口中按下 Ctrl+C</p>
<ul>
<li>说明：如果按下Ctrl+C没有反映，可以多按几次</li>
</ul>
<h3 id="1-2-4-常见问题"><a href="#1-2-4-常见问题" class="headerlink" title="1.2.4 常见问题"></a>1.2.4 常见问题</h3><p><strong>问题1：Tomcat启动时，窗口一闪而过</strong></p>
<ul>
<li>检查JAVA_HOME环境变量是否正确配置</li>
</ul>
<img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221743848.png" alt="image-20231222174300794" style="zoom:67%;">

<p><strong>问题2：端口号冲突</strong></p>
<p><img src="https://raw.githubusercontent.com/Larkkkkkkk/hexo-picture/main/.images/202312221743740.png" alt="image-20231222174308683"></p>
<ul>
<li><p>发生问题的原因：Tomcat使用的端口被占用了。</p>
</li>
<li><p>解决方案：换Tomcat端口号</p>
<ul>
<li>要想修改Tomcat启动的端口号，需要修改 conf/server.xml文件</li>
</ul>
</li>
</ul>
<blockquote>
<p>注: HTTP协议默认端口号为80，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号。</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tomcat/" rel="tag">Tomcat</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/22/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/24/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2025 Larkkkkkkk
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="http://bestwing.me" target="_blank">Sw'blog</a> by Swing
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>

  </div>
</body>
</html>