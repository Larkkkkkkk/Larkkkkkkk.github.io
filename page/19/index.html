<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Larkkkkkkk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Larkkkkkkk">
<meta property="og:url" content="https://larkkkkkkk.github.io/page/19/index.html">
<meta property="og:site_name" content="Larkkkkkkk">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Larkkkkkkk">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Larkkkkkkk" type="application/atom+xml">
  
  
    <link rel="icon" href="/http://oayoilchh.bkt.clouddn.com/2016/07/27/18:05:26%20">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="img/head.jpg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Larkkkkkkk</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                        
                            <li><a  href="/archives">文章归档</a></li>
                        
                            <li><a  href="/CTFStudy">学习导航</a></li>
                        
                            <li><a  href="/PWNABLE">PWNABLE</a></li>
                        
                            <li><a  href="/resume">个人简历</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail"  target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                            
                                <a class="fl github"  target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                            
                                <a class="fl zhihu"  target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ajax/" style="font-size: 12px;">Ajax</a> <a href="/tags/Cookie%E5%92%8CSession/" style="font-size: 14px;">Cookie和Session</a> <a href="/tags/DBUtils/" style="font-size: 11px;">DBUtils</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">EL表达式</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/Filter/" style="font-size: 11px;">Filter</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTPServletReauest%E5%92%8CHTTPServletResponse/" style="font-size: 10px;">HTTPServletReauest和HTTPServletResponse</a> <a href="/tags/Hexo%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">Hexo博客</a> <a href="/tags/IDEA%E5%AE%89%E8%A3%85%E5%92%8C%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">IDEA安装和破解</a> <a href="/tags/JAVA/" style="font-size: 19px;">JAVA</a> <a href="/tags/JAVA-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-Lambda表达式</a> <a href="/tags/JAVA-Set%E9%9B%86%E5%90%88/" style="font-size: 10px;">JAVA-Set集合</a> <a href="/tags/JAVA-%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">JAVA-反射</a> <a href="/tags/JAVA-%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 12px;">JAVA-多线程</a> <a href="/tags/JAVA-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-正则表达式</a> <a href="/tags/JAVA-%E6%B3%9B%E5%9E%8B/" style="font-size: 10px;">JAVA-泛型</a> <a href="/tags/JAVA-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 12px;">JAVA-网络编程</a> <a href="/tags/JAVA-%E9%9B%86%E5%90%88/" style="font-size: 12px;">JAVA-集合</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0/" style="font-size: 11px;">JAVA练习</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">JAVA练习-动态规划</a> <a href="/tags/JQuery/" style="font-size: 13px;">JQuery</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/LeetCode/" style="font-size: 17px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Listener/" style="font-size: 10px;">Listener</a> <a href="/tags/Mybatis/" style="font-size: 18px;">Mybatis</a> <a href="/tags/MybatisPlus/" style="font-size: 10px;">MybatisPlus</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC/" style="font-size: 15px;">Mysql数据库和JDBC</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 11px;">Servlet</a> <a href="/tags/Spring/" style="font-size: 16px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 15px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Web%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 20px;">Web前端知识点</a> <a href="/tags/XML/" style="font-size: 11px;">XML</a> <a href="/tags/Zookeeper/" style="font-size: 10px;">Zookeeper</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/flask%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">flask框架</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/jsp%E6%A0%87%E5%87%86%E6%A0%87%E7%AD%BE%E5%BA%93/" style="font-size: 10px;">jsp标准标签库</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/picture/" style="font-size: 10px;">picture</a> <a href="/tags/python/" style="font-size: 12px;">python</a> <a href="/tags/pytorch/" style="font-size: 10px;">pytorch</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/ssm%E6%A1%86%E6%9E%B6%E6%A8%A1%E6%9D%BF/" style="font-size: 10px;">ssm框架模板</a> <a href="/tags/webserver%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">webserver编程</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 10px;">事务</a> <a href="/tags/%E4%BA%AC%E4%B8%9C/" style="font-size: 11px;">京东</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%90%8E%E7%BC%80%E6%A0%91/" style="font-size: 10px;">后缀树</a> <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="font-size: 10px;">哈希表</a> <a href="/tags/%E5%9B%BE/" style="font-size: 10px;">图</a> <a href="/tags/%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/" style="font-size: 10px;">复杂度分析</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">学生管理系统</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F2-0/" style="font-size: 12px;">学生管理系统2.0</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">微信小程序</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 13px;">微服务</a> <a href="/tags/%E6%8B%BC%E5%A4%9A%E5%A4%9A/" style="font-size: 10px;">拼多多</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 10px;">数据分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" style="font-size: 10px;">数据库连接池</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84/" style="font-size: 10px;">数据结构-稀疏数组</a> <a href="/tags/%E6%96%87%E5%AD%97%E7%AF%87-%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">文字篇-记录</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 12px;">机器学习</a> <a href="/tags/%E6%A0%88/" style="font-size: 10px;">栈</a> <a href="/tags/%E6%A0%91/" style="font-size: 12px;">树</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 10px;">注解</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 14px;">深度学习</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 11px;">爬虫</a> <a href="/tags/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6/" style="font-size: 10px;">生物信息学</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" style="font-size: 12px;">知识图谱</a> <a href="/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E5%88%9D%E8%AF%95/" style="font-size: 12px;">研究生初试</a> <a href="/tags/%E7%A7%8B%E6%8B%9B/" style="font-size: 10px;">秋招</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">算法-动态规划</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%9B%9E%E6%BA%AF%E6%B3%95/" style="font-size: 10px;">算法-回溯法</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法-贪心算法</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">考研</a> <a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 13px;">蓝桥杯</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 11px;">计算机网络</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%AF%BE%E8%AE%BE-%E8%BD%AF%E4%BB%B6%E4%B8%93%E4%B8%9A%E9%A2%98%E7%9B%AE/" style="font-size: 10px;">计算机网络课设(软件专业题目)</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 12px;">设计模式</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" style="font-size: 10px;">软件体系结构</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 10px;">递归</a> <a href="/tags/%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">重新部署</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 10px;">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 10px;">队列</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a> <a href="/tags/%E9%A1%B5%E9%9D%A2%EF%BC%88H5-CSS%EF%BC%89/" style="font-size: 10px;">页面（H5+CSS）</a> <a href="/tags/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0/" style="font-size: 10px;">项目上传</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://ring3.xyz/">Yllen</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://mxny.org/">麦香浓郁</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://whereisk0shl.top/">K0sh1</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.ycjcl.cc/">信鑫</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://bystudent.com/">ByStundet表哥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.jarviswang.me/">汪神_Jarvis</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sh3ll.me/">Chu</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.hackfun.org/">4ido10n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/iamstudy">L3m0n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://o0xmuhe.me/">muhe</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.nuptzj.cn/">_画船听雨</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.virzz.com/index.html">Virink</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.sqlsec.com/">国光</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bodkin.ren/">老锥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cizel.cn/">C1zel</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://1phan.cc">1phan</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.liuil.top/">liuil</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Ox9A82/">Ox9A82</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://burnegg.com/">burnegg</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://jwrsec.cn/">jwr-sec</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sudalover.cn/">苏打</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.binklac.com">VeroFess</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bendawang.site/">bendawang</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://weeklyalgo.codes/">hook</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.flier.net.cn/">Flier&#39;blog</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.mutepig.club">mutepig</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://blog.iret.xyz/list.aspx">Silver</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://simp1e.leanote.com/">Simple</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://processor.pub/">Processor</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一只淹死在二进制海洋里的二进制狗!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Larkkkkkkk</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Larkkkkkkk</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                
                    <li><a href="/archives">文章归档</a></li>
                
                    <li><a href="/CTFStudy">学习导航</a></li>
                
                    <li><a href="/PWNABLE">PWNABLE</a></li>
                
                    <li><a href="/resume">个人简历</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-JSTL" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/26/JSTL/" class="article-date">
      <time datetime="2020-02-26T14:46:53.000Z" itemprop="datePublished">2020-02-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/26/JSTL/">JSTL</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、JSTL-JSP-Standard-Tag-Library"><a href="#一、JSTL-JSP-Standard-Tag-Library" class="headerlink" title="一、JSTL(JSP Standard Tag Library )"></a>一、JSTL(JSP Standard Tag Library )</h1><p>　　<strong>简化jsp</strong>的代码编写,<strong>替换</strong>JSP中&lt;% %&gt;写法.与EL表达式(${})<strong>配合</strong>。</p>
<h1 id="二、使用步骤"><a href="#二、使用步骤" class="headerlink" title="二、使用步骤"></a>二、使用步骤</h1><ol>
<li>导入jar文件到工程的WebContent/Web-Inf/lib<br>(文件在我的f盘的jar里)</li>
</ol>
<p><img src="/2020/02/26/JSTL/daoru.png" alt></p>
<ol start="2">
<li>在jsp页面上，使用taglib指令，来引入标签库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">	&lt;%@ taglib prefix&#x3D;&quot;c&quot; uri&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;jsp&#x2F;jstl&#x2F;core&quot; %&gt;</span><br><span class="line">&#96;&#96;&#96;	</span><br><span class="line">**注意**： 如果想支持 EL表达式，那么引入的标签库必须选择1.1的版本，1.0的版本不支持EL表达式。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"># 二、常用标签(set&#x2F;if&#x2F;forEach) #</span><br></pre></td></tr></table></figure>
<pre><code>&lt;c:set&gt;&lt;/c:set&gt;
&lt;c:if test=&quot;&quot;&gt;&lt;/c:if&gt;
&lt;c:forEach&gt;&lt;/c:forEach&gt;</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## c:set ##</span><br></pre></td></tr></table></figure>
<pre><code>&lt;!-- 声明一个对象name， 对象的值 zhangsan , 存储到了page（默认） ， 指定是session --&gt;
    &lt;c:set var=&quot;name&quot; value=&quot;zhangsan&quot; scope=&quot;session&quot;&gt;&lt;/c:set&gt;

&lt;!-- 使用EL标签的内置对象sessionScope取出 --&gt;
    ${sessionScope.name }</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## c:if ##</span><br></pre></td></tr></table></figure>
<pre><code>&lt;!-- 声明一个对象age，对象的值 18 ,存储到了page（默认）--&gt;
&lt;c:set var=&quot;age&quot; value=&quot;18&quot; &gt;&lt;/c:set&gt;

    &lt;c:if test=&quot;${ age &gt; 26 }&quot;&gt;
        年龄大于了26岁...
    &lt;/c:if&gt;

    &lt;c:if test=&quot;${ age &lt;= 26 }&quot;&gt;
        年龄小于了26岁...
    &lt;/c:if&gt;</code></pre><hr>
<pre><code>定义一个变量名 flag  去接收前面表达式的值，然后存在session域中

&lt;c:if test=&quot;${ age &gt; 26 }&quot; var=&quot;flag&quot; scope=&quot;session&quot;&gt;
    年龄大于了26岁...
&lt;/c:if&gt;</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## c:forEach ##</span><br></pre></td></tr></table></figure>
<pre><code>从1 开始遍历到10 ，得到的结果 ，赋值给 i ,并且会存储到page域中， step , 增幅为2， 
    &lt;c:forEach begin=&quot;1&quot; end=&quot;10&quot; var=&quot;i&quot; step=&quot;2&quot;&gt;
        ${i}
    &lt;/c:forEach&gt;</code></pre><hr>
<!--     items : 表示遍历哪一个对象---这里必须写EL表达式。 
        var: 遍历出来的每一个元素用user 去接收。 
-->
<pre><code>&lt;c:forEach var=&quot;user&quot; items=&quot;${list}&quot;&gt;
    ${user.name } ----${user.age }
&lt;/c:forEach&gt;</code></pre><p>```</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jsp%E6%A0%87%E5%87%86%E6%A0%87%E7%AD%BE%E5%BA%93/" rel="tag">jsp标准标签库</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-EL表达式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="article-date">
      <time datetime="2020-02-26T05:20:49.000Z" itemprop="datePublished">2020-02-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/">EL表达式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述#"></a>一、概述#</h1><blockquote>
<p>是为了<strong>简化jsp代码</strong>，具体一点就是为了简化在jsp里面写的那些java代码。</p>
</blockquote>
<h1 id="二、写法格式"><a href="#二、写法格式" class="headerlink" title="二、写法格式"></a>二、写法格式</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;表达式&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果从<strong>作用域</strong>中取值，会<strong>先小</strong>的作用域开始取，如果没有，就往下一个作用域取。  一直把四个作用域取完都没有， 就没有显示。</p>
</blockquote>
<h1 id="三、简单使用"><a href="#三、简单使用" class="headerlink" title="三、简单使用"></a>三、简单使用</h1><h2 id="简单取数"><a href="#简单取数" class="headerlink" title="简单取数:##"></a>简单取数:##</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">	pageContext.setAttribute(&quot;name&quot;,&quot;pageContext&quot;);</span><br><span class="line">	request.setAttribute(&quot;name&quot;,&quot;request&quot;);</span><br><span class="line">	session.setAttribute(&quot;name&quot;,&quot;session&quot;);</span><br><span class="line">	application.setAttribute(&quot;name&quot;,&quot;application&quot;);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">以普通方式取出数据:&lt;&#x2F;br&gt;</span><br><span class="line">&lt;%&#x3D;pageContext.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">&lt;%&#x3D;request.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">&lt;%&#x3D;session.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">&lt;%&#x3D;application.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">&lt;&#x2F;br&gt;</span><br><span class="line"></span><br><span class="line">以EL表达式取出数据:&lt;&#x2F;br&gt;</span><br><span class="line">$&#123;pageScope.name&#125;         &#x2F;&#x2F;直接精确的去找name</span><br><span class="line">$&#123;requestScope.name&#125;</span><br><span class="line">$&#123;sessionScope.name&#125;</span><br><span class="line">$&#123;applicationScope.name&#125;</span><br><span class="line">&lt;&#x2F;br&gt;</span><br></pre></td></tr></table></figure>
<p><strong>细节：</strong><br>　　 <code>${ name }</code>：找寻顺序是：page –&gt; request –&gt; session –&gt;application<br>　　 <code>${ sessionScope.name }</code> ：精确地寻找(Scope) 到session的</p>
<p><img src="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/shuju.png" alt></p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">		String[] a&#x3D;&#123;&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;,&quot;dd&quot;&#125;;     &#x2F;&#x2F;注册一个a数组</span><br><span class="line">		pageContext.setAttribute(&quot;array&quot;,a);   &#x2F;&#x2F;将a数组的存到array数组</span><br><span class="line">%&gt;</span><br><span class="line">	&lt;&#x2F;br&gt;</span><br><span class="line">	</span><br><span class="line">	数组中的值：&lt;&#x2F;br&gt;</span><br><span class="line">	$&#123;array[0]&#125;  &#x2F;&#x2F;然后利用下标找(有下标通过 [] )</span><br><span class="line">	$&#123;array[1]&#125;</span><br><span class="line">	$&#123;array[2]&#125;</span><br><span class="line">	$&#123;array[3]&#125;</span><br><span class="line">	&lt;&#x2F;br&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/shuzu.png" alt></p>
<h2 id="List集合"><a href="#List集合" class="headerlink" title="List集合"></a>List集合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">	List list&#x3D;new ArrayList();   &#x2F;&#x2F; alt+&#x2F;  提示出然后加import</span><br><span class="line">	</span><br><span class="line">	list.add(&quot;11&quot;);   &#x2F;&#x2F;list集合添加元素是add()方法</span><br><span class="line">	list.add(&quot;22&quot;);</span><br><span class="line">	list.add(&quot;33&quot;);</span><br><span class="line">	list.add(&quot;44&quot;);</span><br><span class="line">	pageContext.setAttribute(&quot;array&quot;,list);  &#x2F;&#x2F;将list数组的存到array数组</span><br><span class="line">%&gt; </span><br><span class="line"></span><br><span class="line">List集合:&lt;&#x2F;br&gt;</span><br><span class="line">$&#123;array[0]&#125;   &#x2F;&#x2F;然后利用[]找(有下标通过 [] )</span><br><span class="line">$&#123;array[1]&#125;    </span><br><span class="line">$&#123;array[2]&#125;</span><br><span class="line">$&#123;array[3]&#125;</span><br><span class="line">&lt;&#x2F;br&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/shuzu.png" alt></p>
<h2 id="Map集合"><a href="#Map集合" class="headerlink" title="Map集合"></a>Map集合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">	Map map&#x3D;new HashMap();   &#x2F;&#x2F;  alt+&#x2F;  提示出然后加import	</span><br><span class="line">	</span><br><span class="line">	map.put(&quot;name&quot;,&quot;zhangsan&quot;);   &#x2F;&#x2F;map集合添加元素是put()方法</span><br><span class="line">	map.put(&quot;age&quot;,&quot;19&quot;);</span><br><span class="line">	map.put(&quot;address&quot;,&quot;南京...&quot;);</span><br><span class="line">	</span><br><span class="line">	pageContext.setAttribute(&quot;array&quot;,map);  &#x2F;&#x2F;将map数组的存到array数组</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">Map集合:&lt;&#x2F;br&gt;</span><br><span class="line">$&#123;array.name&#125;   &#x2F;&#x2F;然后利用.找(没有下标通过 . ) </span><br><span class="line">$&#123;array.age&#125;</span><br><span class="line">$&#123;array.address&#125;</span><br><span class="line">&lt;&#x2F;br&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/02/26/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/shuzu.png" alt></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1.如果这份值是有下标的，那么直接使用[]</span><br><span class="line"></span><br><span class="line">	&lt;%</span><br><span class="line">		String [] array &#x3D; &#123;&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;&#125;</span><br><span class="line">		session.setAttribute(&quot;array&quot;,array);</span><br><span class="line">	%&gt;</span><br><span class="line"></span><br><span class="line">	$&#123; array[1] &#125; --&gt; 这里array说的是attribute的name </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.如果没有下标,直接使用 .的方式去取</span><br><span class="line"></span><br><span class="line">	&lt;%</span><br><span class="line">		User user &#x3D; new User(&quot;zhangsan&quot;,18);		</span><br><span class="line">		session.setAttribute(&quot;u&quot;, user);</span><br><span class="line">	%&gt;</span><br><span class="line">	</span><br><span class="line">	$&#123; u.name &#125;</span><br><span class="line">	$&#123; u.age &#125;</span><br></pre></td></tr></table></figure>

<h1 id="四、EL表达式的11个内置对象"><a href="#四、EL表达式的11个内置对象" class="headerlink" title="四、EL表达式的11个内置对象"></a>四、EL表达式的11个内置对象</h1><p>　　相对于JSP的9个内置对象而言，EL加强了其中的几个方面得到了11个内置对象。</p>
<p><strong>使用模板：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123; 对象名.成员 &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>pageContext</strong></li>
</ul>
<p><strong>作用域</strong>相关对象(JSP对应的作用域pagecontext/request/session/application)</p>
<ul>
<li><strong>pageScope</strong></li>
<li><strong>requestScope</strong></li>
<li><strong>sessionScope</strong></li>
<li><strong>applicationScope</strong></li>
</ul>
<p><strong>头信息</strong>相关对象</p>
<ul>
<li><strong>header</strong></li>
<li><strong>headerValues</strong></li>
</ul>
<p><strong>参数信息</strong>相关对象</p>
<ul>
<li><strong>param</strong></li>
<li><strong>paramValues</strong></li>
</ul>
<ul>
<li><strong>cookie</strong><br>全局初始化参数</li>
<li><strong>initParam</strong></li>
</ul>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">EL表达式</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-JSP" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/25/JSP/" class="article-date">
      <time datetime="2020-02-25T05:06:08.000Z" itemprop="datePublished">2020-02-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/25/JSP/">JSP</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、JSP-JAVA-Sever-page"><a href="#一、JSP-JAVA-Sever-page" class="headerlink" title="一、JSP(JAVA Sever page)"></a>一、JSP(JAVA Sever page)</h1><blockquote>
<p>从用户看待–网页<br>从程序猿看待–java类继承了servlet</p>
</blockquote>
<p><strong>jsp和html的区别：</strong></p>
<blockquote>
<p><strong>html</strong>：大多数显示静态内容。<br><strong>jsp</strong>：里面可以写java代码,动态改变东西可以展示在页面内。 </p>
</blockquote>
<p><strong>我们在web文件内新建JSP文件(初始)：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">		</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="二、-page指令-第一行"><a href="#二、-page指令-第一行" class="headerlink" title="二、 page指令(第一行)"></a>二、 page指令(第一行)</h1><p><strong>分析第一行的&lt;%%&gt;代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li><strong>language</strong>：表明jsp页面用什么书写(java)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language&#x3D;&quot;java&quot;</span><br></pre></td></tr></table></figure></li>
<li><strong>contentType</strong>：表明什么类型的文件，用什么编码(response里面文字编码就用的这个)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br></pre></td></tr></table></figure></li>
<li><strong>pageEncoding</strong>：jsp内容编码(body里面的内容)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pageEncoding&#x3D;&quot;UTF-8&quot;</span><br></pre></td></tr></table></figure></li>
<li><strong>extends</strong>：用于指定jsp翻译成java文件后，继承的父类是谁，一般不用改。</li>
<li><strong>import</strong>：导包使用的，一般不用手写。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ import.java.util %&gt;</span><br></pre></td></tr></table></figure></li>
<li>*<em>session *</em>:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session&#x3D;&quot;true&#x2F;false&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>用于控制在这个jsp页面里面，能够直接使用session对象。<br>   如果是true:那么会有getSession（）的调用，<br>   如果是false:那么就不会有该方法调用，也就是没有session对象了。在页面上自然也就不能使用session了。</p>
</blockquote>
</li>
<li><strong>errorPage</strong>:指的是错误的页面，值需要给错误的页面路径</li>
<li><strong>isErrorPage</strong>:上面的errorPage 用于指定错误的时候跑到哪一个页面去。 那么这个isErroPage , 就是声明某一个页面到底是不是错误的页面。</li>
</ol>
<hr>
<h1 id="三、include指令-包含其他的jsp内容"><a href="#三、include指令-包含其他的jsp内容" class="headerlink" title="三、include指令(包含其他的jsp内容)"></a>三、include指令(包含其他的jsp内容)</h1><blockquote>
<p>包含另外一个jsp的<strong>内容(也包括标签元素的内容)</strong>进来。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ include file&#x3D;&quot;other02.jsp&quot; %&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="四、taglib指令"><a href="#四、taglib指令" class="headerlink" title="四、taglib指令"></a>四、taglib指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix&#x3D;&quot;&quot;  uri&#x3D;&quot;&quot;%&gt;</span><br></pre></td></tr></table></figure>
<p><strong>perfix</strong>: 标签库路径<br><strong>uri</strong>: 标签库路径</p>
<hr>
<h1 id="五、JSP动作标签-只介绍三个"><a href="#五、JSP动作标签-只介绍三个" class="headerlink" title="五、JSP动作标签(只介绍三个)"></a>五、JSP动作标签(只介绍三个)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:include page&#x3D;&quot;&quot;&gt;&lt;&#x2F;jsp:include&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:param value&#x3D;&quot;&quot; name&#x3D;&quot;&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:forward page&#x3D;&quot;&quot;&gt;&lt;&#x2F;jsp:forward&gt;</span><br></pre></td></tr></table></figure>
<h2 id="jsp-include-包含"><a href="#jsp-include-包含" class="headerlink" title="jsp:include(包含)"></a>jsp:include(包含)</h2><blockquote>
<p>包含指定的页面，这里是<strong>动态包含</strong>而是把它的<strong>运行结果</strong>拿过来。 </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;include动作标签(运行结果)：</span><br><span class="line">	&lt;jsp:include page&#x3D;&quot;other02.jsp&quot;&gt;&lt;&#x2F;jsp:include&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;include指令(标签元素)：</span><br><span class="line">	&lt;%@ include file&#x3D;&quot;other02.jsp&quot; %&gt;</span><br></pre></td></tr></table></figure>
<h2 id="jsp-forward-跳转"><a href="#jsp-forward-跳转" class="headerlink" title="jsp:forward(跳转)##"></a>jsp:forward(跳转)##</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;jsp动作标签</span><br><span class="line">	&lt;jsp:forward page&#x3D;&quot;other02.jsp&quot;&gt;&lt;&#x2F;jsp:forward&gt;</span><br><span class="line">&#x2F;&#x2F;可以用请求转发(request)替换</span><br><span class="line">	&lt;% 		</span><br><span class="line">	request.getRequestDispatcher(&quot;other02.jsp&quot;).forward(request, response);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="jsp-param-添加参数"><a href="#jsp-param-添加参数" class="headerlink" title="jsp:param(添加参数)"></a>jsp:param(添加参数)</h2><blockquote>
<p>意思是： 在包含某个页面的时候，或者在跳转某个页面的时候，加入这个参数。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">&lt;jsp:forward page&#x3D;&quot;other02.jsp&quot;&gt;</span><br><span class="line">	&lt;jsp:param value&#x3D;&quot;beijing&quot; name&#x3D;&quot;address&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;jsp:forward&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;在other02.jsp中获取输出参数</span><br><span class="line">&lt;%&#x3D; request.getParameter(&quot;address&quot;)%&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="六、JSP内置对象-JSP页面直接使用"><a href="#六、JSP内置对象-JSP页面直接使用" class="headerlink" title="六、JSP内置对象(JSP页面直接使用)"></a>六、JSP内置对象(JSP页面直接使用)</h1><h2 id="九个JSP内置对象整体概述"><a href="#九个JSP内置对象整体概述" class="headerlink" title="九个JSP内置对象整体概述"></a>九个JSP内置对象整体概述</h2><p><strong>第一部分：四个作用域</strong></p>
<ul>
<li><strong>pageContext</strong> 【PageContext】</li>
<li><strong>request</strong>  　　 【HttpServletRequest】</li>
<li>*<em>session *</em> 　　 【HttpSession】</li>
<li><strong>application</strong>　 【ServletContext】</li>
</ul>
<p><strong>第二部分：两个对比</strong></p>
<ul>
<li><strong>out</strong>　　　　　【JspWriter】</li>
<li><strong>response</strong> 　 【HttpServletResponse】<br>如果同时拥有response和out的输出，那么会把out整合到response里面。<strong>先输出response的，后是out的</strong>。</li>
</ul>
<p><img src="/2020/02/25/JSP/img01.png" alt></p>
<p><strong>第三部分：不常用</strong><br>-** exception**  【Throwable】</p>
<ul>
<li><strong>page</strong>     　　　【Object】 就是这个jsp翻译成的java类的实例对象</li>
<li><strong>config</strong>　　　【ServletConfig】</li>
</ul>
<h2 id="四个作用域："><a href="#四个作用域：" class="headerlink" title="四个作用域："></a>四个作用域：</h2><pre><code>pageContext 【PageContext】
  request   【HttpServletRequest】
  session   【HttpSession】
application 【ServletContext】</code></pre><blockquote>
<p>这些对象可以存值(setAttribute)，但是他们的取值范围(getAttribute)有限定.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">存储&lt;br&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">		pageContext.setAttribute(&quot;name&quot;, &quot;page&quot;);</span><br><span class="line">		request.setAttribute(&quot;name&quot;, &quot;request&quot;);</span><br><span class="line">		session.setAttribute(&quot;name&quot;, &quot;session&quot;);</span><br><span class="line">		application.setAttribute(&quot;name&quot;, &quot;application&quot;);</span><br><span class="line">	%&gt;</span><br><span class="line">	</span><br><span class="line">取出&lt;br&gt;	</span><br><span class="line">	&lt;%&#x3D;pageContext.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">	&lt;%&#x3D;request.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">	&lt;%&#x3D;session.getAttribute(&quot;name&quot;)%&gt;</span><br><span class="line">	&lt;%&#x3D;application.getAttribute(&quot;name&quot;)%&gt;</span><br></pre></td></tr></table></figure>

<h2 id="四个作用域的大小"><a href="#四个作用域的大小" class="headerlink" title="四个作用域的大小"></a>四个作用域的大小</h2><ul>
<li><strong>pageContext 【PageContext】</strong></li>
</ul>
<blockquote>
<p>仅限于<strong>当前的页面</strong>。  </p>
</blockquote>
<blockquote>
<p>还可以获取到其他八个内置对象。</p>
</blockquote>
<ul>
<li><strong>request 【HttpServletRequest】</strong></li>
</ul>
<blockquote>
<p>仅限于<strong>一次请求</strong>,只要服务器对该请求做出了响应。 这个域中存的值就没有了。</p>
</blockquote>
<ul>
<li><strong>session 【HttpSession】</strong></li>
</ul>
<blockquote>
<p>限于<strong>一次会话(多次请求与响应)</strong>当中。 </p>
</blockquote>
<ul>
<li><strong>application 【ServletContext】</strong></li>
</ul>
<blockquote>
<p><strong>整个工程</strong>都可以访问,服务器关闭后就不能访问了。 </p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JSP/" rel="tag">JSP</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Session实现购物车" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/" class="article-date">
      <time datetime="2020-02-25T01:28:22.000Z" itemprop="datePublished">2020-02-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/">Session实现购物车</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、购物车实现分析"><a href="#一、购物车实现分析" class="headerlink" title="一、购物车实现分析"></a>一、购物车实现分析</h1><p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/img05.png" alt></p>
<p>　　首先分为四个部分：分别是jsp的商品列表、CartServlet判断类，然后可以跳转商品列表的jsp界面和Cart.jsp界面(购物车结算)</p>
<p><strong>CartServlet判断类：</strong></p>
<pre><code>1.先通过request.getParameter(&quot;id&quot;)获得jsp代码里面href里面的id号;然后通过names数组存放对应的手机名字
2.通过map集合存放对应的 手机号 数量
3.判断购物车有没有这个物品
4.跳转到对应的jsp页面去</code></pre><hr>
<h1 id="二、购物车例子-Servlet实现"><a href="#二、购物车例子-Servlet实现" class="headerlink" title="二、购物车例子(Servlet实现)"></a>二、购物车例子(Servlet实现)</h1><p><strong>jsp代码如下(使用三个标签跳转)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;0&quot;&gt;&lt;h3&gt;Iphone 8&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;1&quot;&gt;&lt;h3&gt;小米6&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;2&quot;&gt;&lt;h3&gt;三星Note8&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;3&quot;&gt;&lt;h3&gt;魅族7&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;4&quot;&gt;&lt;h3&gt;华为9&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<p><strong>CarServlet代码如下：</strong></p>
<p><strong>map在session里面：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/map.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public class CarServlet extends HttpServlet &#123;	</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">		</span><br><span class="line">	 &#x2F;&#x2F;1.先获取要添加到购物车的商品id</span><br><span class="line">		int id &#x3D; Integer.parseInt(request.getParameter(&quot;id&quot;));</span><br><span class="line">		String[] names&#x3D; &#123;&quot;Iphone 8&quot;,&quot;小米6&quot;,&quot;三星Note8&quot;,&quot;魅族7&quot;,&quot;华为9&quot;&#125;;</span><br><span class="line">		&#x2F;&#x2F;获取到id对应的商品名字</span><br><span class="line">		String name&#x3D;names[id];</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;2.获取购物车存放东西的session-----Map&lt;String ,Integer&gt;  比如Iphone7 3</span><br><span class="line">		 Map&lt;String,Integer&gt; map&#x3D;(Map&lt;String, Integer&gt;) request.getSession().getAttribute(&quot;cart&quot;);  &#x2F;&#x2F;取值getAttribute	</span><br><span class="line">		 if(map&#x3D;&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			 map&#x3D;new LinkedHashMap&lt;String,Integer&gt;();</span><br><span class="line">			request.getSession().setAttribute(&quot;cart&quot;, map); &#x2F;&#x2F;存值</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	 &#x2F;&#x2F;3.判断购物车有没有这个物品</span><br><span class="line">		 if(map.containsKey(name))  &#x2F;&#x2F;map里面有一个遍历的方法</span><br><span class="line">		 &#123;</span><br><span class="line">			 &#x2F;&#x2F;在原来基础上+1</span><br><span class="line">			 map.put(name, map.get(name)+1);</span><br><span class="line">		 &#125;</span><br><span class="line">		 else</span><br><span class="line">		 &#123;</span><br><span class="line">			 &#x2F;&#x2F;从来没买过直接设置为1</span><br><span class="line">			 map.put(name, 1);</span><br><span class="line">		 &#125;</span><br><span class="line">		  </span><br><span class="line">		 &#x2F;&#x2F;4.输出界面(跳转)</span><br><span class="line">		 response.getWriter().write(&quot;&lt;a href&#x3D;&#39;product_list.jsp&#39;&gt;&lt;h3&gt;继续购物&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&quot;);</span><br><span class="line">		 response.getWriter().write(&quot;&lt;a href&#x3D;&#39;cart.jsp&#39;&gt;&lt;h3&gt;去购物车结算&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&quot;);</span><br><span class="line">		 </span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>点击对应的名字之后会弹出：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/tanchu.png" alt></p>
<hr>
<h1 id="三、-展示购物车的东西"><a href="#三、-展示购物车的东西" class="headerlink" title="三、 展示购物车的东西:#"></a>三、 展示购物车的东西:#</h1><p><strong>刚才就是点进去之后我们需要实现去购物车结算的功能，因此完成cart.jsp文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;%@page import&#x3D;&quot;java.util.Map&quot;%&gt;</span><br><span class="line">&lt;%@page import&#x3D;&quot;java.util.Map&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;h2&gt;您的购物车的商品如下：&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">		&#x2F;&#x2F;1.先获取map</span><br><span class="line">		Map&lt;String,Integer&gt; map&#x3D;(Map&lt;String,Integer&gt;)session.getAttribute(&quot;cart&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.遍历map  </span><br><span class="line">		if(map!&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(String key:map.keySet())  &#x2F;&#x2F;map.keySet()获取所有</span><br><span class="line">			&#123;</span><br><span class="line">				int value&#x3D;map.get(key);</span><br><span class="line">				&#x2F;&#x2F;key:商品名称</span><br><span class="line">				&#x2F;&#x2F;value:商品个数</span><br><span class="line">				&#x2F;&#x2F;&lt;h3&gt;名称:Iphone 数量:6&lt;&#x2F;h3&gt;		</span><br><span class="line">	%&gt;</span><br><span class="line">			&lt;h3&gt;名称:&lt;%&#x3D;key %&gt; 数量:&lt;%&#x3D;value %&gt;&lt;&#x2F;h3&gt;	&lt;br&gt;	  	</span><br><span class="line">	&lt;%</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	%&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>一开始我们设定一定量的苹果手机数量，然后点击小米-点击继续购物(添加到里面)-不停的重复-最终可以选择去购物车结算</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/shixian.png" alt></p>
<hr>
<h1 id="四、清空购物车"><a href="#四、清空购物车" class="headerlink" title="四、清空购物车#"></a>四、清空购物车#</h1><ol>
<li>在cart.jsp页面里面加一行清空购物车的按钮(按到展示页面之后可以选择清空购物车按钮，然后按钮可以跳转到clearCartServlet类，然后完成功能)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;clearCartServlet&quot;&gt;&lt;h4&gt;清空购物车&lt;&#x2F;h4&gt;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>而clearCartServlet类需要完成获取session然后移除掉之后可以重定定位跳转到product_list.jsp页面重新选择</li>
</ol>
<p><strong>清空session两种方式：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;1.强制干掉会话，里面存放的任何数据就都没有了。</span><br><span class="line">	session.invalidate();</span><br><span class="line">	</span><br><span class="line">&#x2F;&#x2F;2.从session中移除某一个数据</span><br><span class="line">	&#x2F;&#x2F;session.removeAttribute(&quot;cart&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>clearCartServlet类代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class clearCartServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">	</span><br><span class="line">		&#x2F;&#x2F;获取session</span><br><span class="line">		HttpSession session &#x3D; request.getSession();</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;移除值</span><br><span class="line">		session.removeAttribute(&quot;cart&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;使用重定位</span><br><span class="line">		response.sendRedirect(&quot;product_list.jsp&quot;);  &#x2F;&#x2F;跳到product_list.jsp		</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="五、完整分析和整理："><a href="#五、完整分析和整理：" class="headerlink" title="五、完整分析和整理："></a>五、完整分析和整理：</h1><p><strong>代码框架：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/wanzheng.png" alt></p>
<ul>
<li><strong>product_list.jsp页面</strong>：主要是用来写首页的样子(手机名称)</li>
<li><strong>CarServlet类</strong>：主要是用来完成具体的操作;主要是完成点击商品之后获取商品id一存放商品，判断有没有然后增加可以跳转到继续购物(继续跳到首页)/购物车结算(cart.jsp页面)。</li>
<li><strong>cart.jsp页面</strong>：主要是完成跳转后看到购物车里面有哪些东西，然后可以选择清空购物车</li>
<li><strong>clearCartServlet类</strong>：主要是完成cart.jsp页面内的清空购物车，然后退出到首页。</li>
</ul>
<hr>
<h1 id="六、具体代码如下"><a href="#六、具体代码如下" class="headerlink" title="六、具体代码如下"></a>六、具体代码如下</h1><h2 id="product-list-jsp页面"><a href="#product-list-jsp页面" class="headerlink" title="product_list.jsp页面"></a><strong>product_list.jsp页面</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;0&quot;&gt;&lt;h3&gt;Iphone 8&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;1&quot;&gt;&lt;h3&gt;小米6&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;2&quot;&gt;&lt;h3&gt;三星Note8&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;3&quot;&gt;&lt;h3&gt;魅族7&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		&lt;a href&#x3D;&quot;CarServlet?id&#x3D;4&quot;&gt;&lt;h3&gt;华为9&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&lt;br&gt;</span><br><span class="line">		</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>首页效果如下：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/yige.png" alt></p>
<h2 id="CarServlet类"><a href="#CarServlet类" class="headerlink" title="CarServlet类"></a>CarServlet类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public class CarServlet extends HttpServlet &#123;	</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">		</span><br><span class="line">	 &#x2F;&#x2F;1.先获取要添加到购物车的商品id</span><br><span class="line">		int id &#x3D; Integer.parseInt(request.getParameter(&quot;id&quot;));</span><br><span class="line">		String[] names&#x3D; &#123;&quot;Iphone 8&quot;,&quot;小米6&quot;,&quot;三星Note8&quot;,&quot;魅族7&quot;,&quot;华为9&quot;&#125;;</span><br><span class="line">		&#x2F;&#x2F;获取到id对应的商品名字</span><br><span class="line">		String name&#x3D;names[id];</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;2.获取购物车存放东西的session-----Map&lt;String ,Integer&gt;  比如Iphone7 3</span><br><span class="line">		 Map&lt;String,Integer&gt; map&#x3D;(Map&lt;String, Integer&gt;) request.getSession().getAttribute(&quot;cart&quot;);  &#x2F;&#x2F;取值getAttribute	</span><br><span class="line">		 if(map&#x3D;&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			 map&#x3D;new LinkedHashMap&lt;String,Integer&gt;();</span><br><span class="line">			request.getSession().setAttribute(&quot;cart&quot;, map); &#x2F;&#x2F;存值</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">	 &#x2F;&#x2F;3.判断购物车有没有这个物品</span><br><span class="line">		 if(map.containsKey(name))  &#x2F;&#x2F;map里面有一个遍历的方法</span><br><span class="line">		 &#123;</span><br><span class="line">			 &#x2F;&#x2F;在原来基础上+1</span><br><span class="line">			 map.put(name, map.get(name)+1);</span><br><span class="line">		 &#125;</span><br><span class="line">		 else</span><br><span class="line">		 &#123;</span><br><span class="line">			 &#x2F;&#x2F;从来没买过直接设置为1</span><br><span class="line">			 map.put(name, 1);</span><br><span class="line">		 &#125;</span><br><span class="line">		  </span><br><span class="line">		 &#x2F;&#x2F;4.输出界面(跳转)</span><br><span class="line">		 response.getWriter().write(&quot;&lt;a href&#x3D;&#39;product_list.jsp&#39;&gt;&lt;h3&gt;继续购物&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&quot;);</span><br><span class="line">		 response.getWriter().write(&quot;&lt;a href&#x3D;&#39;cart.jsp&#39;&gt;&lt;h3&gt;去购物车结算&lt;&#x2F;h3&gt;&lt;&#x2F;a&gt;&quot;);</span><br><span class="line">		 </span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>商品点击后的二级页面如下：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/erge.png" alt></p>
<h2 id="cart-jsp页面"><a href="#cart-jsp页面" class="headerlink" title="cart.jsp页面"></a>cart.jsp页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;%@page import&#x3D;&quot;java.util.Map&quot;%&gt;</span><br><span class="line">&lt;%@page import&#x3D;&quot;java.util.Map&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;h2&gt;您的购物车的商品如下：&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">		&#x2F;&#x2F;1.先获取map</span><br><span class="line">		Map&lt;String,Integer&gt; map&#x3D;(Map&lt;String,Integer&gt;)session.getAttribute(&quot;cart&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.遍历map</span><br><span class="line">		if(map!&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(String key:map.keySet())</span><br><span class="line">			&#123;</span><br><span class="line">				int value&#x3D;map.get(key);</span><br><span class="line">				&#x2F;&#x2F;key:商品名称</span><br><span class="line">				&#x2F;&#x2F;value:商品个数</span><br><span class="line">				&#x2F;&#x2F;&lt;h3&gt;名称:Iphone 数量:6&lt;&#x2F;h3&gt;		</span><br><span class="line">	%&gt;</span><br><span class="line">			&lt;h3&gt;名称:&lt;%&#x3D;key %&gt; 数量:&lt;%&#x3D;value %&gt;&lt;&#x2F;h3&gt;	&lt;br&gt;		</span><br><span class="line">	&lt;%</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	%&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;a href&#x3D;&quot;clearCartServlet&quot;&gt;&lt;h4&gt;清空购物车&lt;&#x2F;h4&gt;&lt;&#x2F;a&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>商品点击清空购物车的页面如下：</strong></p>
<p><img src="/2020/02/25/Session%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6/sange.png" alt></p>
<h2 id="clearCartServlet类"><a href="#clearCartServlet类" class="headerlink" title="clearCartServlet类"></a>clearCartServlet类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class clearCartServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">	</span><br><span class="line">		&#x2F;&#x2F;获取session</span><br><span class="line">		HttpSession session &#x3D; request.getSession();</span><br><span class="line">		&#x2F;&#x2F;移除值</span><br><span class="line">		session.removeAttribute(&quot;cart&quot;);		</span><br><span class="line">		&#x2F;&#x2F;使用重定位</span><br><span class="line">		response.sendRedirect(&quot;product_list.jsp&quot;);  &#x2F;&#x2F;跳到product_list.jsp		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Cookie获取商品浏览记录" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/" class="article-date">
      <time datetime="2020-02-24T05:47:18.000Z" itemprop="datePublished">2020-02-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/">Cookie获取商品浏览记录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h1><ol>
<li>拷贝第一天html那天的资料-WEB01-将所有的文件全部拷贝到Web工程里面的WebContent里面。</li>
<li>在WebContent新建一个product_list.jsp的jsp文件，然后拷贝原来product_list.html的html标签内容替换掉jsp里面的html。<strong>(方便后面可以进行实现和消除浏览记录的操作)</strong></li>
<li>将product_info.html的手机数码的超链接改为product_list.jsp<strong>(为了能够点进去商品之后退出到刚才的很多商品列表)</strong></li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/disanbu.png" alt></p>
<ol start="4">
<li>将首页index.html里面的手机数码的跳转位置改为product_list.jsp</li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/disibu.png" alt></p>
<h1 id="二、servlet代码编写"><a href="#二、servlet代码编写" class="headerlink" title="二、servlet代码编写"></a>二、servlet代码编写</h1><ol>
<li>将商品列表里面的product_list.jsp每个class下面的herf改成<code>&lt;a href=&quot;ProductInfoServlet?id=1/2/3/4/5/6&quot;&gt;</code><strong>(其中每个ProductInfoServlet是xml注解里面url路径)</strong></li>
</ol>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/chuangyi.png" alt></p>
<ol start="2">
<li>去写一个关于存储浏览过哪些的页面的类：</li>
</ol>
<p><strong>由getValue获得以前的cookie的值，然后使用setValue将原来new的id和现在ids加在一起，其实就是形成1#2#3#4等这种形式，然后在浏览记录(jsp中写java代码)中要实现显示出对应的图片</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.获取以前的cookie(在19行代码已经匹配判断过)</span><br><span class="line">		String ids &#x3D; cookie.getValue();</span><br><span class="line">&#x2F;&#x2F;2.让现在浏览的商品和以前的商品形成cookie新的值  -----可以展示 1#2#4#3等等的样子表明我已经点击过哪些</span><br><span class="line">		cookie.setValue(id+&quot;#&quot;+ids);</span><br></pre></td></tr></table></figure>

<p><strong>完整的代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public class ProductInfoServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;获取当前用户准备浏览的商品ID</span><br><span class="line">		String id &#x3D; request.getParameter(&quot;id&quot;);</span><br><span class="line">		</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">		Cookie cookie &#x3D; CookieUtil.findCookie(cookies, &quot;histroy&quot;); &#x2F;&#x2F;将之前写好的匹配的代码拷贝过来(在cookie实现上次访问时间代码中)</span><br><span class="line">		</span><br><span class="line">		if(cookie &#x3D;&#x3D;null)&#x2F;&#x2F;第一次浏览</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;1.创建cookie</span><br><span class="line">				Cookie c&#x3D;new Cookie(&quot;history&quot;,id);  &#x2F;&#x2F;创建了一个名 history 值为id的cookie</span><br><span class="line">			&#x2F;&#x2F;2.将新建的cookie要响应给浏览器(客户端)</span><br><span class="line">				response.addCookie(c);</span><br><span class="line">			&#x2F;&#x2F;3.跳转到具体界面</span><br><span class="line">				response.sendRedirect(&quot;product_info.htm&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else  &#x2F;&#x2F;第二次浏览</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;1.获取以前的cookie(在19行代码已经匹配判断过)</span><br><span class="line">				String ids &#x3D; cookie.getValue();</span><br><span class="line">			&#x2F;&#x2F;2.让现在浏览的商品和以前的商品形成cookie新的值  -----可以展示 1#2#4#3等等的样子表明我已经点击过哪些</span><br><span class="line">				cookie.setValue(id+&quot;#&quot;+ids);</span><br><span class="line">			&#x2F;&#x2F;2.将新建的cookie要响应给浏览器(客户端)</span><br><span class="line">				response.addCookie(cookie);</span><br><span class="line">			&#x2F;&#x2F;3.跳转到具体界面</span><br><span class="line">				response.sendRedirect(&quot;product_info.htm&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="三、实现浏览记录"><a href="#三、实现浏览记录" class="headerlink" title="三、实现浏览记录"></a>三、实现浏览记录</h1><p><strong>介绍jsp的用法(jsp里面只能写java代码)</strong></p>
<pre><code>1.定义全局变量
    &lt;%! int a=990; %&gt;
2.定义局部变量
    &lt;%  int b=99; %&gt;
3.在jsp页面上，显示a和b的值
    &lt;%=a %&gt;
    &lt;%=b %&gt;</code></pre><p><strong>更改的位置大概在(product_list.jsp的商品浏览记录左右)：</strong></p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E5%95%86%E5%93%81%E6%B5%8F%E8%A7%88%E8%AE%B0%E5%BD%95/liulan.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style&#x3D;&quot;overflow: hidden;&quot;&gt;</span><br><span class="line">				&lt;ul style&#x3D;&quot;list-style: none;&quot;&gt;	</span><br><span class="line">				&lt;%</span><br><span class="line">					Cookie[] cookie&#x3D;request.getCookies();</span><br><span class="line">					Cookie cook&#x3D;CookieUtil.findCookie(cookie,&quot;history&quot;);</span><br><span class="line">					if(cookie&#x3D;&#x3D;null)</span><br><span class="line">					&#123;</span><br><span class="line">				%&gt;</span><br><span class="line">						&lt;h2&gt;你还没有浏览商品!&lt;&#x2F;h2&gt; </span><br><span class="line">				&lt;% </span><br><span class="line">					&#125;</span><br><span class="line">					else</span><br><span class="line">					&#123;</span><br><span class="line">						String[] id&#x3D;cook.getValue().split(&quot;#&quot;);  &#x2F;&#x2F;将1#2#3#4#5 拆分成 1 2 3 4 5 </span><br><span class="line">						for(String i:id)</span><br><span class="line">						&#123;</span><br><span class="line">							%&gt;</span><br><span class="line">								&#x2F;&#x2F;后面把图片改成&lt;%&#x3D;i %&gt;形式可以弹出对应的的图片</span><br><span class="line">							   &lt;li style&#x3D;&quot;width: 150px;height: 216;float: left;margin: 0 8px 0 0;padding: 0 18px 15px;text-align: center;&quot;&gt;&lt;img src&#x3D;&quot;products&#x2F;1&#x2F;cs1000&lt;%&#x3D;i %&gt;.jpg&quot; width&#x3D;&quot;130px&quot; height&#x3D;&quot;130px&quot; &#x2F;&gt;&lt;&#x2F;li&gt;</span><br><span class="line">							&lt;% </span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				%&gt;					</span><br><span class="line">				&lt;&#x2F;ul&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="四、清除浏览记录"><a href="#四、清除浏览记录" class="headerlink" title="四、清除浏览记录"></a>四、清除浏览记录</h1><ol>
<li><p>在刚才改实现留记录的div下面写一个标签href=”清除的那个类”(提示一行可以清除记录)</p>
</li>
<li><p>新建一个清除的类(只能通过设置MaxAge=0) </p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cookie cookie &#x3D; new Cookie(&quot;history&quot;,&quot;&quot;);</span><br><span class="line">	cookie.setMaxAge(0);    &#x2F;&#x2F;设置立即删除</span><br><span class="line">	cookie.setPath(&quot;&#x2F;CookieDemo02&quot;);</span><br><span class="line">	response.addCookie(cookie);  &#x2F;&#x2F;给客户端添加一个cookie</span><br></pre></td></tr></table></figure>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Cookie获取上次登录时间" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/" class="article-date">
      <time datetime="2020-02-24T05:46:56.000Z" itemprop="datePublished">2020-02-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/">Cookie获取上次登录时间</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Cookie获取上次登录时间"><a href="#一、Cookie获取上次登录时间" class="headerlink" title="一、Cookie获取上次登录时间#"></a>一、Cookie获取上次登录时间#</h1><p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/fenxi.png" alt></p>
<p>　　主要是由一个index.html的前端浏览器代码写出登录需要的用户密码提交按钮，然后通过servlet提交到另外一个Demo03程序(新建CookieUtil完成所有cookies和所要的cookie对比的功能)之中。</p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/kuangjia.png" alt></p>
<p>　　由Demo03先去写由request得到用户名和密码然后if判断用户名是否正确：<br>　　1.如果不正确弹出密码错误，由于输出中文需要提前写好response.setContenType那行文字编码。<br>　　2.如果是正确进入之后获取所有的cookies值，调用方法判断是不是所要的cookie，<br>　　　　2.1如果是null那么就是没有cookie需要完成的是设置一个名为last，值为当前时间的cookie，然后将它添加到客户端，输出语句。<br>　　　　2.2如果cookie存在，那就只需要输出上一次最近的访问时间。</p>
<p><strong>客户端用于写按钮的index.html代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">		&lt;form action&#x3D;&quot;Demo03&quot;&gt;</span><br><span class="line">		账号: &lt;input type&#x3D;&quot;text&quot;  name&#x3D;&quot;username&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		密码: &lt;input type&#x3D;&quot;text&quot;  name&#x3D;&quot;password&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot;  value&#x3D;&quot;登录&quot;&#x2F;&gt;&lt;br&gt;	</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>用于匹配判断是不是存在有的CookieUtil的类代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class CookieUtil &#123;</span><br><span class="line">	public static Cookie findCookie(Cookie[] cookies,String name) &#123;		</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for (Cookie cookie :cookies) </span><br><span class="line">			&#123;</span><br><span class="line">				if(name.equals(cookie.getName())) &#123; &#x2F;&#x2F;从一个cookie数组中找到具体的对象</span><br><span class="line">					return cookie;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">			return null;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Demo03主要类代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public class Demo03 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;		</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;); &#x2F;&#x2F;解决中文乱码问题		</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line"></span><br><span class="line">		if(&quot;admin&quot;.equals(username)&amp;&amp;&quot;123&quot;.equals(password))</span><br><span class="line">		&#123;</span><br><span class="line">	</span><br><span class="line">			&#x2F;&#x2F;获取所有的cookie值</span><br><span class="line">			Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">			</span><br><span class="line">			Cookie cookie &#x3D; CookieUtil.findCookie(cookies, &quot;last&quot;);  &#x2F;&#x2F;在匹配的类里面去放数组找last配对的值</span><br><span class="line">			</span><br><span class="line">			if(cookie&#x3D;&#x3D;null) &#x2F;&#x2F;第一次登录    --设置一个cookie--然后设置有效期--添加到客户端</span><br><span class="line">			&#123;</span><br><span class="line">				Cookie c&#x3D;new Cookie(&quot;last&quot;,System.currentTimeMillis()+&quot;&quot;); &#x2F;&#x2F;因为一会在数组找last那个      value写当前时间戳</span><br><span class="line">				c.setMaxAge(60*60); &#x2F;&#x2F;设置cookie有效值(1小时)</span><br><span class="line">				response.addCookie(c);</span><br><span class="line">				response.getWriter().write(&quot;欢迎您&quot;+username); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">			&#125;</span><br><span class="line">			else &#x2F;&#x2F;第二次登陆 已经有了cookie   --输出cookie值</span><br><span class="line">			&#123;</span><br><span class="line">				&#x2F;&#x2F;1.取之前的cookie值</span><br><span class="line">				Long lastVisitTime &#x3D; Long.parseLong(cookie.getValue()); &#x2F;&#x2F;转成long型</span><br><span class="line">				&#x2F;&#x2F;2.输出到界面</span><br><span class="line">				response.getWriter().write(&quot;欢迎您&quot;+username+&quot;,上次来访时间是:&quot;+new Date(lastVisitTime)); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">				&#x2F;&#x2F;3.重置时间</span><br><span class="line">				cookie.setValue(System.currentTimeMillis()+&quot;&quot;);  &#x2F;&#x2F;使用时间戳</span><br><span class="line">				response.addCookie(cookie);</span><br><span class="line">			&#125;</span><br><span class="line">					</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			response.getWriter().write(&quot;登陆失败!请退出重新输入!&quot;); &#x2F;&#x2F;使用字符流 但是要改中文的问题</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>用户admin和密码123第一次进入是欢迎界面，第二次界面为弹出上次登录时间：</strong></p>
<p><img src="/2020/02/24/Cookie%E8%8E%B7%E5%8F%96%E4%B8%8A%E6%AC%A1%E7%99%BB%E5%BD%95%E6%97%B6%E9%97%B4/dierci.png" alt></p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Session" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/23/Session/" class="article-date">
      <time datetime="2020-02-23T07:00:55.000Z" itemprop="datePublished">2020-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/23/Session/">Session</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Session-会话-以及常用的API方法"><a href="#一、Session-会话-以及常用的API方法" class="headerlink" title="一、Session(会话)以及常用的API方法"></a>一、Session(会话)以及常用的API方法</h1><blockquote>
<p>Session是基于Cookie的一种<strong>会话机制</strong>。数据存放在<strong>服务器端。</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">HttpSession session &#x3D; request.getSession(); &#x2F;&#x2F;和Cookie一样由request调用得到</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;得到会话的ID</span><br><span class="line">			String id &#x3D; session.getId();</span><br><span class="line">		</span><br><span class="line">			&#x2F;&#x2F;存值</span><br><span class="line">			            session.setAttribute(name, value); &#x2F;&#x2F;设置值</span><br><span class="line">		</span><br><span class="line">			&#x2F;&#x2F;取值</span><br><span class="line">			            session.getAttribute(name); </span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;移除值</span><br><span class="line">			    		session.removeAttribute(name);</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="二、Session简单使用"><a href="#二、Session简单使用" class="headerlink" title="二、Session简单使用"></a>二、Session简单使用</h1><ul>
<li><p><strong>创建</strong></p>
<blockquote>
<p>如果有在servlet里面调用了 request.getSession()</p>
</blockquote>
</li>
<li><p><strong>销毁</strong></p>
</li>
</ul>
<blockquote>
<p>session是存放在服务器的内存中的一份数据，当然可以持久化，Redis。即使关闭浏览器也不会销毁</p>
<ol>
<li>关闭服务器</li>
<li>session会话时间过期(默认有效期：30分钟)</li>
</ol>
</blockquote>
<p><strong>举例:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package Servlet;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;使用字节流&#x2F;字符流需要使用文字编码</span><br><span class="line">			response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf-8&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;使用session的getId()获得id</span><br><span class="line">			String sessionid &#x3D; request.getSession().getId();</span><br><span class="line">			System.out.println(&quot;sessionid&#x3D;&quot;+sessionid);&#x2F;&#x2F;JAVA的控制台输出</span><br><span class="line"></span><br><span class="line">			response.getWriter().write(&quot;收到请求了!&quot;); &#x2F;&#x2F;浏览器输出</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Cookie" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/23/Cookie/" class="article-date">
      <time datetime="2020-02-23T07:00:44.000Z" itemprop="datePublished">2020-02-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/23/Cookie/">Cookie</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、Cookie概述"><a href="#一、Cookie概述" class="headerlink" title="一、Cookie概述"></a>一、Cookie概述</h1><blockquote>
<p>服务器给客户端并且存在客户端(浏览器)上的<strong>一份小数据</strong></p>
</blockquote>
<ul>
<li><p><strong>应用场景：</strong></p>
<blockquote>
<p>自动登录、浏览记录、浏览器</p>
</blockquote>
</li>
<li><p><strong>为什么有这个Cookie</strong></p>
<blockquote>
<p>http的请求是无状态。 客户端与服务器在通讯的时候是无状态，其实就是客户端在第二次来访的时候，服务器根本就不知道这个客户端以前有没有来访问过。 为了更好的用户体验，更好的交互 [自动登录]，其实从公司层面讲，就是为了更好的收集用户习惯[出现了大数据]。</p>
</blockquote>
</li>
</ul>
<hr>
<h1 id="二、Cookie应用"><a href="#二、Cookie应用" class="headerlink" title="二、Cookie应用"></a>二、Cookie应用</h1><h2 id="1-服务器–生成一个cookie-response-addCookie"><a href="#1-服务器–生成一个cookie-response-addCookie" class="headerlink" title="1. 服务器–生成一个cookie(response.addCookie())"></a><strong>1. 服务器–生成一个cookie(response.addCookie())</strong></h2><pre><code>主要是使用Cookie创建一个对象，然后对象调用addCookie()方法就可以添加。
第二次打开浏览器就会在http(客户端收到消息)中加一个 Set-Cookie：选项</code></pre><p><img src="/2020/02/23/Cookie/img02.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf&quot;);&#x2F;&#x2F;response添加中文的方法</span><br><span class="line"></span><br><span class="line">			Cookie cookie&#x3D;new Cookie(&quot;aa&quot;,&quot;bb&quot;);</span><br><span class="line">		&#x2F;&#x2F;给响应添加一个cookie</span><br><span class="line">			response.addCookie(cookie);</span><br><span class="line">		</span><br><span class="line">		response.getWriter().write(&quot;成功了!&quot;);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-客户端–遍历-for循环-所有的cookie-request-getCookies"><a href="#2-客户端–遍历-for循环-所有的cookie-request-getCookies" class="headerlink" title="2. 客户端–遍历(for循环)所有的cookie(request.getCookies())"></a><strong>2. 客户端–遍历(for循环)所有的cookie(request.getCookies())</strong></h2><p><strong>主要代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies &#x3D; request.getCookies();  &#x2F;&#x2F;客户端request.getCookies获取</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(Cookie c:cookies)  &#x2F;&#x2F;增强for循环输出</span><br><span class="line">			&#123;</span><br><span class="line">				String value &#x3D; c.getValue();  使用get方法获取cookie的信息</span><br><span class="line">				String name &#x3D; c.getName();</span><br><span class="line">				System.out.println(name+&quot;  &quot;+value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">public class Demo01 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		response.setContentType(&quot;text&#x2F;html;charset&#x3D;utf&quot;);&#x2F;&#x2F;response添加中文的方法		</span><br><span class="line">		&#x2F;&#x2F;方法参数要什么就给什么</span><br><span class="line">		&#x2F;&#x2F;创建对象几种方法： 1. 直接new  2. 单例模式&#x2F;提供静态方法   3. 工厂模式构建 StuFactory StuBuilder</span><br><span class="line">		</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;aa&quot;,&quot;bb&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;服务器端给客户端添加一个cookie</span><br><span class="line">		response.addCookie(cookie);</span><br><span class="line">		</span><br><span class="line">		response.getWriter().write(&quot;成功了!&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;获取客户端带过来的cookie	</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for(Cookie c:cookies)</span><br><span class="line">			&#123;</span><br><span class="line">				String value &#x3D; c.getValue();</span><br><span class="line">				String name &#x3D; c.getName();</span><br><span class="line">				System.out.println(name+&quot;  &quot;+value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-给cookie设置有效期-setMaxAge-以及指定域名打开-setDomain-和指定路径-setPath"><a href="#3-给cookie设置有效期-setMaxAge-以及指定域名打开-setDomain-和指定路径-setPath" class="headerlink" title="3. 给cookie设置有效期(setMaxAge())以及指定域名打开(setDomain)和指定路径(setPath)"></a>3. 给cookie设置有效期(setMaxAge())以及指定域名打开(setDomain)和指定路径(setPath)</h2><ul>
<li><p><strong>3.1有效期–cookie.setMaxAge()</strong></p>
<pre><code>1.一般不设置的话默认----关闭浏览器，cookie就消失
2.设置的话：
        2.1：正值：过了这个值就失效
        2.2：负值：(默认-1) 关闭浏览器，cookie就消失</code></pre></li>
</ul>
<ul>
<li><p><strong>3.2域名–cookie.setDomain(“.xxxx.com”)</strong></p>
</li>
<li><p><strong>3.3域名下的路径–cookie.setPath(“/yyy”)</strong></p>
<pre><code>两者合在一起就是给ww.xxxx.com/yyy/这个地址才可以增加cookie</code></pre></li>
</ul>
<p><strong>主要代码如下：(已经有创建了一个cookie)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;先写cookie对象</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;name&quot;,&quot;zhangsan&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;创建cookie的有限期</span><br><span class="line">			&#x2F;&#x2F;cookie的有效期没有设置的话默认是关闭浏览器就没有了</span><br><span class="line">		    &#x2F;&#x2F;正值：在这个时间后就失效</span><br><span class="line">			&#x2F;&#x2F;负值：默认-1.关闭浏览器就会失效</span><br><span class="line">		   			cookie.setMaxAge(60*60*24*7);  &#x2F;&#x2F;以秒为单位</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;设置指定域名才会带上cookie</span><br><span class="line">		   	cookie.setDomain(&quot;.larkkkkkkk.com&quot;);</span><br><span class="line">		&#x2F;&#x2F;设置访问该域名下的lark路径才会带上cookie   ----相当于 www.larkkkkkkk.com&#x2F;lark&#x2F;</span><br><span class="line">		   	cookie.setPath(&quot;&#x2F;lark&quot;);</span><br><span class="line">		   	</span><br><span class="line">		   	response.addCookie(cookie);&#x2F;&#x2F;服务器response添加一个cookie</span><br></pre></td></tr></table></figure>

<p><strong>完整代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">package Servlet;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">public class Demo02 extends HttpServlet &#123;</span><br><span class="line">   </span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;客户端request遍历所有cookie信息</span><br><span class="line">		Cookie[] cookies &#x3D; request.getCookies();  &#x2F;&#x2F;request获取所有的cookie</span><br><span class="line">		if(cookies !&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			for (Cookie cookie :cookies) </span><br><span class="line">			&#123;</span><br><span class="line">				System.out.println(cookie.getName()+&quot; &#x3D; &quot;+cookie.getValue());</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;先写cookie对象</span><br><span class="line">		Cookie cookie&#x3D;new Cookie(&quot;name&quot;,&quot;zhangsan&quot;);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;创建cookie的有限期</span><br><span class="line">			&#x2F;&#x2F;cookie的有效期没有设置的话默认是关闭浏览器就没有了</span><br><span class="line">		    &#x2F;&#x2F;正值：在这个时间后就失效</span><br><span class="line">			&#x2F;&#x2F;负值：默认-1.关闭浏览器就会失效</span><br><span class="line">		   			cookie.setMaxAge(60*60*24*7);  &#x2F;&#x2F;以秒为单位</span><br><span class="line">	</span><br><span class="line">		&#x2F;&#x2F;设置指定域名才会带上cookie</span><br><span class="line">		   	cookie.setDomain(&quot;.larkkkkkkk.com&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;设置访问该域名下的lark路径才会带上cookie   ----相当于 www.larkkkkkkk.com&#x2F;lark&#x2F;</span><br><span class="line">		   	cookie.setPath(&quot;&#x2F;lark&quot;);</span><br><span class="line">		   	</span><br><span class="line">		   	response.addCookie(cookie);&#x2F;&#x2F;服务器response添加一个cookie   	</span><br><span class="line">		   			</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;cookie2对象</span><br><span class="line">		Cookie cookie2&#x3D;new Cookie(&quot;age&quot;,&quot;18&quot;);</span><br><span class="line">		response.addCookie(cookie2);&#x2F;&#x2F;服务器response添加一个cookie</span><br><span class="line">	</span><br><span class="line">			</span><br><span class="line">		response.getWriter().write(&quot;hello Cookie...&quot;); &#x2F;&#x2F;响应给浏览器展示</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cookie%E5%92%8CSession/" rel="tag">Cookie和Session</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/19/Linux/" class="article-date">
      <time datetime="2020-02-19T04:52:35.000Z" itemprop="datePublished">2020-02-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/19/Linux/">Linux</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="前期准备-软件安装管家下载安装步骤"><a href="#前期准备-软件安装管家下载安装步骤" class="headerlink" title="前期准备(软件安装管家下载安装步骤)"></a>前期准备(软件安装管家下载安装步骤)</h1><ol>
<li>VMware虚拟机(VMware 12)</li>
<li>CentOs 6 64位</li>
</ol>
<h1 id="linux目录结构分析"><a href="#linux目录结构分析" class="headerlink" title="linux目录结构分析"></a>linux目录结构分析</h1><ul>
<li><strong>Linux目录结构</strong>: 只有1个<strong>根目录</strong></li>
</ul>
<p><strong>usr:</strong>：　　　用于存放共享的系统资源(c:program Files)<br><strong>etc:</strong>　　　　存放系统配置文件<br><strong>root：　　　**系统管理员</strong>默认<strong>用户目录(c:用户/root)<br>**home(安装软件目录)：</strong>　　其他用户目录(c:用户/home/其他用户)</p>
<ul>
<li><strong>基础命令：</strong></li>
</ul>
<p><strong>pwd：</strong>　　打印当前目录<br><strong>cd /：</strong>　　切换当前目录<br><strong>ll：</strong>　　查看当前目录下的内容</p>
<hr>
<h1 id="SecureCRT连接linux"><a href="#SecureCRT连接linux" class="headerlink" title="SecureCRT连接linux"></a>SecureCRT连接linux</h1><ol>
<li>在linux的终端输入：ifconfig(windows是ipconfig)–选择里面的 192.168.21.128</li>
</ol>
<p><img src="/2020/02/19/Linux/ifconfig.png" alt></p>
<ol start="2">
<li>点击SecureCRT.exe–点击文件–连接–快速选择–输入主机名：192.168.21.128(第一步获取的)</li>
</ol>
<p><img src="/2020/02/19/Linux/dier.png" alt></p>
<ol start="3">
<li>提示新建主机密钥点击接收并保存–输入用户名root和linux当时的用户密码</li>
</ol>
<p><img src="/2020/02/19/Linux/disan.png" alt></p>
<ol start="4">
<li>弹出连接成功的框(乱码)–然后关闭之后重启–对网络右键属性–更改外观里面的语言为UTF-8</li>
</ol>
<p><img src="/2020/02/19/Linux/disi.png" alt></p>
<ol start="5">
<li>输入ll显示(无乱码)</li>
</ol>
<p><img src="/2020/02/19/Linux/diwu.png" alt></p>
<hr>
<h1 id="展示目录-ll-ls"><a href="#展示目录-ll-ls" class="headerlink" title="展示目录 ll / ls"></a>展示目录 ll / ls</h1><p><strong>1. ls **　　显示目录下</strong>所有文件名称**</p>
<p><img src="/2020/02/19/Linux/mingcheng.png" alt></p>
<p><strong>2. ls -a **　　显示目录下</strong>所有文件名称(包括隐藏文件)**</p>
<p><img src="/2020/02/19/Linux/chengwr.png" alt></p>
<p><strong>3. ls -l  / ll **　　显示目录下</strong>所有文件的详细内容**</p>
<p><img src="/2020/02/19/Linux/ller.png" alt></p>
<hr>
<h1 id="切换目录-cd"><a href="#切换目录-cd" class="headerlink" title="切换目录 cd"></a>切换目录 cd</h1><p><strong>1. cd ~ **　　切换到</strong>root目录**</p>
<p><img src="/2020/02/19/Linux/root.png" alt></p>
<p><strong>2. cd - **　　切换到</strong>上次访问**的目录</p>
<p><img src="/2020/02/19/Linux/fanhui.png" alt></p>
<p><strong>3. cd .. **　　**回退到上一层目录</strong></p>
<p><img src="/2020/02/19/Linux/huitiu.png" alt></p>
<p><strong>4. cd /xx/yy **　　可以一次性直接</strong>到xx目录下的yy目录**(也可以一层一层找)</p>
<p><img src="/2020/02/19/Linux/yici.png" alt></p>
<hr>
<h1 id="创建目录-mkdir-p"><a href="#创建目录-mkdir-p" class="headerlink" title="创建目录 mkdir (-p)#"></a>创建目录 mkdir (-p)#</h1><p><strong>1. mkdir xxx **　　**创建</strong>一个xxx文件夹</p>
<p><img src="/2020/02/19/Linux/mkdir.png" alt></p>
<p><strong>2. mkdir -p aaa/bbb **　　**创建多级目录文件</strong></p>
<p><img src="/2020/02/19/Linux/chuangjianer.png" alt></p>
<hr>
<h1 id="移除目录-rmdir"><a href="#移除目录-rmdir" class="headerlink" title="移除目录 rmdir"></a>移除目录 rmdir</h1><p><strong>1. rmdir xxx **　　**移除</strong>一个文件夹</p>
<hr>
<h1 id="浏览文件-cat-more-less-tail"><a href="#浏览文件-cat-more-less-tail" class="headerlink" title="浏览文件 cat more less tail#"></a>浏览文件 cat more less tail#</h1><h2 id="cat-一次性展示"><a href="#cat-一次性展示" class="headerlink" title="cat(一次性展示)"></a>cat(一次性展示)</h2><p><strong>1.cat xxx ** 文档内容　　**一次性展示</strong></p>
<h2 id="more-按-展示"><a href="#more-按-展示" class="headerlink" title="more(按%展示)"></a>more(按%展示)</h2><p><strong>1. more install.log **　　文档进行</strong>分页展示**</p>
<pre><code>空格：一页一页展示
回车：一行一行
Q：退出</code></pre><h2 id="less-按照-展示"><a href="#less-按照-展示" class="headerlink" title="less(按照%展示)"></a>less(按照%展示)</h2><p><strong>1. less install.log **　　文档进行</strong>分页展示**</p>
<pre><code>空格：一页一页展示
回车：一行一行
Q/ctrl+c：退出
键盘上下键：可以上下翻页 (区别于more)</code></pre><h2 id="tail-具体看某几行-n"><a href="#tail-具体看某几行-n" class="headerlink" title="tail(具体看某几行 (-n))"></a>tail(具体看某几行 (-n))</h2><p><strong>1. tail -n install.log **　　查看</strong>倒数n行的文档内容**</p>
<p><img src="/2020/02/19/Linux/tail.png" alt></p>
<hr>
<h1 id="复制文件-cp"><a href="#复制文件-cp" class="headerlink" title="复制文件 cp"></a>复制文件 cp</h1><p><strong>1. cp xxx yyy **　　**将xxx复制到yyy目录里面</strong></p>
<p><strong>2. cp xxx yyy/zzz **　　**将xxx复制到yyy目录的时候更改名为zzz</strong> </p>
<p><img src="/2020/02/19/Linux/cp.png" alt></p>
<p><img src="/2020/02/19/Linux/cpjieguo.png" alt></p>
<hr>
<h1 id="拷贝-剪切-文件-mv"><a href="#拷贝-剪切-文件-mv" class="headerlink" title="拷贝(剪切)文件 mv#"></a>拷贝(剪切)文件 mv#</h1><p>*<em>1. mv a.txt /root/bb *</em>　　将当前目录下的a.txt剪切到bb目录</p>
<p>*<em>2. mv a.txt /root/bb/b.txt *</em>　　将当前目录下的a.txt剪切到bb目录并且命名改为b.txt</p>
<p><img src="/2020/02/19/Linux/mv.png" alt></p>
<p><img src="/2020/02/19/Linux/mvjieguo.png" alt></p>
<hr>
<h1 id="删除文件-rm-rf"><a href="#删除文件-rm-rf" class="headerlink" title="删除文件 rm (-rf)"></a>删除文件 rm (-rf)</h1><p><strong>1. rm -r xxx</strong>　　<strong>删除</strong>xxx文件</p>
<pre><code>rm -f xxx  不询问的删除xxx文件
rm -r xxx  询问的删除xxx文件
rm -rf xxx 不询问的删除xxx文件(配合使用)</code></pre><p><img src="/2020/02/19/Linux/rm.png" alt></p>
<hr>
<h1 id="创建空文件-touch"><a href="#创建空文件-touch" class="headerlink" title="创建空文件 touch#"></a>创建空文件 touch#</h1><p><strong>1. touch xxx.txt</strong>　　<strong>创建一个空文件</strong></p>
<hr>
<h1 id="压缩文件-tar-zcvf"><a href="#压缩文件-tar-zcvf" class="headerlink" title="压缩文件 tar -zcvf#"></a>压缩文件 tar -zcvf#</h1><p><strong>压缩和解压文件所需要的属性:</strong></p>
<pre><code>-c:创建一个新的tar文件
-v:显示运行过程中的信息
-f：指定文件名
-x：解开tar文件
-z：调用gzip压缩命令进行压缩
-t：查看压缩文件内容</code></pre><p><strong>1. tar -cvf xxx.tar ./* **　　**打包</strong></p>
<p><strong>2. tar -zcvf xxx.tar ./* **　　**打包并且压缩</strong></p>
<hr>
<h1 id="解压文件-tar-zxvf"><a href="#解压文件-tar-zxvf" class="headerlink" title="解压文件 tar -zxvf"></a>解压文件 tar -zxvf</h1><p><strong>1. tar -xvf xxx.tar</strong>   </p>
<p><strong>2. tar -zxvf xxx.tar.gz -C /usr/aaa</strong>　　<strong>解压</strong> (linux压缩包后缀是gz) -C是减压到 usr的aaa目录</p>
<hr>
<h1 id="查找文件位置-find"><a href="#查找文件位置-find" class="headerlink" title="查找文件位置 find"></a>查找文件位置 find</h1><p><strong>1. find / -name “ins”</strong>　　查找<strong>名字以ins开头的文件</strong></p>
<p><strong>2. find / -user xxx -ls</strong>　　查找<strong>用户为xxx的目录</strong></p>
<hr>
<h1 id="查找文件内容-grep"><a href="#查找文件内容-grep" class="headerlink" title="查找文件内容  grep"></a>查找文件内容  grep</h1><p><strong>1. grep lang xxx</strong>　　<strong>在文件中查找lang</strong></p>
<p><strong>2. grep lang xxx -color **　　**高亮显示</strong></p>
<hr>
<h1 id="重定向输出-gt-覆盖-gt-gt-覆盖"><a href="#重定向输出-gt-覆盖-gt-gt-覆盖" class="headerlink" title="重定向输出 &gt;(覆盖) &gt;&gt;(覆盖)"></a>重定向输出 &gt;(覆盖) &gt;&gt;(覆盖)</h1><p><strong>1. cat aaa &gt; bbb</strong>  aaa的<strong>覆盖</strong>bbb</p>
<p><strong>2. cat aaa &gt;&gt; bbb</strong> aaa内容<strong>追加</strong>到bbb</p>
<hr>
<h1 id="系统管理命令"><a href="#系统管理命令" class="headerlink" title="系统管理命令"></a>系统管理命令</h1><p><strong>1. ps -ef **　　查看</strong>所有**进程</p>
<p><strong>2. ps -ef | grep ssh **　　查看</strong>某一**进程</p>
<p><strong>3. kill -9 xxxx **　　**强制杀死</strong>xxxx编号的进程</p>
<p><strong>4. kill xxxx</strong>　　<strong>杀死</strong>xxxx编号的进程</p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ServletContext" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/02/18/ServletContext/" class="article-date">
      <time datetime="2020-02-18T06:02:28.000Z" itemprop="datePublished">2020-02-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/02/18/ServletContext/">ServletContext</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="一、ServletContext-Servlet-上下文"><a href="#一、ServletContext-Servlet-上下文" class="headerlink" title="一、ServletContext(Servlet 上下文)"></a>一、ServletContext(Servlet 上下文)</h1><blockquote>
<p>每个web工程都只有一个ServletContext对象。 说白了也就是不管在哪个servlet里面，获取到的这个类的对象都是同一个。</p>
</blockquote>
<p><strong>举例步骤：</strong>新建一个项目–java Resources–src右键新建Servlet–填写类名和包名</p>
<p><strong>自动生成代码如下：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">package servleter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Servlet implementation class ServletContext01</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class ServletContext01 extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID &#x3D; 1L;</span><br><span class="line">       </span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public ServletContext01() &#123;</span><br><span class="line">        super();</span><br><span class="line">        &#x2F;&#x2F; TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>###如何得到对象(和ServletConfig相似)</p>
<pre><code>//1. 获取对象
    ServletContext context = getServletContext();</code></pre><hr>
<h1 id="二、ServletContext获取全局参数"><a href="#二、ServletContext获取全局参数" class="headerlink" title="二、ServletContext获取全局参数"></a>二、ServletContext获取全局参数</h1><pre><code>ServletConfig----在servlet里面对&lt;init-paramd&gt;写具体的参数</code></pre><p><img src="/2020/02/18/ServletContext/config.png" alt></p>
<pre><code>ServletContext---对根标签servlet外面对&lt;context-param&gt;写全局参数</code></pre><p><img src="/2020/02/18/ServletContext/context.png" alt></p>
<p><img src="/2020/02/18/ServletContext/jiegoutu.png" alt></p>
<p><strong>使用了直接右键server所以不用自己配</strong></p>
<p><strong>web.xml的完整内容：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&quot; xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_2_5.xsd&quot; id&#x3D;&quot;WebApp_ID&quot; version&#x3D;&quot;2.5&quot;&gt;</span><br><span class="line">  &lt;display-name&gt;ServletRegister&lt;&#x2F;display-name&gt;</span><br><span class="line">  &lt;welcome-file-list&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.html&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.htm&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;index.jsp&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.html&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.htm&lt;&#x2F;welcome-file&gt;</span><br><span class="line">    &lt;welcome-file&gt;default.jsp&lt;&#x2F;welcome-file&gt;</span><br><span class="line">  &lt;&#x2F;welcome-file-list&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;context-param&gt;     &#x2F;&#x2F;在这加context-param标签!!!!!!!!!!!!!!!</span><br><span class="line">    &lt;param-name&gt;address&lt;&#x2F;param-name&gt;</span><br><span class="line">    &lt;param-value&gt;shenzhen&lt;&#x2F;param-value&gt;</span><br><span class="line">  &lt;&#x2F;context-param&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;servlet-name&gt;Demo&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servlet.Demo&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;Demo&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;Demo&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;description&gt;&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;display-name&gt;ServletContext01&lt;&#x2F;display-name&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext01&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servleter.ServletContext01&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext01&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;ServletContext01&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">  &lt;servlet&gt;</span><br><span class="line">    &lt;description&gt;&lt;&#x2F;description&gt;</span><br><span class="line">    &lt;display-name&gt;ServletContext02&lt;&#x2F;display-name&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext02&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;servlet-class&gt;servleter.ServletContext02&lt;&#x2F;servlet-class&gt;</span><br><span class="line">  &lt;&#x2F;servlet&gt;</span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">    &lt;servlet-name&gt;ServletContext02&lt;&#x2F;servlet-name&gt;</span><br><span class="line">    &lt;url-pattern&gt;&#x2F;ServletContext02&lt;&#x2F;url-pattern&gt;</span><br><span class="line">  &lt;&#x2F;servlet-mapping&gt;</span><br><span class="line">&lt;&#x2F;web-app&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ServletContext01/02代码几乎一样都是创建对象然后输出</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class ServletContext02 extends HttpServlet &#123;</span><br><span class="line">	</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">			ServletContext context&#x3D;getServletContext();</span><br><span class="line">		&#x2F;&#x2F;2.获得address		</span><br><span class="line">			String address&#x3D;context.getInitParameter(&quot;address&quot;);</span><br><span class="line">			System.out.println(&quot;这是ServletContext02的address&#x3D;&quot;+address);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>01通过浏览器去刷新/02通过eclipse自带的页面浏览器刷新</strong></p>
<p><img src="/2020/02/18/ServletContext/duibi.png" alt></p>
<hr>
<h1 id="三、ServletContext获取Web应用中的资源"><a href="#三、ServletContext获取Web应用中的资源" class="headerlink" title="三、ServletContext获取Web应用中的资源"></a>三、ServletContext获取Web应用中的资源</h1><ol>
<li>获取资源在tomcat里面的<strong>绝对路径(getRealpath()方法)</strong></li>
</ol>
<p><img src="/2020/02/18/ServletContext/diyijiegou.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Demo04 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">			ServletContext context&#x3D;getServletContext();</span><br><span class="line">			String path&#x3D;context.getRealPath(&quot;file&#x2F;config.properties&quot;);   &#x2F;&#x2F;获取给定的文件在服务器上面的绝对路径 ---如果“”里面没有东西意思就是找到根目录</span><br><span class="line">				System.out.println(&quot;path&#x3D;&quot;+path);</span><br><span class="line">				</span><br><span class="line">				 &#x2F;&#x2F;1.创建属性对象</span><br><span class="line">				Properties properties&#x3D;new Properties(); </span><br><span class="line">				InputStream is&#x3D;new FileInputStream(path);  &#x2F;&#x2F;通过InputStream数据流连接path</span><br><span class="line">				properties.load(is); &#x2F;&#x2F;加载输入流</span><br><span class="line">				</span><br><span class="line">				&#x2F;&#x2F;3.获取name属性的值</span><br><span class="line">				String name&#x3D;properties.getProperty(&quot;name&quot;);</span><br><span class="line">				System.out.println(&quot;name&#x3D;&quot;+name); 			</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>代码结果如下：</strong></p>
<p><img src="/2020/02/18/ServletContext/diyi.png" alt></p>
<hr>
<ol start="2">
<li><strong>ServletContext对象.getResourceAsStream</strong>获取资源流对象</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Demo04 extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;test01(); </span><br><span class="line">		test02();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	private void test02() throws IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取对象</span><br><span class="line">		Properties properties&#x3D;new Properties();</span><br><span class="line">		ServletContext context&#x3D;getServletContext();  &#x2F;&#x2F;创建ServletContext对象</span><br><span class="line">		InputStream is&#x3D;context.getResourceAsStream(&quot;file&#x2F;config.properties&quot;);  &#x2F;&#x2F;直接写文件路径(不需要path)</span><br><span class="line">		properties.load(is);	&#x2F;&#x2F;加载文件</span><br><span class="line">		&#x2F;&#x2F;3.获取name属性的值</span><br><span class="line">		String name&#x3D;properties.getProperty(&quot;name&quot;);</span><br><span class="line">		System.out.println(&quot;name22&#x3D;&quot;+name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<ol>
<li>通过<strong>classloader</strong>去获取web工程下的资源 </li>
</ol>
<ul>
<li><p><strong>ServletContext：</strong><br>　　<br>a路径：F:\tomcat\apache-tomcat…\wtpwebapps\Demo04</p>
</li>
<li><p><strong>ClassLoader：</strong><br>　　<br>a路径：F:\tomcat\apache-tomcat…\wtpwebapps\Demo04\WEB-INF\classes</p>
</li>
</ul>
<p>要想让classloader回到Demo03的位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;获得该java文件吧内磨机片的class然后获取到加载这个class的虚拟机中的那个类加载器对象</span><br><span class="line">InputStream is&#x3D;this.getClass().getClassLoader().getResourceAsStream(&quot;..&#x2F;..&#x2F;file&#x2F;config.properties&quot;);</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="四、ServletContext存取数据"><a href="#四、ServletContext存取数据" class="headerlink" title="四、ServletContext存取数据"></a>四、ServletContext存取数据</h1><p><strong>此为web代码框架：</strong></p>
<p><img src="/2020/02/18/ServletContext/zuizhong.png" alt></p>
<p><strong>实现界面分析：</strong></p>
<p><img src="/2020/02/18/ServletContext/fenxi.png" alt></p>
<p><strong>步骤：</strong></p>
<ol>
<li><strong>Client客户端：</strong>主要是要有两个html的客户端代码：<br>login主要是有三个input标签分别是登录、注册、提交按钮；login_success是用来用href标签弹出网站成功登陆次数(通过ServletContext对象的getAttribute()方法获取loginservlet类中的count值)</li>
<li><strong>server服务器端：</strong>主要是两个类：<br>CountServlet类只是获取LoginServlet类的ServletContext对象获取count输出<br>LoginServlet主要分为两步骤：一是通过request的getParameter方法获取login.html输入的账户密码；二是通过ServletContext()对象的set/getAttribute方法获取和更改登陆成功数字。成功可以通过response的setStatus(302)方法设置状态码，然后通过setHeader方法跳转到预定的login_success.html页面。</li>
</ol>
<p><strong>LoginServlet类代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		&#x2F;&#x2F;1.获取数据</span><br><span class="line">		String username&#x3D;request.getParameter(&quot;username&quot;);  &#x2F;&#x2F;request 包括请求的信息</span><br><span class="line">		String password&#x3D;request.getParameter(&quot;password&quot;);</span><br><span class="line">		System.out.println(username+password);</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.校验数据</span><br><span class="line">		PrintWriter pw&#x3D;response.getWriter();  &#x2F;&#x2F;response 响应数据给浏览器 </span><br><span class="line">		</span><br><span class="line">		if(&quot;admin&quot;.equals(username)&amp;&amp;&quot;123&quot;.equals(password))</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F;System.out.println(&quot;登陆成功!&quot;);</span><br><span class="line">			&#x2F;&#x2F;pw.write(&quot;login success..&quot;);</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;1.成功的次数累计加一	</span><br><span class="line">			Object obj&#x3D;getServletContext().getAttribute(&quot;count&quot;);&#x2F;&#x2F;使用ServeletContext对象的getAttribute方法获取count数</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;默认是0次</span><br><span class="line">			int totalCount&#x3D;0; &#x2F;&#x2F;计数用</span><br><span class="line">			if(obj!&#x3D;null)</span><br><span class="line">			&#123;</span><br><span class="line">				totalCount&#x3D;(int) obj;  &#x2F;&#x2F;如果不为0就把obj强转给计数用的totalCount</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(&quot;已经登陆成功的次数是：&quot;+totalCount);</span><br><span class="line">			</span><br><span class="line">			&#x2F;&#x2F;给count赋新的值</span><br><span class="line">			getServletContext().setAttribute(&quot;count&quot;,totalCount+1);  &#x2F;&#x2F;输出之后可以使用ServletContext对象的setAttribute方法更改count数字(当前输出的数字加一付给count)</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;2.跳转到成功的界面</span><br><span class="line">			&#x2F;&#x2F;设置状态码</span><br><span class="line">			response.setStatus(302);</span><br><span class="line">			&#x2F;&#x2F;定位-----&gt;跳转去 login_success.html		</span><br><span class="line">			response.setHeader(&quot;Location&quot;,&quot;login_success.html&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			System.out.println(&quot;登录失败！&quot;);</span><br><span class="line">			pw.write(&quot;login failed..&quot;);</span><br><span class="line">		&#125;	</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">			doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>CountServlet类代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class CountServlet extends HttpServlet &#123;</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;	</span><br><span class="line">		&#x2F;&#x2F;1.取值</span><br><span class="line">		int count&#x3D;(int) getServletContext().getAttribute(&quot;count&quot;);</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;2.输出到界面</span><br><span class="line">		response.getWriter().write(&quot;当前网站成功登录总次数为&quot;+count+&quot;次&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>login_success.html代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">	&lt;h2&gt;登录成功了&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;CountServlet&quot;&gt;获取网站登录成功总数 &lt;&#x2F;a&gt;   &lt;!--href找的是xml里面 url标签的内容--&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>login.html代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h2&gt;请输入以下内容，完成登陆&lt;&#x2F;h2&gt;</span><br><span class="line">	&lt;form action&#x3D;&quot;LoginServlet&quot; method&#x3D;&quot;get&quot;&gt;  &lt;!--action找的是xml里面 url标签的内容--&gt;</span><br><span class="line">		账号:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;username&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		密码:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;password&quot;&#x2F;&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;登录&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Servlet/" rel="tag">Servlet</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/18/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/20/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2024 Larkkkkkkk
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="http://bestwing.me" target="_blank">Sw'blog</a> by Swing
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>

  </div>
</body>
</html>