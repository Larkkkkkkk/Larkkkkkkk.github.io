<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Larkkkkkkk</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Larkkkkkkk">
<meta property="og:url" content="https://larkkkkkkk.github.io/page/17/index.html">
<meta property="og:site_name" content="Larkkkkkkk">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Larkkkkkkk">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Larkkkkkkk" type="application/atom+xml">
  
  
    <link rel="icon" href="/http://oayoilchh.bkt.clouddn.com/2016/07/27/18:05:26%20">
  
  
      
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
        <a href="/" class="profilepic">
            
            <img lazy-src="img/head.jpg" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Larkkkkkkk</a></h1>
        </hgroup>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                        
                            <li><a  href="/archives">文章归档</a></li>
                        
                            <li><a  href="/CTFStudy">学习导航</a></li>
                        
                            <li><a  href="/PWNABLE">PWNABLE</a></li>
                        
                            <li><a  href="/resume">个人简历</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail"  target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                            
                                <a class="fl github"  target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                            
                                <a class="fl zhihu"  target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ajax/" style="font-size: 11.82px;">Ajax</a> <a href="/tags/Cookie%E5%92%8CSession/" style="font-size: 13.64px;">Cookie和Session</a> <a href="/tags/DBUtils/" style="font-size: 10.91px;">DBUtils</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/EL%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">EL表达式</a> <a href="/tags/Elasticsearch/" style="font-size: 10.91px;">Elasticsearch</a> <a href="/tags/Element-Plus/" style="font-size: 10px;">Element-Plus</a> <a href="/tags/Filter/" style="font-size: 10.91px;">Filter</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/HTTPServletReauest%E5%92%8CHTTPServletResponse/" style="font-size: 10px;">HTTPServletReauest和HTTPServletResponse</a> <a href="/tags/Hexo%E5%8D%9A%E5%AE%A2/" style="font-size: 12.73px;">Hexo博客</a> <a href="/tags/IDEA%E5%AE%89%E8%A3%85%E5%92%8C%E7%A0%B4%E8%A7%A3/" style="font-size: 10px;">IDEA安装和破解</a> <a href="/tags/JAVA/" style="font-size: 19.09px;">JAVA</a> <a href="/tags/JAVA-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-Lambda表达式</a> <a href="/tags/JAVA-Set%E9%9B%86%E5%90%88/" style="font-size: 10px;">JAVA-Set集合</a> <a href="/tags/JAVA-%E5%8F%8D%E5%B0%84/" style="font-size: 10px;">JAVA-反射</a> <a href="/tags/JAVA-%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 11.82px;">JAVA-多线程</a> <a href="/tags/JAVA-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">JAVA-正则表达式</a> <a href="/tags/JAVA-%E6%B3%9B%E5%9E%8B/" style="font-size: 10px;">JAVA-泛型</a> <a href="/tags/JAVA-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 11.82px;">JAVA-网络编程</a> <a href="/tags/JAVA-%E9%9B%86%E5%90%88/" style="font-size: 11.82px;">JAVA-集合</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0/" style="font-size: 10.91px;">JAVA练习</a> <a href="/tags/JAVA%E7%BB%83%E4%B9%A0-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">JAVA练习-动态规划</a> <a href="/tags/JQuery/" style="font-size: 12.73px;">JQuery</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Jmeter/" style="font-size: 10px;">Jmeter</a> <a href="/tags/Kafka/" style="font-size: 10px;">Kafka</a> <a href="/tags/LeetCode/" style="font-size: 16.36px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 14.55px;">Linux</a> <a href="/tags/Listener/" style="font-size: 10px;">Listener</a> <a href="/tags/Mybatis/" style="font-size: 18.18px;">Mybatis</a> <a href="/tags/MybatisPlus/" style="font-size: 10px;">MybatisPlus</a> <a href="/tags/Mysql/" style="font-size: 11.82px;">Mysql</a> <a href="/tags/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC/" style="font-size: 14.55px;">Mysql数据库和JDBC</a> <a href="/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/tags/QPS/" style="font-size: 10px;">QPS</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 10.91px;">Servlet</a> <a href="/tags/Spring/" style="font-size: 15.45px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 14.55px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 10.91px;">Vue</a> <a href="/tags/Web%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 20px;">Web前端知识点</a> <a href="/tags/XML/" style="font-size: 10.91px;">XML</a> <a href="/tags/Zookeeper/" style="font-size: 10px;">Zookeeper</a> <a href="/tags/cpolar/" style="font-size: 10px;">cpolar</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/flask%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">flask框架</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/jsp%E6%A0%87%E5%87%86%E6%A0%87%E7%AD%BE%E5%BA%93/" style="font-size: 10px;">jsp标准标签库</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/picture/" style="font-size: 10px;">picture</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/pytorch/" style="font-size: 10px;">pytorch</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/ssm%E6%A1%86%E6%9E%B6%E6%A8%A1%E6%9D%BF/" style="font-size: 10px;">ssm框架模板</a> <a href="/tags/wangEditor5-%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">wangEditor5-富文本编辑器</a> <a href="/tags/webserver%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">webserver编程</a> <a href="/tags/%E4%BA%8B%E5%8A%A1/" style="font-size: 10px;">事务</a> <a href="/tags/%E4%BA%AC%E4%B8%9C/" style="font-size: 10.91px;">京东</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/" style="font-size: 10px;">加密算法</a> <a href="/tags/%E5%90%8E%E7%BC%80%E6%A0%91/" style="font-size: 10px;">后缀树</a> <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="font-size: 10px;">哈希表</a> <a href="/tags/%E5%9B%BE/" style="font-size: 10px;">图</a> <a href="/tags/%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/" style="font-size: 10px;">复杂度分析</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" style="font-size: 10px;">大模型</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8BLangChain/" style="font-size: 10px;">大模型LangChain</a> <a href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%89%8D%E7%AB%AFGradio/" style="font-size: 10px;">大模型前端Gradio</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" style="font-size: 10px;">学生管理系统</a> <a href="/tags/%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F2-0/" style="font-size: 11.82px;">学生管理系统2.0</a> <a href="/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" style="font-size: 10.91px;">定时任务</a> <a href="/tags/%E5%AE%9E%E4%B9%A0/" style="font-size: 10px;">实习</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 10px;">微信小程序</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 17.27px;">微服务</a> <a href="/tags/%E6%8B%BC%E5%A4%9A%E5%A4%9A/" style="font-size: 10px;">拼多多</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size: 10px;">排序</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 10px;">数据分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/" style="font-size: 10px;">数据库连接池</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84/" style="font-size: 10px;">数据结构-稀疏数组</a> <a href="/tags/%E6%96%87%E5%AD%97%E7%AF%87-%E8%AE%B0%E5%BD%95/" style="font-size: 10px;">文字篇-记录</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 11.82px;">机器学习</a> <a href="/tags/%E6%A0%88/" style="font-size: 10px;">栈</a> <a href="/tags/%E6%A0%91/" style="font-size: 11.82px;">树</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 10px;">注解</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 13.64px;">深度学习</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10.91px;">爬虫</a> <a href="/tags/%E7%94%9F%E7%89%A9%E4%BF%A1%E6%81%AF%E5%AD%A6/" style="font-size: 10px;">生物信息学</a> <a href="/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/" style="font-size: 11.82px;">知识图谱</a> <a href="/tags/%E7%A0%94%E7%A9%B6%E7%94%9F%E5%88%9D%E8%AF%95/" style="font-size: 11.82px;">研究生初试</a> <a href="/tags/%E7%A7%8B%E6%8B%9B/" style="font-size: 10px;">秋招</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">算法-动态规划</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E5%9B%9E%E6%BA%AF%E6%B3%95/" style="font-size: 10px;">算法-回溯法</a> <a href="/tags/%E7%AE%97%E6%B3%95-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法-贪心算法</a> <a href="/tags/%E8%80%83%E7%A0%94/" style="font-size: 10px;">考研</a> <a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 12.73px;">蓝桥杯</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10.91px;">计算机网络</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%AF%BE%E8%AE%BE-%E8%BD%AF%E4%BB%B6%E4%B8%93%E4%B8%9A%E9%A2%98%E7%9B%AE/" style="font-size: 10px;">计算机网络课设(软件专业题目)</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 11.82px;">设计模式</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/" style="font-size: 10px;">软件体系结构</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 10px;">递归</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 10px;">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 10px;">队列</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a> <a href="/tags/%E9%A1%B5%E9%9D%A2%EF%BC%88H5-CSS%EF%BC%89/" style="font-size: 10px;">页面（H5+CSS）</a> <a href="/tags/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0/" style="font-size: 10px;">项目上传</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://ring3.xyz/">Yllen</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://mxny.org/">麦香浓郁</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://whereisk0shl.top/">K0sh1</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.ycjcl.cc/">信鑫</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://bystudent.com/">ByStundet表哥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.jarviswang.me/">汪神_Jarvis</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sh3ll.me/">Chu</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.hackfun.org/">4ido10n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/iamstudy">L3m0n</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://o0xmuhe.me/">muhe</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.nuptzj.cn/">_画船听雨</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.virzz.com/index.html">Virink</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.sqlsec.com/">国光</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bodkin.ren/">老锥</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cizel.cn/">C1zel</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://1phan.cc">1phan</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://www.liuil.top/">liuil</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Ox9A82/">Ox9A82</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://burnegg.com/">burnegg</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://jwrsec.cn/">jwr-sec</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://sudalover.cn/">苏打</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.binklac.com">VeroFess</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.bendawang.site/">bendawang</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://weeklyalgo.codes/">hook</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.flier.net.cn/">Flier&#39;blog</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.mutepig.club">mutepig</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://blog.iret.xyz/list.aspx">Silver</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://simp1e.leanote.com/">Simple</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://processor.pub/">Processor</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">一只淹死在二进制海洋里的二进制狗!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Larkkkkkkk</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Larkkkkkkk</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="https://github.com/Larkkkkkkk" target="_blank" rel="noopener">博客首页</a></li>
                
                    <li><a href="/archives">文章归档</a></li>
                
                    <li><a href="/CTFStudy">学习导航</a></li>
                
                    <li><a href="/PWNABLE">PWNABLE</a></li>
                
                    <li><a href="/resume">个人简历</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=U2JgZ2ZlY2VmamATIiJ9MDw_" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/Larkkkkkkk" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/plain-3-78/activities" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/5304208276/profile?topnav=1&wvr=6" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-SpringMVC" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/07/SpringMVC/" class="article-date">
      <time datetime="2020-04-07T04:11:15.000Z" itemprop="datePublished">2020-04-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/07/SpringMVC/">SpringMVC</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="SpringMVC简介"><a href="#SpringMVC简介" class="headerlink" title="SpringMVC简介"></a>SpringMVC简介</h1><h2 id="SpringMVC中重要组件"><a href="#SpringMVC中重要组件" class="headerlink" title="SpringMVC中重要组件"></a>SpringMVC中重要组件</h2><pre><code>1. DispatcherServlet : 前端控制器 (接收所有请求)

2. HandlerMapping : 解析请求格式 (判断执行哪个方法)

3. HandlerAdapter : 调用具体方法

4. ViewResovler : 视图解析器 (准备跳转到具体的物理视图)</code></pre><h2 id="SpringMVC运行原理图"><a href="#SpringMVC运行原理图" class="headerlink" title="SpringMVC运行原理图"></a>SpringMVC运行原理图</h2><p><img src="/2020/04/07/SpringMVC/zhixing.png" alt></p>
<hr>
<h1 id="使用纯配置文件搭建SpringMVC环境"><a href="#使用纯配置文件搭建SpringMVC环境" class="headerlink" title="使用纯配置文件搭建SpringMVC环境"></a>使用纯配置文件搭建SpringMVC环境</h1><h2 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h2><p><img src="/2020/04/07/SpringMVC/jar.png" alt></p>
<h2 id="修改web-xml文件"><a href="#修改web-xml文件" class="headerlink" title="修改web.xml文件"></a>修改web.xml文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;web-app version&#x3D;&quot;3.0&quot; xmlns&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee                       </span><br><span class="line">	http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_3_0.xsd&quot;&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 配置Servlet 找前端控制器 DispatcherServlet类 --&gt;</span><br><span class="line">	&lt;servlet&gt;</span><br><span class="line">		&lt;servlet-name&gt;springmvc123&lt;&#x2F;servlet-name&gt;</span><br><span class="line">		&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;</span><br><span class="line">	  &lt;!-- 修改配置文件路径和名称 --&gt;	</span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">			&lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;</span><br><span class="line">			&lt;param-value&gt;classpath:springmvc.xml&lt;&#x2F;param-value&gt;  &#x2F;&#x2F;所有的配置文件去找src下的springmvc.xml文件</span><br><span class="line">		&lt;&#x2F;init-param&gt;</span><br><span class="line">	  &lt;!-- 自启动 --&gt;</span><br><span class="line">		&lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt; </span><br><span class="line">	&lt;&#x2F;servlet&gt;</span><br><span class="line"></span><br><span class="line">	&lt;servlet-mapping&gt;</span><br><span class="line">		&lt;servlet-name&gt;springmvc123&lt;&#x2F;servlet-name&gt;	</span><br><span class="line">		&lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;</span><br><span class="line">	&lt;&#x2F;servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;web-app&gt;</span><br></pre></td></tr></table></figure>

<h2 id="配置springmvc-xml文件"><a href="#配置springmvc-xml文件" class="headerlink" title="配置springmvc.xml文件"></a>配置springmvc.xml文件</h2><p><strong>配置思路：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 导入spring的xmlns:xxx信息</span><br><span class="line">2. 配置四个组件信息</span><br><span class="line">	2.1 配置HandlerMapping的底层simpleUrlHandlerMapping接口</span><br><span class="line">	2.2 配置simpleUrlHandlerMapping接口的实现类(新建DemoController类)</span><br><span class="line">	2.3 配置HandlerAdapter底层的SimpleControllerHandlerAdapter接口</span><br><span class="line">	2.4 配置ViewResovler底层的InternalResourceViewResolver接口</span><br></pre></td></tr></table></figure>

<p><strong>完整代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; </span><br><span class="line">	xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd&quot;&gt;</span><br><span class="line">  &lt;!-- 底层接口实现类 --&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;demo123&quot; class&#x3D;&quot;com.bjsxt.controller.DemoController&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 使用HandlerMapping底层的simpleUrlHandlerMapping接口 --&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;handlerMapping&quot; class&#x3D;&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;</span><br><span class="line">		&lt;property name&#x3D;&quot;urlMap&quot;&gt;      &lt;!-- 底层用map集合 --&gt;</span><br><span class="line">			&lt;map&gt;</span><br><span class="line">				&lt;entry key&#x3D;&quot;demo&quot; value-ref&#x3D;&quot;demo123&quot;&gt;&lt;&#x2F;entry&gt;  &lt;!-- key表示解析出控制器逻辑名  value-ref表示跳转到接口实现类 --&gt;</span><br><span class="line">			&lt;&#x2F;map&gt;</span><br><span class="line">		&lt;&#x2F;property&gt;</span><br><span class="line">	&lt;&#x2F;bean&gt;</span><br><span class="line">	</span><br><span class="line">  &lt;!-- 使用HandlerAdapter底层的SimpleControllerHandlerAdapter接口 --&gt;</span><br><span class="line">	&lt;bean class&#x3D;&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">	</span><br><span class="line">  &lt;!-- 使用ViewResovler底层的InternalResourceViewResolver接口 --&gt;	</span><br><span class="line">	&lt;bean id&#x3D;&quot;viewResovler&quot; class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</span><br><span class="line">		&lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;&quot;&gt;&lt;&#x2F;property&gt;      &lt;!-- 视图解释器 可以方便的给要跳转的页面加好前置和后置信息 --&gt;</span><br><span class="line">		&lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">	&lt;&#x2F;bean&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h2 id="配置前端控制器接口实现类"><a href="#配置前端控制器接口实现类" class="headerlink" title="配置前端控制器接口实现类"></a>配置前端控制器接口实现类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class DemoController implements Controller&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;</span><br><span class="line">		System.out.println(&quot;执行了springmvc控制器&quot;);</span><br><span class="line">		ModelAndView mav&#x3D;new ModelAndView(&quot;main&quot;);  &#x2F;&#x2F;传递和传值  (跳转到main.jsp)</span><br><span class="line">		return mav;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置跳转到main-jsp页面"><a href="#配置跳转到main-jsp页面" class="headerlink" title="配置跳转到main.jsp页面"></a>配置跳转到main.jsp页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	main.jsp</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="新建test测试类"><a href="#新建test测试类" class="headerlink" title="新建test测试类"></a>新建test测试类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ApplicationContext ac&#x3D;null; </span><br><span class="line">		HandlerMapping hm&#x3D;null;  &#x2F;&#x2F;设置默认的</span><br><span class="line">		HandlerAdapter ha&#x3D;null;	 &#x2F;&#x2F;设置默认的	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="SpringMVC运行过程源码跟踪"><a href="#SpringMVC运行过程源码跟踪" class="headerlink" title="SpringMVC运行过程源码跟踪"></a>SpringMVC运行过程源码跟踪</h1><h2 id="Spring和SpringMVC关系"><a href="#Spring和SpringMVC关系" class="headerlink" title="Spring和SpringMVC关系"></a>Spring和SpringMVC关系</h2><blockquote>
<p>Spring容器和SpringMVC容器是父子容器(SpringMVC容器可以调用Spring容器中所有内容)</p>
</blockquote>
<p><img src="/2020/04/07/SpringMVC/yuanma.png" alt></p>
<hr>
<h1 id="SpringMVC环境搭建-注解方式"><a href="#SpringMVC环境搭建-注解方式" class="headerlink" title="SpringMVC环境搭建(注解方式)"></a>SpringMVC环境搭建(注解方式)</h1><h2 id="导入JAR包"><a href="#导入JAR包" class="headerlink" title="导入JAR包"></a>导入JAR包</h2><p><img src="/2020/04/07/SpringMVC/jarer.png" alt></p>
<h2 id="编写web-xml文件"><a href="#编写web-xml文件" class="headerlink" title="编写web.xml文件"></a>编写web.xml文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 配置前端控制器 --&gt;</span><br><span class="line">&lt;servlet&gt;</span><br><span class="line">	&lt;servlet-name&gt;jqk&lt;&#x2F;servlet-name&gt;</span><br><span class="line">	&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;</span><br><span class="line">	&lt;init-param&gt;</span><br><span class="line">		&lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;    &#x2F;&#x2F;配置要找的配置文件件地址</span><br><span class="line">		&lt;param-value&gt;Classpath:springmvc.xml&lt;&#x2F;param-value&gt;  &#x2F;&#x2F;配置要找的配置文件叫springmvc.xml</span><br><span class="line">	&lt;&#x2F;init-param&gt;</span><br><span class="line">	&lt;load-on-startup&gt;1&lt;&#x2F;load-on-startup&gt;  &#x2F;&#x2F;自启动 优先级为1</span><br><span class="line">&lt;&#x2F;servlet&gt;</span><br><span class="line"></span><br><span class="line">&lt;servlet-mapping&gt;</span><br><span class="line">	&lt;servlet-name&gt;jqk&lt;&#x2F;servlet-name&gt;</span><br><span class="line">	&lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;   </span><br><span class="line">&lt;&#x2F;servlet-mapping&gt;</span><br></pre></td></tr></table></figure>

<h2 id="编写springmvc-xml文件"><a href="#编写springmvc-xml文件" class="headerlink" title="编写springmvc.xml文件"></a>编写springmvc.xml文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; </span><br><span class="line">	xmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;   &#x2F;&#x2F;现在的mvc框架必备(减少不必要的组件配置)</span><br><span class="line">	xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;   &#x2F;&#x2F;注解必备</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc    &#x2F;&#x2F;后面两行是mvc的location地址</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc.xsd&quot;&gt;</span><br><span class="line">	</span><br><span class="line">  &lt;!-- 扫描注解(具体哪些包下的类有注解) --&gt;</span><br><span class="line">	&lt;context:component-scan base-package&#x3D;&quot;com.bjsxt.controller&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">	</span><br><span class="line">  &lt;!-- 注解驱动 相当于配置了两个组件(下面两行注解的组件) --&gt;	</span><br><span class="line">  &lt;!-- org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping --&gt;</span><br><span class="line">  &lt;!-- org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter --&gt;</span><br><span class="line">	&lt;mvc:annotation-driven&gt;&lt;&#x2F;mvc:annotation-driven&gt;		</span><br><span class="line">	</span><br><span class="line">  &lt;!-- 静态资源 --&gt;</span><br><span class="line">	&lt;mvc:resources location&#x3D;&quot;&#x2F;js&#x2F;&quot; mapping&#x3D;&quot;&#x2F;js&#x2F;**&quot;&gt;&lt;&#x2F;mvc:resources&gt;   &#x2F;&#x2F;location表明 当前代码框架下文件名   mapping表明用浏览器 localhost:8080&#x2F;项目名&#x2F;js&#x2F;jssa.js的形式</span><br><span class="line">	&lt;mvc:resources location&#x3D;&quot;&#x2F;css&#x2F;&quot; mapping&#x3D;&quot;&#x2F;css&#x2F;**&quot;&gt;&lt;&#x2F;mvc:resources&gt;</span><br><span class="line">	&lt;mvc:resources location&#x3D;&quot;&#x2F;images&#x2F;&quot; mapping&#x3D;&quot;&#x2F;images&#x2F;**&quot;&gt;&lt;&#x2F;mvc:resources&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h2 id="编写注解类"><a href="#编写注解类" class="headerlink" title="编写注解类"></a>编写注解类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class DemoController &#123;</span><br><span class="line">		</span><br><span class="line">	@RequestMapping(&quot;demo&quot;)   &#x2F;&#x2F;浏览器访问的形式:localhost:8080&#x2F;项目名&#x2F;demo </span><br><span class="line">	public String demo() &#123;</span><br><span class="line">		System.out.println(&quot;执行demo&quot;);  &#x2F;&#x2F;控制台输出</span><br><span class="line">		return &quot;main.jsp&quot;;    &#x2F;&#x2F; 返回到main.jsp页面</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跳转到的main-jsp页面"><a href="#跳转到的main-jsp页面" class="headerlink" title="跳转到的main.jsp页面"></a>跳转到的main.jsp页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	要跳转到的main.jsp!   &#x2F;&#x2F;主页展示的内容</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><pre><code>1. 导入jar包
2. 配置web.xml文件
    2.1 配置servlet和servlet-mapping标签
    2.2 在servlet标签中配置init-param标签 去配置springmvc.xml文件的地址和访问
3. 配置springmvc.xml文件
    3.1 配置mvc框架的xmlns:mvc和location地址
    3.2 扫描注解(context:component-scan标签 配置哪些类有注解)
    3.3 注解驱动(mvc:annotation-driven标签 配置相当于配置了两个组件)
    3.4 静态资源(mvc:resources标签 配置要访问的js/css/images地址)
4. 配置注解类
    4.1 使用@Controller 注解整个类
    4.2 使用@RequestMapping(&quot;xxx&quot;) 注解访问访问的地址
    4.3 return 放入要返回的主页地址</code></pre><p><strong>代码结构框架:</strong></p>
<p><img src="/2020/04/07/SpringMVC/kuangjia.png" alt></p>
<hr>
<h1 id="基本数据类型-参数"><a href="#基本数据类型-参数" class="headerlink" title="基本数据类型(参数)"></a>基本数据类型(参数)</h1><blockquote>
<p><strong>把内容写到方法(HandlerMethod)参数内,springmvc只要有这个内容就会注入内容</strong></p>
</blockquote>
<h2 id="在刚才的基础上新建index-jsp页面"><a href="#在刚才的基础上新建index-jsp页面" class="headerlink" title="在刚才的基础上新建index.jsp页面"></a>在刚才的基础上新建index.jsp页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action&#x3D;&quot;demo&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;age&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<h2 id="web-xml中添加防止乱码-filter标签"><a href="#web-xml中添加防止乱码-filter标签" class="headerlink" title="web.xml中添加防止乱码(filter标签)"></a>web.xml中添加防止乱码(filter标签)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;filter&gt;</span><br><span class="line">		&lt;filter-name&gt;encoding&lt;&#x2F;filter-name&gt;</span><br><span class="line">		&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;&#x2F;filter-class&gt;</span><br><span class="line">		&lt;init-param&gt;</span><br><span class="line">			&lt;param-name&gt;encoding&lt;&#x2F;param-name&gt;</span><br><span class="line">			&lt;param-value&gt;utf-8&lt;&#x2F;param-value&gt;</span><br><span class="line">		&lt;&#x2F;init-param&gt;</span><br><span class="line">	&lt;&#x2F;filter&gt;</span><br><span class="line"></span><br><span class="line">	&lt;filter-mapping&gt;</span><br><span class="line">			&lt;filter-name&gt;encoding&lt;&#x2F;filter-name&gt;</span><br><span class="line">			&lt;url-pattern&gt;&#x2F;*&lt;&#x2F;url-pattern&gt;</span><br><span class="line">	&lt;&#x2F;filter-mapping&gt;</span><br></pre></td></tr></table></figure>

<h2 id="更改注解类-方法添加参数"><a href="#更改注解类-方法添加参数" class="headerlink" title="更改注解类(方法添加参数)"></a>更改注解类(方法添加参数)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class DemoController &#123;</span><br><span class="line">		</span><br><span class="line">	@RequestMapping(&quot;demo&quot;)   &#x2F;&#x2F;路径要用的demo</span><br><span class="line">	public String demo(String name,int age) &#123;   &#x2F;&#x2F;添加了name和age两个参数</span><br><span class="line">		System.out.println(&quot;执行demo&quot;+&quot; &quot;+name+&quot; &quot;+age);</span><br><span class="line">		return &quot;main.jsp&quot;;    &#x2F;&#x2F; 返回到main.jsp页面</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h2><p><strong>直接从项目运行(run)</strong></p>
<p><img src="/2020/04/07/SpringMVC/jieguo.png" alt></p>
<p><strong>填写信息(已经做了预防中文乱码的操作):</strong></p>
<p><img src="/2020/04/07/SpringMVC/jieguoer.png" alt></p>
<hr>
<h1 id="对象类型-参数"><a href="#对象类型-参数" class="headerlink" title="对象类型(参数)"></a>对象类型(参数)</h1><blockquote>
<p><strong>把内容写到方法(HandlerMethod)参数内,springmvc只要有这个内容就会注入内容</strong></p>
</blockquote>
<h2 id="新建实体类"><a href="#新建实体类" class="headerlink" title="新建实体类"></a>新建实体类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class People &#123;</span><br><span class="line">		private String name;</span><br><span class="line">		private int age;</span><br><span class="line">		</span><br><span class="line">		public String getName() &#123;</span><br><span class="line">			return name;</span><br><span class="line">		&#125;</span><br><span class="line">		public void setName(String name) &#123;</span><br><span class="line">			this.name &#x3D; name;</span><br><span class="line">		&#125;</span><br><span class="line">		public int getAge() &#123;</span><br><span class="line">			return age;</span><br><span class="line">		&#125;</span><br><span class="line">		public void setAge(int age) &#123;</span><br><span class="line">			this.age &#x3D; age;</span><br><span class="line">		&#125;</span><br><span class="line">				</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="修改注解类-参数修改"><a href="#修改注解类-参数修改" class="headerlink" title="修改注解类(参数修改)"></a>修改注解类(参数修改)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class DemoController &#123;</span><br><span class="line">		</span><br><span class="line">	@RequestMapping(&quot;demo&quot;)   &#x2F;&#x2F;路径要用的demo</span><br><span class="line">	public String demo(People peo,String name,int age) &#123;       &#x2F;&#x2F;可以将整个people对象放进来</span><br><span class="line">		System.out.println(&quot;执行demo&quot;+peo+&quot;  &quot;+name+&quot;  &quot;+age);</span><br><span class="line">		return &quot;main.jsp&quot;;    &#x2F;&#x2F; 返回到main.jsp页面</span><br><span class="line">	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="基本数据类型-参数问题-RequestParam注解"><a href="#基本数据类型-参数问题-RequestParam注解" class="headerlink" title="基本数据类型 - 参数问题(@RequestParam注解)"></a>基本数据类型 - 参数问题(@RequestParam注解)</h1><h2 id="默认-参数和传递参数名相同"><a href="#默认-参数和传递参数名相同" class="headerlink" title="(默认)参数和传递参数名相同"></a>(默认)参数和传递参数名相同</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;主页面(请求传递参数名为name和age)</span><br><span class="line">&lt;form action&#x3D;&quot;demo&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;age&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法传递为name和age</span><br><span class="line">@RequestMapping(&quot;demo&quot;)   &#x2F;&#x2F;路径要用的demo</span><br><span class="line">	public String demo(String name,int age) &#123;</span><br><span class="line">		System.out.println(&quot;执行demo&quot;+&quot; &quot;+name+&quot; &quot;+age);</span><br><span class="line">		return &quot;main.jsp&quot;;    &#x2F;&#x2F; 返回到main.jsp页面</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="参数和传递参数名不同-RequestParam-value-”前端的参数名”"><a href="#参数和传递参数名不同-RequestParam-value-”前端的参数名”" class="headerlink" title="参数和传递参数名不同(@RequestParam(value=”前端的参数名”))"></a>参数和传递参数名不同(@RequestParam(value=”前端的参数名”))</h2><blockquote>
<p><strong>例如：前端程序员和后端java对于同一个name和age不同!!</strong>(<strong>使用@RequestParam(value=”前端的参数名”))方式让匹配上</strong>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;主页面(请求传递参数名为name1和age1)</span><br><span class="line">&lt;form action&#x3D;&quot;demo&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name1&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;age1&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法传递为name和age</span><br><span class="line">@RequestMapping(&quot;demo&quot;)   &#x2F;&#x2F;路径要用的demo</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;使用 value&#x3D;&quot;前端的参数名&quot; [value&#x3D;可以省略] 让两者匹配</span><br><span class="line"></span><br><span class="line">	public String demo(@RequestParam(value&#x3D;&quot;name1&quot;) String name,@RequestParam(value&#x3D;&quot;age1&quot;)int age) &#123;  </span><br><span class="line">		System.out.println(&quot;执行demo&quot;+&quot;  &quot;+name+&quot;  &quot;+age);</span><br><span class="line">		return &quot;main.jsp&quot;;    &#x2F;&#x2F; 返回到main.jsp页面</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="方法参数没赋值-防止执行500"><a href="#方法参数没赋值-防止执行500" class="headerlink" title="方法参数没赋值(防止执行500)"></a>方法参数没赋值(防止执行500)</h2><blockquote>
<p><strong>设置默认值解决500问题</strong>(<strong>@RequestParam(defaultValue=”XXX”)</strong>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(&quot;page&quot;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;使用defaultValue&#x3D;&quot;xxx&quot; 设置一个基础值</span><br><span class="line"></span><br><span class="line">	public String page(@RequestParam(defaultValue&#x3D;&quot;2&quot;) int pageSize,@RequestParam(defaultValue&#x3D;&quot;1&quot;) int pageNumber) &#123;</span><br><span class="line">		System.out.println(pageSize+&quot;  &quot;+pageNumber);</span><br><span class="line">		return &quot;main.jsp&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="强制有参数"><a href="#强制有参数" class="headerlink" title="强制有参数"></a>强制有参数</h2><blockquote>
<p><strong>设置必要值为true</strong>(<strong>@RequestParam(required)</strong>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(&quot;demo2&quot;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;设置 required&#x3D;true 达到强制有参数的条件</span><br><span class="line"></span><br><span class="line">	public String demo2(@RequestParam(required&#x3D;true) String name) &#123;</span><br><span class="line">		System.out.println(&quot;必须传name参数&quot;);</span><br><span class="line">		return &quot;main.jsp&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="对象类型-参数问题"><a href="#对象类型-参数问题" class="headerlink" title="对象类型 - 参数问题"></a>对象类型 - 参数问题</h1><h2 id="请求参数中含多个同名参数-List集合"><a href="#请求参数中含多个同名参数-List集合" class="headerlink" title="请求参数中含多个同名参数(List集合)"></a>请求参数中含多个同名参数(List集合)</h2><blockquote>
<p><strong>复选框传递的参数是多个同名参数</strong>(@RequestParam(“复选框的name名”)List<x> x)</x></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;&#x2F;index.jsp页面</span><br><span class="line"></span><br><span class="line">	&lt;form action&#x3D;&quot;demo5&quot; method&#x3D;&quot;post&quot;&gt;   &#x2F;&#x2F;通过post方式提交到demo5的方法内</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;age&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hover&quot; value&#x3D;&quot;学习&quot;&#x2F;&gt;    &#x2F;&#x2F;爱好是复选框</span><br><span class="line">		&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hover&quot; value&#x3D;&quot;写代码&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hover&quot; value&#x3D;&quot;看视频&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;hover&quot; value&#x3D;&quot;看笔记&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;提交&quot;&#x2F;&gt;</span><br><span class="line">	&lt;&#x2F;form&gt;	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;注解类</span><br><span class="line"></span><br><span class="line">	@RequestMapping(&quot;demo5&quot;)</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;name和age还是普通的方式  爱好就需要List来传递 (@RequestParam(&quot;页面内复选框的name名&quot;))</span><br><span class="line">	</span><br><span class="line">	public String demo5(String name,int age,@RequestParam(&quot;hover&quot;)List&lt;String&gt; a) &#123;</span><br><span class="line">		System.out.println(name+&quot; &quot;+age+&quot; &quot;+a);</span><br><span class="line">		return &quot;main.jsp&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="请求参数-对象-属性"><a href="#请求参数-对象-属性" class="headerlink" title="请求参数(对象.属性)"></a>请求参数(对象.属性)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;页面中：</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo.name&quot;&#x2F;&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo.age&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;新建一个类(对象名和参数中(.)之前的名称对应)</span><br><span class="line">&#x2F;&#x2F; peo和peo.name对应</span><br><span class="line"></span><br><span class="line">	private People peo; &#x2F;&#x2F;传people实体类对象</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;注解类</span><br><span class="line">@RequestMapping(&quot;demo6&quot;)</span><br><span class="line">	public String demo6(Demo demo) &#123; &#x2F;&#x2F;直接传整个类对象</span><br><span class="line">		System.out.println(demo);</span><br><span class="line">		return &quot;main.jsp&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="请求参数传递集合对象-对象-X-属性"><a href="#请求参数传递集合对象-对象-X-属性" class="headerlink" title="请求参数传递集合对象(对象[X].属性)"></a>请求参数传递集合对象(对象[X].属性)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;页面中：</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo[0].name&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo[0].age&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo[1].name&quot;&#x2F;&gt;</span><br><span class="line">		&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;peo[1].age&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;新建一个类(对象名和参数中(.)之前的名称对应)</span><br><span class="line">&#x2F;&#x2F; peo和peo.name对应</span><br><span class="line">	</span><br><span class="line">	private List&lt;People&gt; peo;  &#x2F;&#x2F;传list集合</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;注解类</span><br><span class="line">@RequestMapping(&quot;demo6&quot;)</span><br><span class="line">	public String demo6(Demo demo) &#123;  &#x2F;&#x2F;直接传整个类对象</span><br><span class="line">		System.out.println(demo);</span><br><span class="line">		return &quot;main.jsp&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="restful传值方式"><a href="#restful传值方式" class="headerlink" title="restful传值方式"></a>restful传值方式</h1><blockquote>
<p><strong>简化jsp中参数编码格式</strong></p>
</blockquote>
<h2 id="jsp中特定格式"><a href="#jsp中特定格式" class="headerlink" title="jsp中特定格式"></a>jsp中特定格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;demo07&#x2F;123&#x2F;abc&quot;&gt;跳转&lt;&#x2F;a&gt;   </span><br><span class="line">&#x2F;&#x2F;就是去找注解是demo07而且第一个值123 第二个是abc的注解类</span><br></pre></td></tr></table></figure>

<h2 id="注解类"><a href="#注解类" class="headerlink" title="注解类"></a>注解类</h2><p><strong>注意事项:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. @RequestMapping里面一定要和请求格式对应</span><br><span class="line">	1.1 &#123;&#125;里面随便写名称</span><br><span class="line">2. @PathVariable 获取@RequestMapping中的内容(默认按照方法参数名找)</span><br></pre></td></tr></table></figure>

<p><strong>具体代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(&quot;demo7&#x2F;&#123;id&#125;&#x2F;&#123;name&#125;&quot;)</span><br><span class="line">public String demo7(@PathVariable String name,@PathVariable(&quot;id&quot;) int age) &#123;</span><br><span class="line">	System.out.println(name+&quot; &quot;+age);</span><br><span class="line">	return &quot;main.jsp&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="跳转方式"><a href="#跳转方式" class="headerlink" title="跳转方式"></a>跳转方式</h1><pre><code>1. 默认跳转方式    请求转发
2. 设置返回字符串内容
    2.1 添加 redirect:资源路径 (重定向)
    2.2 添加 forward:资源路径/省略forward (转发) </code></pre><hr>
<h1 id="视图解析器-Spring默认提供"><a href="#视图解析器-Spring默认提供" class="headerlink" title="视图解析器(Spring默认提供)"></a>视图解析器(Spring默认提供)</h1><blockquote>
<p><strong>可以自定义使用ViewResovler底层的InternalResourceViewResolver接口</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 使用ViewResovler底层的InternalResourceViewResolver接口 --&gt;	</span><br><span class="line">&lt;bean id&#x3D;&quot;viewResovler&quot; class&#x3D;&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</span><br><span class="line">	&lt;property name&#x3D;&quot;prefix&quot; value&#x3D;&quot;&#x2F;&quot;&gt;&lt;&#x2F;property&gt;      &lt;!-- 视图解释器 可以方便的给要跳转的页面加好前置和后置信息 --&gt;</span><br><span class="line">	&lt;property name&#x3D;&quot;suffix&quot; value&#x3D;&quot;.jsp&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>** 如果希望不执行自定义视图解析器，可以在注解类方法返回值前添加forward: / redirect: **</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;注解类</span><br><span class="line">@RequestMapping(&quot;demo10&quot;)</span><br><span class="line">	public String demo10() &#123;  &#x2F;&#x2F;直接传整个类对象</span><br><span class="line">	return &quot;forward:demo11&quot;;	&#x2F;&#x2F;使用forward: demo11 的形式(不适用自定义视图解析器)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@RequestMapping(&quot;demo11&quot;)</span><br><span class="line">	public String demo11() &#123;  &#x2F;&#x2F;直接传整个类对象</span><br><span class="line">		System.out.println(&quot;demo11&quot;);</span><br><span class="line">	 &#x2F;&#x2F;加了视图解析器会简化不写前缀和后缀 所以写main就行(原来是main.jsp)</span><br><span class="line">		return &quot;main&quot;; </span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ResponseBody-恒不跳转"><a href="#ResponseBody-恒不跳转" class="headerlink" title="@ResponseBody(恒不跳转)"></a>@ResponseBody(恒不跳转)</h1><blockquote>
<p><strong>一般使用@RequestMapping (恒跳转)</strong></p>
</blockquote>
<h2 id="返回值满足key-value形式-对象-map"><a href="#返回值满足key-value形式-对象-map" class="headerlink" title="返回值满足key-value形式(对象/map)"></a>返回值满足key-value形式(对象/map)</h2><pre><code>1. 响应头设置为 application/json;charset=utf-8
2. 方法返回值 : 输出流</code></pre><h2 id="返回值不满足key-value形式-String等"><a href="#返回值不满足key-value形式-String等" class="headerlink" title="返回值不满足key-value形式(String等)"></a>返回值不满足key-value形式(String等)</h2><pre><code>1. 响应头设置为 text/htmln;charset=utf-8
2. 方法返回值 : 流</code></pre><h2 id="底层使用Jackson进行json转换"><a href="#底层使用Jackson进行json转换" class="headerlink" title="底层使用Jackson进行json转换"></a>底层使用Jackson进行json转换</h2><blockquote>
<p><strong>一定要导入jackson的jar包</strong></p>
</blockquote>
<p>spring4.1.6对jackson不支持较高版本(jackson2.7无效)</p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Ajax整理" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/06/Ajax%E6%95%B4%E7%90%86/" class="article-date">
      <time datetime="2020-04-06T15:52:23.000Z" itemprop="datePublished">2020-04-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/06/Ajax%E6%95%B4%E7%90%86/">Ajax整理</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Ajax-异步请求-局部刷新"><a href="#Ajax-异步请求-局部刷新" class="headerlink" title="Ajax(异步请求 局部刷新)"></a>Ajax(异步请求 局部刷新)</h1><blockquote>
<p><strong>局部刷新:</strong>通过异步请求,请求到服务器资源数据后,过脚本修改页面中部分内容</p>
</blockquote>
<h2 id="JQuery中ajax分类"><a href="#JQuery中ajax分类" class="headerlink" title="JQuery中ajax分类"></a>JQuery中ajax分类</h2><h3 id="第一层：-ajax-属性名1-值，属性名2-值"><a href="#第一层：-ajax-属性名1-值，属性名2-值" class="headerlink" title="第一层：$.ajax({属性名1:值，属性名2:值})"></a>第一层：$.ajax({属性名1:值，属性名2:值})</h3><blockquote>
<p>本层是jquery中功能最全(代码写起来相对麻烦)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">	$(function()&#123;</span><br><span class="line">		$(&quot;a&quot;).click(function()&#123;</span><br><span class="line">			$.ajax(&#123;</span><br><span class="line">				url:&#39;demo&#39;,</span><br><span class="line">				data:&#123;&quot;name&quot;:&quot;zhangsan&quot;&#125;,</span><br><span class="line">				dataType:&#39;html&#39;,</span><br><span class="line">				error:function()&#123;</span><br><span class="line">					alert(&quot;请求出错.&quot;)</span><br><span class="line">				&#125;,</span><br><span class="line">				success:function(data)&#123;</span><br><span class="line">					alert(&quot;请求成功&quot;+data)</span><br><span class="line">				&#125;,</span><br><span class="line">				type:&#39;POST&#39;</span><br><span class="line">			&#125;);</span><br><span class="line">			return false;</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>其中属性：</strong></p>
<pre><code>1. url：请求服务器地址
2. data：请求参数
3. dataType：服务器返回数据类型
4. error：请求出错执行的功能
5. success:请求成功执行的功能(function(data)：data是服务器返回的数据)</code></pre><h3 id="第二层-简化-ajax"><a href="#第二层-简化-ajax" class="headerlink" title="第二层(简化$.ajax)"></a>第二层(简化$.ajax)</h3><pre><code>1. $.get(url,data,success,dataType)
2. $.post(url,data,success,dataType)   --常用 但是没有出错提示!!</code></pre><h3 id="第三层-简化-get"><a href="#第三层-简化-get" class="headerlink" title="第三层(简化$.get())"></a>第三层(简化$.get())</h3><pre><code>1. $.getJSON(url,data,success)  相当于设置dataType=&quot;json&quot;
2. $.getScript(url,data,success)  相当于设置dataType=&quot;script&quot;</code></pre><hr>
<h1 id="json概述"><a href="#json概述" class="headerlink" title="json概述"></a>json概述</h1><blockquote>
<p>服务器返回数据是从表取出，为了方便服务器操作返回的数据，服务器返回的数据设置为json</p>
</blockquote>
<p><strong>json数据类型：</strong></p>
<pre><code>1. JsonObject -- json对象
    {&quot;key&quot;:value,&quot;key&quot;:value}

2. JsonArray -- json数组
    [{&quot;key&quot;:value,&quot;key&quot;:value},{}] </code></pre><h1 id="json案例"><a href="#json案例" class="headerlink" title="json案例"></a>json案例</h1><h2 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h2><p><img src="/2020/04/06/Ajax%E6%95%B4%E7%90%86/jar.png" alt></p>
<h2 id="生成Users实体类"><a href="#生成Users实体类" class="headerlink" title="生成Users实体类"></a>生成Users实体类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Users &#123;</span><br><span class="line">	private int id;</span><br><span class="line">	private String username;</span><br><span class="line">	private String password;</span><br><span class="line">	public int getId() &#123;</span><br><span class="line">		return id;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setId(int id) &#123;</span><br><span class="line">		this.id &#x3D; id;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getUsername() &#123;</span><br><span class="line">		return username;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setUsername(String username) &#123;</span><br><span class="line">		this.username &#x3D; username;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getPassword() &#123;</span><br><span class="line">		return password;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setPassword(String password) &#123;</span><br><span class="line">		this.password &#x3D; password;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="生成DemoServlet类"><a href="#生成DemoServlet类" class="headerlink" title="生成DemoServlet类"></a>生成DemoServlet类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">@WebServlet(&quot;&#x2F;demo&quot;)</span><br><span class="line">public class DemoServlet extends HttpServlet&#123;</span><br><span class="line">	</span><br><span class="line">	@Override</span><br><span class="line">	protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">		System.out.println(&quot;执行控制器&quot;);	</span><br><span class="line">		String name&#x3D;req.getParameter(&quot;name&quot;); &#x2F;&#x2F; 从index页面获取name</span><br><span class="line">		</span><br><span class="line">		Users users&#x3D;new Users();</span><br><span class="line">		users.setId(1);</span><br><span class="line">		users.setPassword(&quot;123&quot;);</span><br><span class="line">		users.setUsername(&quot;张三&quot;);  &#x2F;&#x2F; 添加users的信息( 1 123 张三 )</span><br><span class="line">		</span><br><span class="line">		Users users1&#x3D;new Users();</span><br><span class="line">		users1.setId(2);</span><br><span class="line">		users1.setPassword(&quot;22&quot;);</span><br><span class="line">		users1.setUsername(&quot;李四&quot;);  &#x2F;&#x2F; 添加users1的信息( 2 22 李四 )</span><br><span class="line">		</span><br><span class="line">		List&lt;Users&gt; list&#x3D;new ArrayList&lt;Users&gt;();  &#x2F;&#x2F;list集合将users和users1加进去</span><br><span class="line">		list.add(users1);</span><br><span class="line">		list.add(users);</span><br><span class="line">		</span><br><span class="line">		ObjectMapper mapper &#x3D; new ObjectMapper();</span><br><span class="line">		String result &#x3D; mapper.writeValueAsString(list);  &#x2F;&#x2F;通过ObjectMapper对象方法把list添加进去</span><br><span class="line">		</span><br><span class="line">		resp.setContentType(&quot;application&#x2F;json;charset&#x3D;utf-8&quot;);  &#x2F;&#x2F;设置返回文件类型 json</span><br><span class="line">		PrintWriter out&#x3D;resp.getWriter();</span><br><span class="line">		out.print(result);   &#x2F;&#x2F; 打印result</span><br><span class="line">		out.flush();</span><br><span class="line">		out.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="生成-index-jsp页面"><a href="#生成-index-jsp页面" class="headerlink" title="生成 index.jsp页面"></a>生成 index.jsp页面</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language&#x3D;&quot;java&quot; contentType&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;</span><br><span class="line">    pageEncoding&#x3D;&quot;UTF-8&quot;%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01 Transitional&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;  </span><br><span class="line">&lt;title&gt;Insert title here&lt;&#x2F;title&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;js&#x2F;jquery-1.7.2.js&quot;&gt;&lt;&#x2F;script&gt;  &#x2F;&#x2F;jQuery必备的</span><br><span class="line"></span><br><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">	$(function()&#123;</span><br><span class="line">		$(&quot;a&quot;).click(function()&#123;</span><br><span class="line">		 </span><br><span class="line">	&#x2F;&#x2F;第二种方式：	 </span><br><span class="line">		 $.post(&quot;demo&quot;,&#123;&quot;name&quot;:&quot;zhangsan&quot;&#125;,function(data)&#123;</span><br><span class="line">			 &#x2F;&#x2F;定义空字符串 存结果</span><br><span class="line">			 var result&#x3D;&quot;&quot;;</span><br><span class="line">			 for(var i&#x3D;0;i&lt;data.length;i++)  &#x2F;&#x2F;因为是两个对象 list集合要循环输出</span><br><span class="line">			&#123;</span><br><span class="line">				 result+&#x3D;&quot;&lt;tr&gt;&quot;;</span><br><span class="line">				 result+&#x3D;&quot;&lt;td&gt;&quot;+data[i].id+&quot;&lt;&#x2F;td&gt;&quot;</span><br><span class="line">				 result+&#x3D;&quot;&lt;td&gt;&quot;+data[i].username+&quot;&lt;&#x2F;td&gt;&quot;</span><br><span class="line">				 result+&#x3D;&quot;&lt;td&gt;&quot;+data[i].password+&quot;&lt;&#x2F;td&gt;&quot;</span><br><span class="line">				 result+&#x3D;&quot;&lt;&#x2F;tr&gt;&quot;;</span><br><span class="line">				&#x2F;&#x2F; alert(data.id+&quot; &quot;+data.username+&quot; &quot;+data.password);  弹出结果	 </span><br><span class="line">		 	&#125;</span><br><span class="line"></span><br><span class="line">			 &#x2F;&#x2F;第一种：</span><br><span class="line">				&#x2F;&#x2F; $(&quot;table&quot;).append(result);  一次次加			 </span><br><span class="line">			 &#x2F;&#x2F;第二种：</span><br><span class="line">			 $(&quot;#mytbody&quot;).html(result);  &#x2F;&#x2F;使用分组标签 放入东西</span><br><span class="line">			 </span><br><span class="line">		 &#125;)</span><br><span class="line">		 </span><br><span class="line">			return false;</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;a href&#x3D;&quot;demo&quot;&gt;跳转&lt;&#x2F;a&gt;</span><br><span class="line">&lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">	&lt;tr&gt;</span><br><span class="line">		&lt;td&gt;编号&lt;&#x2F;td&gt;</span><br><span class="line">		&lt;td&gt;姓名&lt;&#x2F;td&gt;</span><br><span class="line">		&lt;td&gt;密码&lt;&#x2F;td&gt;</span><br><span class="line">	&lt;&#x2F;tr&gt;</span><br><span class="line">	&lt;tbody id&#x3D;&quot;mytbody&quot;&gt;&lt;&#x2F;tbody&gt;  &#x2F;&#x2F;使用分组标签 存放结果!!!</span><br><span class="line">&lt;&#x2F;table&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ajax/" rel="tag">Ajax</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring常用注解整理" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/06/Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%95%B4%E7%90%86/" class="article-date">
      <time datetime="2020-04-06T15:36:00.000Z" itemprop="datePublished">2020-04-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/06/Spring%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%E6%95%B4%E7%90%86/">Spring常用注解整理</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Spring常用注解"><a href="#Spring常用注解" class="headerlink" title="Spring常用注解"></a>Spring常用注解</h1><h2 id="创建类对象"><a href="#创建类对象" class="headerlink" title="创建类对象"></a>创建类对象</h2><pre><code>1. @Component 创建类对象 (相当于配置文件中的&lt;bean&gt;标签)

2. @Service(Component功能相同)
    2.1 写在ServiceImpl类

3. @Repository(Component功能相同) 
    3.1 写在数据访问层 

4. @Controller(Component功能相同) 
    4.1 写在控制器类</code></pre><h2 id="不需要写对象的get-set"><a href="#不需要写对象的get-set" class="headerlink" title="不需要写对象的get/set"></a>不需要写对象的get/set</h2><pre><code>1. @Resource(java的注解)
    1.1 按照byName注入(默认) 按照byType注入(没有名称对象) 
    1.2 一般将对象名称和spring容器中对象名相同

2. @Autowired(spring的注解)
    1.1 按照byType注入(默认)</code></pre><h2 id="AOP-面向切面编程"><a href="#AOP-面向切面编程" class="headerlink" title="AOP(面向切面编程)"></a>AOP(面向切面编程)</h2><pre><code>1. @Pointcut() 定义切点
2. @Aspect() 定义切面类
3. @Before() 前置通知
4. @After() 后置通知 (切点正不正确都可以)
5. @AfterReturing() 后置通知 (必须切点正确才执行)
6. @AfterThrowing 异常通知
7. @Arround() 环绕通知</code></pre><h2 id="关于读取配置文件内容"><a href="#关于读取配置文件内容" class="headerlink" title="关于读取配置文件内容"></a>关于读取配置文件内容</h2><pre><code>1. @Value() 获取xxx.properties文件内容</code></pre><hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring事务" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/04/Spring%E4%BA%8B%E5%8A%A1/" class="article-date">
      <time datetime="2020-04-04T15:37:26.000Z" itemprop="datePublished">2020-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/04/Spring%E4%BA%8B%E5%8A%A1/">Spring事务</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="编程式事务-程序员编写"><a href="#编程式事务-程序员编写" class="headerlink" title="编程式事务(程序员编写)"></a>编程式事务(程序员编写)</h1><blockquote>
<p>程序员编程 事务控制代码</p>
</blockquote>
<ul>
<li><strong>OpenSessionInView 编程式事务</strong></li>
</ul>
<hr>
<h1 id="声明式事务-Spring编写好-程序员声明"><a href="#声明式事务-Spring编写好-程序员声明" class="headerlink" title="声明式事务(Spring编写好 程序员声明)"></a>声明式事务(Spring编写好 程序员声明)</h1><blockquote>
<p>Spring写好 事务控制代码<br>程序员只需要声明哪些方法需要进行事务控制和如何进行事务控制</p>
</blockquote>
<h2 id="针对ServiceImpl类下的方法"><a href="#针对ServiceImpl类下的方法" class="headerlink" title="针对ServiceImpl类下的方法"></a>针对ServiceImpl类下的方法</h2><blockquote>
<p><strong>事务管理器基于通知(advice) – 切点(AOP)</strong></p>
</blockquote>
<h2 id="在spring配置文件中配置声明式事务"><a href="#在spring配置文件中配置声明式事务" class="headerlink" title="在spring配置文件中配置声明式事务"></a>在spring配置文件中配置声明式事务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 导入xmlns：tx 和location地址</span><br><span class="line">2. 书写tx：advice --&gt; 基于通知所以导入spring-jdbc.jar中的类</span><br><span class="line">3. 然后需要配置数据源 --&gt; 导入整合mybatis的三步骤</span><br><span class="line">4. 三步骤中数据源要导入db.properties文件 --&gt; 添加context:property-placeholder --&gt; 利用$&#123;key&#125;方式导入</span><br><span class="line">5. 因为基于通知 所以还需要切点和通知的aop:config标签 --&gt;</span><br></pre></td></tr></table></figure>
<h2 id="分析-代码流向"><a href="#分析-代码流向" class="headerlink" title="分析(代码流向)"></a>分析(代码流向)</h2><p><img src="/2020/04/04/Spring%E4%BA%8B%E5%8A%A1/fenxi.png" alt></p>
<h2 id="最终代码"><a href="#最终代码" class="headerlink" title="最终代码"></a>最终代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">    xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">    xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;</span><br><span class="line"> </span><br><span class="line"> 	&lt;!-- spring-jdbc.jar中  --&gt;</span><br><span class="line"> 		&lt;bean id&#x3D;&quot;txManager&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="line"> 			&lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line"> 		&lt;&#x2F;bean&gt;</span><br><span class="line"> </span><br><span class="line">  &lt;context:property-placeholder location&#x3D;&quot;classpath:db.properties,classpath:second.properties&quot;&#x2F;&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!-- 数据源 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;!-- SqlSessinFactory对象 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;factory&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;typeAliasesPackage&quot; value&#x3D;&quot;com.bjsxt.pojo&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;!-- 扫描器 --&gt;</span><br><span class="line">    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.bjsxt.mapper&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;sqlSessionFactoryBeanName&quot; value&#x3D;&quot;factory&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">  </span><br><span class="line"> 	&lt;!-- 配置声明式事务 --&gt;</span><br><span class="line"> 		&lt;tx:advice id&#x3D;&quot;txAdvice&quot; transaction-manager&#x3D;&quot;txManager&quot;&gt;</span><br><span class="line"> 			&lt;tx:attributes&gt;</span><br><span class="line"> 				&lt;tx:method name&#x3D;&quot;insert&quot;&#x2F;&gt;  &lt;!-- 可以用通配符 --&gt;</span><br><span class="line"> 			&lt;&#x2F;tx:attributes&gt;</span><br><span class="line"> 		&lt;&#x2F;tx:advice&gt;</span><br><span class="line"> </span><br><span class="line">   		&lt;aop:config&gt;</span><br><span class="line">   			&lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.service.impl.*.*(..))&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;</span><br><span class="line">   			&lt;aop:advisor advice-ref&#x3D;&quot;txAdvice&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;</span><br><span class="line">   		&lt;&#x2F;aop:config&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="声明式事务-tx-method-属性解释"><a href="#声明式事务-tx-method-属性解释" class="headerlink" title="声明式事务(tx:method)属性解释"></a>声明式事务(tx:method)属性解释</h1><blockquote>
<p><strong>声明式事务例子:</strong> </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 配置声明式事务 --&gt;</span><br><span class="line"> 		&lt;tx:advice id&#x3D;&quot;txAdvice&quot; transaction-manager&#x3D;&quot;txManager&quot;&gt;</span><br><span class="line"> 			&lt;tx:attributes&gt;</span><br><span class="line"> 				&lt;tx:method name&#x3D;&quot;insert&quot;&#x2F;&gt;  &lt;!-- 可以用通配符 --&gt;</span><br><span class="line">				&lt;tx:method name&#x3D;&quot;ins*&quot;&#x2F;&gt;</span><br><span class="line">				&lt;tx:method name&#x3D;&quot;saf&quot;&#x2F;&gt;</span><br><span class="line">				&lt;tx:method name&#x3D;&quot;adad*&quot;&#x2F;&gt;</span><br><span class="line"> 			&lt;&#x2F;tx:attributes&gt;</span><br><span class="line"> 		&lt;&#x2F;tx:advice&gt;</span><br></pre></td></tr></table></figure>

<h2 id="name-和-read-only"><a href="#name-和-read-only" class="headerlink" title="name 和 read-only"></a>name 和 read-only</h2><pre><code>1. name=&quot;&quot;   哪些方法需要被事务控制 (支持 * 通配符)

2. read-only=&quot;true/false&quot;  是否是只读事务
    2.1 true : 告诉数据库此事务是只读事务 数据化优化，会对性能有一定提升(查询)
    2.2 false(默认) : 告诉数据库此事务是需要提交的事务 (新增/删除/修改)</code></pre><h2 id="propagation-控制事务传播行为"><a href="#propagation-控制事务传播行为" class="headerlink" title="propagation 控制事务传播行为"></a>propagation 控制事务传播行为</h2><blockquote>
<p>当一个具有事务控制的方法被另外一个有事务控制的方法调用后，需要如何管理事务？</p>
</blockquote>
<pre><code>1. REQUIRED(默认) : 
    1.1 有事务 --&gt; 在此事务中执行
    1.2 无事务 --&gt; 新建事务

2. SUPPORTS(随遇而安 有就有 没有就没有) : 
    2.1 有事务 --&gt; 在此事务中执行
    2.2 无事务 --&gt; 非事务状态下执行

3. MANDATORY(必须在事务内执行) :
    3.1 有事务 --&gt; 在此事务中执行
    3.2 无事务 --&gt; 报错

4. REQUIRES_NEW(必须在事务内执行) ：
    4.1 有事务 --&gt; 挂起
    4.2 无事务 --&gt; 新建事务

5. NOT_SUPPORTED(必须在非事务执行) ：
    5.1 有事务 --&gt; 挂起
    5.2 无事务 --&gt; 正常执行

6. NEVER(必须在非事务执行) ：
    6.1 有事务 --&gt; 报错
    6.2 无事务 --&gt; 正常执行

7. NESTED(必须在事务内执行) :
    7.1 有事务 --&gt; 创建一个嵌套事务
    7.2 无事务 --&gt; 新建事务</code></pre><h2 id="isolation-事务隔离级别"><a href="#isolation-事务隔离级别" class="headerlink" title="isolation 事务隔离级别"></a>isolation 事务隔离级别</h2><blockquote>
<p><strong>多线程/并发访问</strong>保证数据具有完整性</p>
</blockquote>
<ul>
<li><p><strong>脏读(两个事务)</strong></p>
<pre><code>事务A读取到事务B中未提交的数据 --&gt; B可能数据改变 --&gt; A读的数据可能和数据库中的不一致 </code></pre></li>
<li><p><strong>不可重复读(同一事务)</strong></p>
<pre><code>1. 主要针对某行数据数据 (行中某列)
2. 主要针对 修改 操作
3. 事务A读取事务 --&gt; 事务B对事务A读取的数据修改 --&gt; A再次读取和之前的不一致 </code></pre></li>
</ul>
<ul>
<li><p><strong>幻读(两个事务)</strong></p>
<pre><code>1. 主要针对 新增/删除 操作
2. 事务A按照特定条件查询结果 --&gt; 事务B新增了数据(符合A查询条件) --&gt; A查询的数据和数据库的数据不一致</code></pre></li>
</ul>
<pre><code>1. DEFAULT(默认) ： 底层数据库自动判断用什么隔离界别

2. READ_UNCOMMITTED(效率最高) : 可以读取未提交的数据 ( 可能出现 脏读 / 不可重复读 / 幻读 ) 

3. READ_COMMITTED(避免脏读) : 只能读取其他事务已经提交的数据 (可能出现 不可重复读 / 幻读)    

4. REPEATABLE_READ(避免脏读和不可重复读) ： 读的数据被添加锁(一行) (可能出现 幻读)

5. SERIALIZABLE(最安全和效率最低) ： 整个表添加锁(排队操作) </code></pre><h2 id="rollback-for-事务回滚"><a href="#rollback-for-事务回滚" class="headerlink" title="rollback-for 事务回滚"></a>rollback-for 事务回滚</h2><pre><code>1. rollback-for=&quot;异常类型全限定路径&quot;  出现什么异常时候需要进行回滚

    给定该属性值 (手动抛异常一定要给该属性值!!!)

2. no-rollback-for=&quot; &quot;  当出现什么异常时不滚回事务</code></pre><hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring单例设计模式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/04/Spring%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="article-date">
      <time datetime="2020-04-04T15:36:53.000Z" itemprop="datePublished">2020-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/04/Spring%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">Spring单例设计模式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h1><blockquote>
<p><strong>在应用程序中有保证最多只有一个实例</strong></p>
</blockquote>
<p><strong>单例设计模式好处：</strong><br>    1. 提升运行效率<br>    2. 实现数据共享 ( application对象 )</p>
<p><strong>单例设计模式分类</strong><br>    1. 懒汉式<br>    2. 饿汉式</p>
<hr>
<h1 id="懒汉式"><a href="#懒汉式" class="headerlink" title="懒汉式"></a>懒汉式</h1><h2 id="创建SingleTon类"><a href="#创建SingleTon类" class="headerlink" title="创建SingleTon类"></a>创建SingleTon类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class SingleTon &#123;</span><br><span class="line"></span><br><span class="line">	private static SingleTon singleton;  &#x2F;&#x2F; 由于对象需要被静态方法调用 所以方法也要是static  也要讲改为private (public 就直接调用对象)</span><br><span class="line">	</span><br><span class="line">  &#x2F;&#x2F; 构造方法 (其他类不能实例化这个类对象  对外提供访问入口)</span><br><span class="line">	private SingleTon() &#123;&#125;</span><br><span class="line">	</span><br><span class="line">  &#x2F;&#x2F; 实例方法 (必须通过对象调用  )</span><br><span class="line">	public static SingleTon getInstance() &#123;</span><br><span class="line">		if(singleton&#x3D;&#x3D;null)</span><br><span class="line">		&#123;</span><br><span class="line">			&#x2F;&#x2F; 多线程访问下 可能if同时成立 -- 添加锁</span><br><span class="line">			synchronized(SingleTon.class) &#123;</span><br><span class="line">				if(singleton&#x3D;&#x3D;null)  &#x2F;&#x2F; 双重检验</span><br><span class="line">				&#123;</span><br><span class="line">					singleton&#x3D;new SingleTon();   &#x2F;&#x2F;创建实例化</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			return new SingleTon();  &#x2F;&#x2F; 实例化</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="创建test类"><a href="#创建test类" class="headerlink" title="创建test类"></a>创建test类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">	&#x2F;&#x2F;类加载时就进行实例化!!!</span><br><span class="line">		 SingleTon singleton&#x3D;SingleTon.getInstance();   &#x2F;&#x2F;不能直接new SingTon()  --  调用静态方法</span><br><span class="line">		 SingleTon singleton1&#x3D;SingleTon.getInstance();</span><br><span class="line">		 System.out.println(singleton&#x3D;&#x3D;singleton1);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="饿汉式"><a href="#饿汉式" class="headerlink" title="饿汉式"></a>饿汉式</h1><blockquote>
<p>懒汉式加了锁(效率降低) – 解决懒汉式中可能同时访问一个对象的问题</p>
</blockquote>
<h2 id="只需要更改SingleTon类"><a href="#只需要更改SingleTon类" class="headerlink" title="只需要更改SingleTon类"></a>只需要更改SingleTon类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class SingleTon &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;在类加载时就实例化</span><br><span class="line">	private static SingleTon singleton&#x3D;new SingleTon();   &#x2F;&#x2F;对比懒汉式 将实例方法内容删除 直接new一个对象</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;构造方法</span><br><span class="line">	private SingleTon() &#123;&#125;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F;实例方法</span><br><span class="line">	public static SingleTon getInstance() &#123;</span><br><span class="line">			return new SingleTon();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><pre><code>1. private static SingleTon singleton=new SingleTon();  直接new一个对象
2. 实例方法内容全部删除(不用管锁的事情)</code></pre><hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring加载属性文件和scope属性" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/04/Spring%E5%8A%A0%E8%BD%BD%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6%E5%92%8Cscope%E5%B1%9E%E6%80%A7/" class="article-date">
      <time datetime="2020-04-04T13:20:40.000Z" itemprop="datePublished">2020-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/04/Spring%E5%8A%A0%E8%BD%BD%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6%E5%92%8Cscope%E5%B1%9E%E6%80%A7/">Spring加载属性文件和scope属性</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="加载properties文件"><a href="#加载properties文件" class="headerlink" title="加载properties文件"></a>加载properties文件</h1><h2 id="src下新建xxx-properties文件"><a href="#src下新建xxx-properties文件" class="headerlink" title="src下新建xxx.properties文件"></a>src下新建xxx.properties文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driver&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;ssm</span><br><span class="line">jdbc.password&#x3D;njdxrjgc7777777.</span><br><span class="line">jdbc.username&#x3D;root</span><br></pre></td></tr></table></figure>

<h2 id="在spring配置文件中引入xmlns-context"><a href="#在spring配置文件中引入xmlns-context" class="headerlink" title="在spring配置文件中引入xmlns:context"></a>在spring配置文件中引入xmlns:context</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;  &#x2F;&#x2F;上面加的是xmlns</span><br><span class="line"></span><br><span class="line">   http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context</span><br><span class="line">   http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd  &#x2F;&#x2F;加到location里面</span><br></pre></td></tr></table></figure>

<h2 id="使用context-property-placeholder标签"><a href="#使用context-property-placeholder标签" class="headerlink" title="使用context:property-placeholder标签"></a>使用context:property-placeholder标签</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;context:property-placeholder location&#x3D;&quot;classpath:db.properties,classpath:xx.properties&quot;&#x2F;&gt;   &#x2F;&#x2F; 多个就用逗号隔开</span><br></pre></td></tr></table></figure>

<h2 id="之前配置jdbc用-更改"><a href="#之前配置jdbc用-更改" class="headerlink" title="之前配置jdbc用${}更改"></a>之前配置jdbc用${}更改</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- 数据源 --&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">	&lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;  &#x2F;&#x2F;将原来的直接改成 $&#123;&#125; 形式 </span><br><span class="line">	&lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">	&lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">	&lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="配置文件完整代码"><a href="#配置文件完整代码" class="headerlink" title="配置文件完整代码"></a>配置文件完整代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">    xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd&quot;&gt;</span><br><span class="line">  </span><br><span class="line">	&lt;context:property-placeholder location&#x3D;&quot;classpath:db.properties,classpath:xx.properties&quot;&#x2F;&gt;</span><br><span class="line">	</span><br><span class="line">	    &lt;!-- 数据源 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;$&#123;jdbc.driver&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">	</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="从spring容器中取出属性文件值"><a href="#从spring容器中取出属性文件值" class="headerlink" title="从spring容器中取出属性文件值"></a>从spring容器中取出属性文件值</h1><h2 id="修改注解扫描-注解要扫描"><a href="#修改注解扫描-注解要扫描" class="headerlink" title="修改注解扫描(注解要扫描)"></a>修改注解扫描(注解要扫描)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> &#x2F;&#x2F;具体写哪些类用了注解 (多个就用逗号隔开)</span><br><span class="line">&lt;context:component-scan base-package&#x3D;&quot;com.bjsxt.advice,com.bjsxt.test&quot;&gt;</span><br><span class="line">&lt;&#x2F;context:component-scan&gt;</span><br></pre></td></tr></table></figure>

<h2 id="类中加载注解-value-“-key-”"><a href="#类中加载注解-value-“-key-”" class="headerlink" title="类中加载注解 @value(“${key}”)"></a>类中加载注解 @value(“${key}”)</h2><blockquote>
<p>key和变量名可以不相同<br>变量类型任意 (key对应的value可以转换成这个类型就行)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@value(&quot;$&#123;jdbc.uri&#125;&quot;)  &#x2F;&#x2F;取出jdbc.uri的值</span><br><span class="line">	private String test;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="scope属性-bean标签属性"><a href="#scope属性-bean标签属性" class="headerlink" title="scope属性(bean标签属性)"></a>scope属性(bean标签属性)</h1><blockquote>
<p><strong>控制对象有效范围(单例 多例等)</strong></p>
</blockquote>
<h2 id="bean标签"><a href="#bean标签" class="headerlink" title="bean标签"></a>bean标签</h2><blockquote>
<p>对应的对象默认是单例(无论获取多少次都是同一对象)</p>
</blockquote>
<h2 id="scope属性取值"><a href="#scope属性取值" class="headerlink" title="scope属性取值"></a>scope属性取值</h2><pre><code>1. singleton(默认) : 单例
2. prototype :多例
3. request : 每次请求都重新实例化
4. session : 每个会话对象内，对象都是单例
5. application : 在application对象内是单例
6. global session spring ： 退出的一个对象 依赖于spring-webmvc-protlet 类似于session</code></pre><hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring自动注入" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/03/Spring%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5/" class="article-date">
      <time datetime="2020-04-03T09:51:02.000Z" itemprop="datePublished">2020-04-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/03/Spring%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5/">Spring自动注入</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="自动注入"><a href="#自动注入" class="headerlink" title="自动注入"></a>自动注入</h1><blockquote>
<p>(spring配置文件中对象名) == (ref=”id”中id名字) 就可以使用自动注解(不需要配置property)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;有两个类People和Teacher (People里面有Teacher的对象)</span><br><span class="line">&lt;bean id&#x3D;&quot;teacher&quot; class&#x3D;&quot;com.bjsxt.test.Teacher&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;bean id&#x3D;&quot;people&quot; class&#x3D;&quot;com.bjsxt.test.People&quot; autowire&#x3D;&quot;byName&quot;&gt;</span><br><span class="line">	&lt;!-- &lt;property name&#x3D;&quot;teacher&quot; ref&#x3D;&quot;teacher&quot;&gt;&lt;&#x2F;property&gt;	--&gt;  &#x2F;&#x2F;以前都需要配置property</span><br><span class="line"> &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><pre><code>1. 在&lt;bean&gt;标签中通过 autowire=&quot;&quot;配置 (只在本bean有效)
2. 在最大的&lt;beans&gt;标签中通过 default-autowire=&quot;&quot;配置 (所有bean有效)</code></pre><h2 id="五大取值"><a href="#五大取值" class="headerlink" title="五大取值"></a>五大取值</h2><pre><code>1. default(默认)： 根据全局default-autowire=&quot;&quot;值 (默认全局和局部的在没有配置的时候都相当于no)
2. no： 不自动注入
3. byName： 通过名称自动注入 在Spring容器中找类的id
4. byType : 通过类型注入 
    4.1 不能有两个相同类型的bean!!!!!!
5. constructor : 根据构造方法注入
    5.1 提供对应参数的构造方法
    5.2 底层还是byName  构造方法参数名和其他bean的id相同</code></pre><hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring代理设计模式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/03/Spring%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="article-date">
      <time datetime="2020-04-03T09:01:01.000Z" itemprop="datePublished">2020-04-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/03/Spring%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">Spring代理设计模式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="代理设计模式"><a href="#代理设计模式" class="headerlink" title="代理设计模式"></a>代理设计模式</h1><blockquote>
<p><strong>代理设计模式优点</strong><br>    1. 保护真实对象(不见到源码)<br>    2. 职责加强 (增强功能)<br>    3. 扩展 (接口扩展)</p>
</blockquote>
<blockquote>
<p><strong>代理设计模式</strong><br>    1. 真实对象 (老总)<br>    2. 代理对象 (秘书)<br>    3. 抽象对象(抽象功能)    </p>
</blockquote>
<hr>
<h1 id="静态代理设计模式"><a href="#静态代理设计模式" class="headerlink" title="静态代理设计模式"></a>静态代理设计模式</h1><blockquote>
<p>由代理对象代理所有真实对象的功能</p>
</blockquote>
<pre><code>1. 自己编写代理类(特点)
2. 每个代理的功能需要单独编写</code></pre><hr>
<h1 id="动态代理设计模式"><a href="#动态代理设计模式" class="headerlink" title="动态代理设计模式"></a>动态代理设计模式</h1><blockquote>
<p>为了解决静态代理模式的缺点</p>
</blockquote>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><pre><code>1. JDK 动态代理    不需额外jar(JDK自带)
2. cglib 动态代理  需额外jar</code></pre><hr>
<h1 id="JDK和cglib对比"><a href="#JDK和cglib对比" class="headerlink" title="JDK和cglib对比"></a>JDK和cglib对比</h1><h2 id="JDK动态代理-false"><a href="#JDK动态代理-false" class="headerlink" title="JDK动态代理(false)"></a>JDK动态代理(false)</h2><pre><code>优点：
       jdk自带 不需要导入额外jar

缺点：
       1. 真实对象必须实现接口
       2. 利用反射机制(效率不高)

异常：
       希望把接口对象 --&gt; 具体真实对象</code></pre><h2 id="cglib动态代理-true"><a href="#cglib动态代理-true" class="headerlink" title="cglib动态代理(true)"></a>cglib动态代理(true)</h2><pre><code>优点：
       1. 基于字节码 生成真实对象的子类
       2. 运行效率高
       3. 不需要实现接口    

缺点：
       1. 需要导入额外jar

异常：
       使用spring aop时，只要出现Proxy和真实对象转换异常

异常解决：
        proxy-target-class更改 true(cglib动态代理) / false(JDK动态代理)</code></pre><h2 id="配置文件aop标签-配合注解"><a href="#配置文件aop标签-配合注解" class="headerlink" title="配置文件aop标签(配合注解)"></a>配置文件aop标签(配合注解)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;aop:aspectj-autoproxy proxy-target-class&#x3D;&quot;true&quot;&gt;  &#x2F;&#x2F;注解一定要打开true  用更高效的cglib</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;aop:aspectj-autoproxy&gt;</span><br></pre></td></tr></table></figure>

<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-AOP" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/02/AOP/" class="article-date">
      <time datetime="2020-04-01T16:04:13.000Z" itemprop="datePublished">2020-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/02/AOP/">AOP</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="AOP-面向切面编程"><a href="#AOP-面向切面编程" class="headerlink" title="AOP 面向切面编程"></a>AOP 面向切面编程</h1><blockquote>
<p>在原有纵向执行流程中添加横切面(不需要修改原有代码)</p>
</blockquote>
<p><strong>面向切面编程 特性：</strong><br>    1. 高扩展性<br>    2. 原有代码释放了部分逻辑(横切面会分担一些功能)</p>
<p><strong>面向切面编程：</strong></p>
<pre><code>在程序原有纵向执行流程中，针对某一个/某一些方法添加通知，形成横切面过程 -- 面向切面编程</code></pre><p><strong>面向切面编程概念图：</strong></p>
<p><img src="/2020/04/02/AOP/gainian.png" alt></p>
<pre><code>1. 原有功能： 切点(pointcut)
2. 前置通知： 切点之前执行的功能 (before advice)
3. 后置通知： 切点之后执行的功能 (after advice)
4. 异常通知： 切点执行过程中出现异常 (throws advice)
5. 切面： 所有功能总称
6. 织入： 将切面嵌入到原有功能的过程</code></pre><h2 id="两种AOP实现方式"><a href="#两种AOP实现方式" class="headerlink" title="两种AOP实现方式"></a>两种AOP实现方式</h2><pre><code>1. Schema-based  
    1. 每个通知都需要实现接口/类
    2. 配置spring配置文件在&lt;aop:config&gt;配置

2. AspectJ  
    1. 每个通知不需要实现接口/类
    2. 配置spring配置文件在&lt;aop:config&gt;的子标签&lt;aop:aspect&gt;中配置</code></pre><hr>
<h1 id="使用Schema-based方式"><a href="#使用Schema-based方式" class="headerlink" title="使用Schema-based方式"></a>使用Schema-based方式</h1><h2 id="总体实现步骤"><a href="#总体实现步骤" class="headerlink" title="总体实现步骤"></a>总体实现步骤</h2><pre><code>1.导入jar包
2.编写demo类(具有几个方法)
3.编写配置文件
    3.1 导入aop的xmls和location
    3.2 编写aop的相关信息(切点 前置和后置通知类的连接)
    3.3 前置通知类/后置通知类/demo类的bean方法
4.编写前置通知类(实现MethodBeforeAdvice接口)
5.编写后置通知类(实现AfterReturningAdvic接口)
6.编写测试类(IOC 控制反转)</code></pre><h2 id="具体实现代码"><a href="#具体实现代码" class="headerlink" title="具体实现代码"></a>具体实现代码</h2><p><strong>1.导入jar包</strong></p>
<p><img src="/2020/04/02/AOP/ajr.png" alt></p>
<p><strong>2.Demo类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Demo &#123;</span><br><span class="line"></span><br><span class="line">	public void demo1()&#123;</span><br><span class="line">		System.out.println(&quot;demo1&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void demo2()&#123;</span><br><span class="line">		System.out.println(&quot;demo2&quot;);  &#x2F;&#x2F;切点是demo02方法</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void demo3()&#123;</span><br><span class="line">		System.out.println(&quot;demo3&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3.配置文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;             &lt;!-- 导入aop的xmlns --&gt;</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop                       &lt;!-- 导入aop的地址 --&gt;</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;bean id&#x3D;&quot;mybefore&quot; class&#x3D;&quot;com.bjsxt.advice.MyBeforeAdvice&quot;&gt;&lt;&#x2F;bean&gt;  &lt;!-- 前置通知类 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;myafter&quot;  class&#x3D;&quot;com.bjsxt.advice.MyAfterAdvice&quot;&gt;&lt;&#x2F;bean&gt;   &lt;!-- 后置通知类 --&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">    	 &lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.test.Demo.demo02())&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;  &lt;!-- 要给aop的pointcut切点编程  execution(* )的格式 --&gt;</span><br><span class="line">    	 &lt;aop:advisor advice-ref&#x3D;&quot;mybefore&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;   &lt;!-- 将前置通知类加到上面的切点 --&gt;</span><br><span class="line">    	 &lt;aop:advisor advice-ref&#x3D;&quot;myafter&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;    &lt;!-- 将后置通知类加到上面的切点 --&gt;</span><br><span class="line">    &lt;&#x2F;aop:config&gt;   </span><br><span class="line">    </span><br><span class="line">    &lt;bean id&#x3D;&quot;demo&quot; class&#x3D;&quot;com.bjsxt.test.Demo&quot;&gt;&lt;&#x2F;bean&gt; &lt;!-- 找方法的bean  用于test类找 --&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<p><strong>4.前置通知类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyBeforeAdvice implements MethodBeforeAdvice&#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void before(Method arg0, Object[] arg1, Object arg2) throws Throwable &#123;</span><br><span class="line">		System.out.println(&quot;执行前置通知!&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5.后置通知类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class MyAfterAdvice implements AfterReturningAdvice &#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void afterReturning(Object arg0, Method arg1, Object[] arg2, Object arg3) throws Throwable &#123;</span><br><span class="line">		System.out.println(&quot;执行后置通知!&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>6.测试类</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;原来的写法：</span><br><span class="line">		&#x2F;&#x2F;Demo demo&#x3D;new Demo();</span><br><span class="line">		&#x2F;&#x2F;demo.demo1();</span><br><span class="line">		&#x2F;&#x2F;demo.demo2();</span><br><span class="line">		&#x2F;&#x2F;demo.demo3();</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;因为我们是IOC 控制反转  将new和管理对象给了spring </span><br><span class="line">		ApplicationContext ac&#x3D;new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">		Demo demo &#x3D; ac.getBean(&quot;demo&quot;,Demo.class);   &#x2F;&#x2F;通过找配置文件中的bean</span><br><span class="line">			demo.demo1();</span><br><span class="line">			demo.demo2();</span><br><span class="line">			demo.demo3();</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="执行结果"><a href="#执行结果" class="headerlink" title="执行结果"></a>执行结果</h3><p><img src="/2020/04/02/AOP/zongjie.png" alt></p>
<h3 id="前置通知实现的接口方法参数"><a href="#前置通知实现的接口方法参数" class="headerlink" title="前置通知实现的接口方法参数"></a>前置通知实现的接口方法参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class MyBeforeAdvice implements MethodBeforeAdvice&#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void before(Method arg0, Object[] arg1, Object arg2) throws Throwable &#123;</span><br><span class="line">			</span><br><span class="line">		&#x2F;&#x2F;agr0 切点方法对象 Method对象</span><br><span class="line">		&#x2F;&#x2F;agr1 切点方法参数</span><br><span class="line">		&#x2F;&#x2F;agr2 切点在那个对象中</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="后置通知实现的接口方法参数"><a href="#后置通知实现的接口方法参数" class="headerlink" title="后置通知实现的接口方法参数"></a>后置通知实现的接口方法参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class MyAfterAdvice implements AfterReturningAdvice &#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void afterReturning(Object arg0, Method arg1, Object[] arg2, Object arg3) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;agr0 切点方法返回值</span><br><span class="line">		&#x2F;&#x2F;agr1 切点方法对象</span><br><span class="line">		&#x2F;&#x2F;agr2 切点方法参数</span><br><span class="line">		&#x2F;&#x2F;agr3 切点方法所在类的对象</span><br><span class="line"></span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="配置异常通知-AspectJ方式"><a href="#配置异常通知-AspectJ方式" class="headerlink" title="配置异常通知(AspectJ方式)"></a>配置异常通知(AspectJ方式)</h1><blockquote>
<p>只要<strong>切点报异常</strong>才能触发 异常通知(throws advice)<br>不实现接口(方法随便写) 然后配置在aop：aspect标签下面</p>
</blockquote>
<h2 id="准备类和异常通知方法"><a href="#准备类和异常通知方法" class="headerlink" title="准备类和异常通知方法"></a>准备类和异常通知方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class MtThrowAdvice &#123;</span><br><span class="line">	public void myexception(Exception e) &#123;		</span><br><span class="line">		System.out.println(&quot;异常了!!!&quot;+e.getMessage());   &#x2F;&#x2F;自己写的报错的方法  输出错误原因</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="创建Demo类-切点方法"><a href="#创建Demo类-切点方法" class="headerlink" title="创建Demo类(切点方法)"></a>创建Demo类(切点方法)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Demo &#123;</span><br><span class="line"></span><br><span class="line">	public void demo1()&#123;</span><br><span class="line">		    int i&#x3D;5&#x2F;0;                  &#x2F;&#x2F;这里出异常</span><br><span class="line">		System.out.println(&quot;demo1&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="更改配置文件"><a href="#更改配置文件" class="headerlink" title="更改配置文件"></a>更改配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd&quot;&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> 	&lt;bean id&#x3D;&quot;mythrow&quot; class&#x3D;&quot;com.bjsxt.advice.MtThrowAdvice&quot;&gt;&lt;&#x2F;bean&gt;   &#x2F;&#x2F;给写的异常类写bean</span><br><span class="line"> </span><br><span class="line">	&lt;aop:config&gt;</span><br><span class="line">	  &lt;aop:aspect ref&#x3D;&quot;mythrow&quot;&gt;   &#x2F;&#x2F;相比于schema-based方式它可以自动找是前置还是后置通知  我们的aspectJ需要明确ref跳到哪个异常类</span><br><span class="line">	  	&lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.test.Demo.demo01())&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;  &#x2F;&#x2F;这行主要写切点： 是哪个包哪个类的哪个方法 然后给切点一个id</span><br><span class="line">	  	&lt;aop:after-throwing method&#x3D;&quot;myexception&quot; pointcut-ref&#x3D;&quot;mypoint&quot; throwing&#x3D;&quot;e&quot;&#x2F;&gt;  &#x2F;&#x2F;异常通知： 方法是刚才那个类的哪个  然后切点是哪个 扔出来的信息是方法的哪个对象</span><br><span class="line">	  &lt;&#x2F;aop:aspect&gt;</span><br><span class="line">	&lt;&#x2F;aop:config&gt;</span><br><span class="line">	</span><br><span class="line">     	&lt;bean id&#x3D;&quot;demo&quot; class&#x3D;&quot;com.bjsxt.test.Demo&quot;&gt;&lt;&#x2F;bean&gt;  &#x2F;&#x2F;给切点的类写bean</span><br><span class="line">     	</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h2 id="添加测试类"><a href="#添加测试类" class="headerlink" title="添加测试类"></a>添加测试类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;原来的写法：</span><br><span class="line">		&#x2F;&#x2F;Demo demo&#x3D;new Demo();</span><br><span class="line">		&#x2F;&#x2F;demo.demo1();</span><br><span class="line">		&#x2F;&#x2F;demo.demo2();</span><br><span class="line">		&#x2F;&#x2F;demo.demo3();</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;因为我们是IOC 控制反转  将new和管理对象给了spring </span><br><span class="line">		ApplicationContext ac&#x3D;new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">		Demo demo &#x3D; ac.getBean(&quot;demo&quot;,Demo.class);</span><br><span class="line">			demo.demo1();   &#x2F;&#x2F;测试方法</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="异常通知-Schema-based"><a href="#异常通知-Schema-based" class="headerlink" title="异常通知(Schema-based)"></a>异常通知(Schema-based)</h1><blockquote>
<p><strong>实现接口(方法必须叫afterThrowing) 然后配置在aop：config下面</strong></p>
</blockquote>
<h2 id="准备异常类"><a href="#准备异常类" class="headerlink" title="准备异常类"></a>准备异常类</h2><pre><code>1. 必须实现throwsAdvice接口
2. 实现的方法有两种 (1个参数 / 4个参数)
3. 异常类型必须要和切点报错的异常一致(一般就写最大的Exception!!!!)</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  public class MyThrow implements ThrowsAdvice &#123;</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F;第一种	</span><br><span class="line">	public void afterThrowing(Exception ex) throws Throwable&#123;  &#x2F;&#x2F;里面用最大的Exception </span><br><span class="line">		System.out.println(&quot;aaaa&quot;);	</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="准备配置文件-展示细节"><a href="#准备配置文件-展示细节" class="headerlink" title="准备配置文件(展示细节)"></a>准备配置文件(展示细节)</h2><blockquote>
<p><strong>只在aop：config标签里面去写</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;aop:config&gt;</span><br><span class="line"> 	  &lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.test.Demo.demo01())&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;</span><br><span class="line"> 	  &lt;aop:advisor advice-ref&#x3D;&quot;mythrow&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;</span><br><span class="line"> 	&lt;&#x2F;aop:config&gt;</span><br></pre></td></tr></table></figure>

<h2 id="对比两种方法的区别"><a href="#对比两种方法的区别" class="headerlink" title="对比两种方法的区别"></a>对比两种方法的区别</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.AspectJ：</span><br><span class="line">	1.1 不实现接口(显示异常的方法随便取名字)</span><br><span class="line">		1.2 配置文件结构 aop：config -- aop：aspect(ref写跳转的异常类位置) -- aop：pointcut(切点) &#x2F;aop:after-throwing(异常通知)</span><br><span class="line"></span><br><span class="line">2.schema-based：</span><br><span class="line">	2.1 实现throwsAdvice接口(显示异常的方法必须叫afterThrowing)</span><br><span class="line">	2.2 配置文件结构  aop：config -- aop：pointcut(切点) &#x2F; aop :advisor (前置&#x2F;后置&#x2F;异常通知都在这)</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="环绕通知-Schema-based"><a href="#环绕通知-Schema-based" class="headerlink" title="环绕通知(Schema-based)"></a>环绕通知(Schema-based)</h1><blockquote>
<p><strong>前置和后置通知 –&gt; 一个通知(环绕)</strong></p>
</blockquote>
<h2 id="创建类实现MethodInterceptor接口"><a href="#创建类实现MethodInterceptor接口" class="headerlink" title="创建类实现MethodInterceptor接口"></a>创建类实现MethodInterceptor接口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class MyArround implements MethodInterceptor&#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public Object invoke(MethodInvocation arg0) throws Throwable &#123;</span><br><span class="line">		System.out.println(&quot;环绕-前置&quot;);</span><br><span class="line">		Object result &#x3D; arg0.proceed(); &#x2F;&#x2F;放行 调用切点方式</span><br><span class="line">		System.out.println(&quot;环绕-后置&quot;);</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置文件-展示细节"><a href="#配置文件-展示细节" class="headerlink" title="配置文件(展示细节)"></a>配置文件(展示细节)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;myarround&quot; class&#x3D;&quot;com.bjsxt.advice.MyArround&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line">	&lt;aop:config&gt;</span><br><span class="line">		&lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.test.Demo.demo01())&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;  &#x2F;&#x2F;配置切点</span><br><span class="line">		&lt;aop:advisor advice-ref&#x3D;&quot;myarround&quot; pointcut-ref&#x3D;&quot;mypoint&quot; &#x2F;&gt;   &#x2F;&#x2F;配置环绕的信息</span><br><span class="line">	&lt;&#x2F;aop:config&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;bean id&#x3D;&quot;demo&quot; class&#x3D;&quot;com.bjsxt.test.Demo&quot;&gt;&lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="环绕通知-AspectJ"><a href="#环绕通知-AspectJ" class="headerlink" title="环绕通知(AspectJ)"></a>环绕通知(AspectJ)</h1><h2 id="创建MyAdvice类-不实现接口"><a href="#创建MyAdvice类-不实现接口" class="headerlink" title="创建MyAdvice类(不实现接口)"></a>创建MyAdvice类(不实现接口)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class MyAdvice &#123;</span><br><span class="line">	public void mybefore(String name1,int age1) &#123;</span><br><span class="line">		System.out.println(&quot;前置&quot;+name1+&quot;  &quot;+age1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void myafter1() &#123;</span><br><span class="line">		System.out.println(&quot;后置1&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void myafter2() &#123;</span><br><span class="line">		System.out.println(&quot;后置2&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public void mythrow() &#123;</span><br><span class="line">		System.out.println(&quot;异常&quot;);	</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	public Object myarround(ProceedingJoinPoint p) throws Throwable &#123;   &#x2F;&#x2F;环绕的类  ProceedingJoinPoint就是需要的类</span><br><span class="line">		System.out.println(&quot;执行环绕&quot;);</span><br><span class="line">		System.out.println(&quot;环绕-前置&quot;);</span><br><span class="line">		Object result &#x3D; p.proceed();    &#x2F;&#x2F;和另外一种方法一样的执行</span><br><span class="line">		System.out.println(&quot;环绕-后置&quot;);</span><br><span class="line">		return result;</span><br><span class="line">  &#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="创建Demo类-切点方法-1"><a href="#创建Demo类-切点方法-1" class="headerlink" title="创建Demo类(切点方法)"></a>创建Demo类(切点方法)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Demo &#123;</span><br><span class="line"></span><br><span class="line">	public void demo1(String name,int age)&#123;    &#x2F;&#x2F;现在切点传入的是name 和 age (后面会在配置和自己写的方法内的属性不同!!!)</span><br><span class="line">		&#x2F;&#x2F;int i&#x3D;5&#x2F;0;</span><br><span class="line">		System.out.println(&quot;demo1&quot;+name+&quot;  &quot;+age);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id&#x3D;&quot;myarround&quot; class&#x3D;&quot;com.bjsxt.advice.MyArround&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;myadvice&quot; class&#x3D;&quot;com.bjsxt.advice.MyAdvice&quot;&gt;&lt;&#x2F;bean&gt;   &#x2F;&#x2F;自己写的环绕的类</span><br><span class="line"></span><br><span class="line">	&lt;aop:config&gt;</span><br><span class="line">		&lt;aop:aspect ref&#x3D;&quot;myadvice&quot;&gt;   &#x2F;&#x2F;弹到我们写的类(环绕 前置 后置等方法)</span><br><span class="line">			&lt;aop:pointcut expression&#x3D;&quot;execution(* com.bjsxt.test.Demo.demo01(String,int)) and args(name1,age1)&quot; id&#x3D;&quot;mypoint&quot;&#x2F;&gt;  &#x2F;&#x2F;切点信息</span><br><span class="line">			&lt;aop:before method&#x3D;&quot;mybefore&quot; pointcut-ref&#x3D;&quot;mypoint&quot; arg-names&#x3D;&quot;name1,age1&quot; &#x2F;&gt;  &#x2F;&#x2F;前置通知信息</span><br><span class="line">		</span><br><span class="line">		&#x2F;&#x2F;有两种： </span><br><span class="line">					1.after 异常也可以执行   </span><br><span class="line">					2.after-returning 异常就不会执行	</span><br><span class="line"></span><br><span class="line">			&lt;aop:after method&#x3D;&quot;myafter1&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;  </span><br><span class="line">			&lt;aop:after-returning method&#x3D;&quot;myafter2&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">			&lt;aop:after-throwing method&#x3D;&quot;mythrow&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;    &#x2F;&#x2F;异常通知信息</span><br><span class="line">			&lt;aop:around method&#x3D;&quot;myarround&quot; pointcut-ref&#x3D;&quot;mypoint&quot;&#x2F;&gt;  &#x2F;&#x2F;环绕的具体标签 aop：around</span><br><span class="line">		&lt;&#x2F;aop:aspect&gt;</span><br><span class="line">	&lt;&#x2F;aop:config&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;bean id&#x3D;&quot;demo&quot; class&#x3D;&quot;com.bjsxt.test.Demo&quot;&gt;&lt;&#x2F;bean&gt;  &#x2F;&#x2F;Demo类信息</span><br></pre></td></tr></table></figure>

<h2 id="测试Test类"><a href="#测试Test类" class="headerlink" title="测试Test类"></a>测试Test类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;	</span><br><span class="line">	&#x2F;&#x2F;因为我们是IOC 控制反转  将new和管理对象给了spring </span><br><span class="line">		ApplicationContext ac&#x3D;new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">		Demo demo &#x3D; ac.getBean(&quot;demo&quot;,Demo.class);   &#x2F;&#x2F;通过bean去找</span><br><span class="line">			demo.demo1(&quot;zhangsan&quot;,123);  &#x2F;&#x2F;传入参数执行方法</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="关于配置文件中的细节"><a href="#关于配置文件中的细节" class="headerlink" title="关于配置文件中的细节"></a>关于配置文件中的细节</h2><pre><code>1. 关于后置的标签(执行顺序和配置顺序有关)：
    1.1 after 异常也可以执行   
    1.2 after-returning 异常就不会执行

2. 关于前置标签的属性和使用问题
        &lt;aop:pointcut expression=&quot;execution(* com.bjsxt.test.Demo.demo01(String,int)) and args(name1,age1)&quot; id=&quot;mypoint&quot;/&gt;
        &lt;aop:before method=&quot;mybefore&quot; pointcut-ref=&quot;mypoint&quot; arg-names=&quot;name1,age1&quot; /&gt;
    注：     2.1 execution(* com.bjsxt.test.Demo.demo01()) 在后面加 and args()
         2.2 args()有几个参数 下面的arg-names就要有几个参数
         2.3 arg-names=&quot;&quot; 里面的参数名称必须和通知方法参数名对应(和你写的前置方法的参数一样!!)</code></pre><hr>
<h1 id="使用注解-基于Aspect"><a href="#使用注解-基于Aspect" class="headerlink" title="使用注解(基于Aspect)"></a>使用注解(基于Aspect)</h1><blockquote>
<p>告诉spring哪些类下的包有注解(默认不会自动找)</p>
</blockquote>
<h2 id="配置文件-引入xmlns：context"><a href="#配置文件-引入xmlns：context" class="headerlink" title="配置文件(引入xmlns：context)"></a>配置文件(引入xmlns：context)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">    xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;     &#x2F;&#x2F; 1. 引入这一行 xmlns:context</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context                       &#x2F;&#x2F; 2. 引入相关的location地址</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Component"><a href="#Component" class="headerlink" title="@Component"></a>@Component</h2><pre><code>1. 相当于bean标签(引入相关类)
2. 相当于bean id=&quot;&quot;  @Component(没有参数) -- 将类名首字母变小写(Demo -- demo)  
3. @Component(可以随意自定义名称)</code></pre><h2 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h2><h3 id="配置文件注解在哪些包"><a href="#配置文件注解在哪些包" class="headerlink" title="配置文件注解在哪些包"></a>配置文件注解在哪些包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;多个包就用逗号隔开</span><br><span class="line">&lt;context:component-scan base-package&#x3D;&quot;com.bjsxt.advice,com.bjsxt.test&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br></pre></td></tr></table></figure>

<h3 id="配置Demo切片类"><a href="#配置Demo切片类" class="headerlink" title="配置Demo切片类"></a>配置Demo切片类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Component   &#x2F;&#x2F;加这个注解 表明现在是给切片类写了id&#x3D;&quot;demo&quot;</span><br><span class="line">public class Demo &#123;</span><br><span class="line">	@Pointcut(&quot;execution(* com.bjsxt.test.Demo.demo01())&quot;)    &#x2F;&#x2F;demo01是切片</span><br><span class="line">	public void demo1()&#123;</span><br><span class="line">		System.out.println(&quot;demo01&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="配置前置-后置类"><a href="#配置前置-后置类" class="headerlink" title="配置前置/后置类"></a>配置前置/后置类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Component  &#x2F;&#x2F;要引入Demo切片类</span><br><span class="line">@Aspect     &#x2F;&#x2F;告诉我是一个切片类</span><br><span class="line">public class MyAdvice &#123;</span><br><span class="line">	</span><br><span class="line">	@Before(&quot;com.bjsxt.test.Demo.demo01()&quot;)  &#x2F;&#x2F;方法前面要用是哪个切片</span><br><span class="line">	public void mybefore() &#123;</span><br><span class="line">		System.out.println(&quot;前置&quot;);		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@After(&quot;com.bjsxt.test.Demo.demo01()&quot;)</span><br><span class="line">	public void myafter() &#123;</span><br><span class="line">		System.out.println(&quot;后置&quot;);		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="配置文件更改代理"><a href="#配置文件更改代理" class="headerlink" title="配置文件更改代理"></a>配置文件更改代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- </span><br><span class="line">		    true  使用cglib动态代理(注解)</span><br><span class="line">			false 使用jdk动态代理 </span><br><span class="line">	--&gt;</span><br><span class="line">	</span><br><span class="line">&lt;aop:aspectj-autoproxy proxy-target-class&#x3D;&quot;true&quot;&gt;&lt;&#x2F;aop:aspectj-autoproxy&gt;</span><br></pre></td></tr></table></figure>

<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Spring整合Mybatis" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/" class="article-date">
      <time datetime="2020-04-01T09:54:31.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/">Spring整合Mybatis</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="Spring整合Mybatis"><a href="#Spring整合Mybatis" class="headerlink" title="Spring整合Mybatis"></a>Spring整合Mybatis</h1><h2 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h2><p><img src="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/jar.png" alt></p>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p><img src="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/shujuku.png" alt></p>
<h2 id="spring的bean标签代替mybatis全局配置文件"><a href="#spring的bean标签代替mybatis全局配置文件" class="headerlink" title="spring的bean标签代替mybatis全局配置文件"></a>spring的bean标签代替mybatis全局配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">    xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">    xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">        http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!-- 数据封装类 </span><br><span class="line">  					替换mybatis里面连接数据库的文件  spring-jdbc.jar --&gt;  </span><br><span class="line">    &lt;bean id&#x3D;&quot;dataSouce&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;ssm&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;root&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;njdxrjgc7777777.&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  &lt;!-- 创建SqlSessionFactory对象  --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;factory&quot; class&#x3D;&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSouce&quot;&gt;&lt;&#x2F;property&gt;		   &lt;!-- 跳转到关于有数据库信息的bean --&gt; </span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;!-- 扫描器 相当于mybatis配置文件中mappers下的package标签  扫描mapper包下会给对应接口创建对象 --&gt;</span><br><span class="line">    &lt;bean class&#x3D;&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;basePackage&quot; value&#x3D;&quot;com.bjsxt.mapper&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    	&lt;property name&#x3D;&quot;sqlSessionFactory&quot; ref&#x3D;&quot;factory&quot;&gt;&lt;&#x2F;property&gt;         &lt;!-- 跳转到factory的bean里面 --&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h2 id="准备实体类"><a href="#准备实体类" class="headerlink" title="准备实体类"></a>准备实体类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public class Airport &#123;</span><br><span class="line">	private int id;</span><br><span class="line">	private String portName;</span><br><span class="line">	private String cityName;</span><br><span class="line">	public int getId() &#123;</span><br><span class="line">		return id;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setId(int id) &#123;</span><br><span class="line">		this.id &#x3D; id;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getPortName() &#123;</span><br><span class="line">		return portName;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setPortName(String portName) &#123;</span><br><span class="line">		this.portName &#x3D; portName;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getCityName() &#123;</span><br><span class="line">		return cityName;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setCityName(String cityName) &#123;</span><br><span class="line">		this.cityName &#x3D; cityName;</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;Airport [id&#x3D;&quot; + id + &quot;, portName&#x3D;&quot; + portName + &quot;, cityName&#x3D;&quot; + cityName + &quot;]&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用接口绑定写sql语句"><a href="#使用接口绑定写sql语句" class="headerlink" title="使用接口绑定写sql语句"></a>使用接口绑定写sql语句</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface AirportMapper &#123;</span><br><span class="line"></span><br><span class="line">	@Select(&quot;select * from airport&quot;)   &#x2F;&#x2F;注解的方式写sql语句</span><br><span class="line">	List&lt;Airport&gt; selAll();  &#x2F;&#x2F;返回值是实体类的一个list形式</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--------</span><br></pre></td></tr></table></figure>

<h2 id="使用接口写查询结果方法"><a href="#使用接口写查询结果方法" class="headerlink" title="使用接口写查询结果方法"></a>使用接口写查询结果方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface AirportService &#123;</span><br><span class="line">	List&lt;Airport&gt; show();  &#x2F;&#x2F;返回值是实体类的一个list形式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用实现类实现接口方法"><a href="#使用实现类实现接口方法" class="headerlink" title="使用实现类实现接口方法"></a>使用实现类实现接口方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class AirportServiceImpl implements AirportService &#123;</span><br><span class="line">	</span><br><span class="line">  &#x2F;&#x2F;添加接口实现</span><br><span class="line">	private AirportMapper airportMapper;</span><br><span class="line">	</span><br><span class="line"> &#x2F;&#x2F;生成get和set方法	</span><br><span class="line">	public AirportMapper getAirportMapper() &#123;</span><br><span class="line">		return airportMapper;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setAirportMapper(AirportMapper airportMapper) &#123;</span><br><span class="line">		this.airportMapper &#x3D; airportMapper;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;实现service层接口方法</span><br><span class="line">	@Override</span><br><span class="line">	public List&lt;Airport&gt; show() &#123;</span><br><span class="line">		return airportMapper.selAll(); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="在配置文件中加bean"><a href="#在配置文件中加bean" class="headerlink" title="在配置文件中加bean"></a>在配置文件中加bean</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- 由spring管理service类 --&gt;  </span><br><span class="line">   &lt;bean id&#x3D;&quot;airportService&quot; class&#x3D;&quot;com.bjsxt.service.impl.AirportServiceImpl&quot;&gt;</span><br><span class="line">   	&lt;property name&#x3D;&quot;airportMapper&quot; ref&#x3D;&quot;airportMapper&quot;&gt;&lt;&#x2F;property&gt;  &lt;!-- 实现类里面的那个对象在这里配置 --&gt;</span><br><span class="line">   &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="test类"><a href="#test类" class="headerlink" title="test类"></a>test类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class Test &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		</span><br><span class="line">	&#x2F;&#x2F;找spring容器配置文件地址</span><br><span class="line">		ApplicationContext ac&#x3D;new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);  &#x2F;&#x2F;默认从classes文件夹根目录开始寻找</span><br><span class="line">	&#x2F;&#x2F;执行方法	</span><br><span class="line">		AirportServiceImpl bean &#x3D; ac.getBean(&quot;airportService&quot;,AirportServiceImpl.class);  &#x2F;&#x2F;通过bean去实例化</span><br><span class="line">			List&lt;Airport&gt; list &#x3D; bean.show(); &#x2F;&#x2F;调用接口实现类方法</span><br><span class="line">			System.out.println(list);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="代码框架"><a href="#代码框架" class="headerlink" title="代码框架"></a>代码框架</h2><p><img src="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/kuangjia.png" alt></p>
<h2 id="执行过程分析"><a href="#执行过程分析" class="headerlink" title="执行过程分析"></a>执行过程分析</h2><pre><code>1. 准备jar包和数据库    
2. 准备好实体类(和数据库对的上)
3. 准备配置文件
    1. 准备替换mybatis和数据库连接信息的bean
    2. 准备刚才替换mybatis的文件的读入的bean
    3. 准备创建扫描器(相当于mappers下面的package标签)
    4. 准备要被spring管理的service类
4. 准备接口绑定的接口写sql语句
5. 准备service接口写返回的方法
6. 准备实体类实现接口返回结果
    1. 要准备接口绑定接口的对象
    2. 生成get和set方法
    3. 实现接口方法 返回结果!!
7. 准备service的bean
8. 准备实现test测试类
    1. 通过ApplicationContext找配置文件
    2. 通过对象调用bean方法查找到配置文件中的关于service类的bean去找实现类实现</code></pre><p><strong>执行结果：</strong></p>
<p><img src="/2020/04/01/Spring%E6%95%B4%E5%90%88Mybatis/jieguo.png" alt></p>
<hr>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/16/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/">18</a><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/18/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2025 Larkkkkkkk
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="http://bestwing.me" target="_blank">Sw'blog</a> by Swing
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>


<script src="/js/main.js"></script>


    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


    <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>

  </div>
</body>
</html>